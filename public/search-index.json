[
  {
    "title": "Auth.jsã¨Ruby on Railsã«ã‚ˆã‚‹ãƒ¦ãƒ¼ã‚¶ç®¡ç†",
    "summary": "ã ã‚Œã‚‚è§£èª¬ã—ã¦ãã‚Œãªã„ã®ã§ãƒ¡ãƒ¢",
    "tags": [
      "Next.js",
      "Ruby on Rails",
      "èªè¨¼",
      "Auth.js"
    ],
    "slug": "ruby/auth-js-ror-user-management",
    "folder": "ruby",
    "content": "\nå‰å›ã®ç¶šãã§ã™ï¼\n[Auth.jsã®åŸºç¤ (Google OAuthã‚’ä½¿ç”¨)](https://techblog-notes.vercel.app/afdc23b5-ec55-4c5e-8763-6bc649124448)\n\n# JWTèªè¨¼ã®å°å…¥\n\n---\n\nä»Šå›ï¼ŒAuth.jsã«ã‚ˆã‚Šå–å¾—ã—ãŸãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ã‚’ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã«æ¸¡ã—ãƒ¦ãƒ¼ã‚¶ç®¡ç†ã™ã‚‹æ‰‹æ³•ã¨ã—ã¦ä»¥ä¸‹ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’è¦ã—ã¾ã™ï¼\n\n1. Googleã®èªè¨¼ãŒæˆåŠŸã™ã‚‹ã¨Auth.jsãŒaccount.id_tokenã‚’å—ã‘å–ã‚‹ï¼ã“ã®ID ãƒˆãƒ¼ã‚¯ãƒ³ã¯GoogleãŒç™ºè¡Œã™ã‚‹JWTã§ã‚ã‚‹ï¼\n1. account.id_tokenã¯jwtã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã§ token.idTokenã«ä¿å­˜ã™ã‚‹ï¼\n1. ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«IDãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä¿å­˜ã™ã‚‹ï¼\n1. ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‹ã‚‰IDãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ã—ï¼Œ`fetch()`ã‚’ç”¨ã„ã¦ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã«é€ä¿¡ï¼\n1. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§IDãƒˆãƒ¼ã‚¯ãƒ³ã‚’æ¤œè¨¼ï¼ŒæˆåŠŸå¾Œã«åˆã‚ã¦ãƒ‡ãƒ¼ã‚¿ã‚’å‡¦ç†ã§ãã‚‹ï¼\n\nã“ã®ã‚ˆã†ã«ï¼Œçµæ§‹é¢å€’ãªå‡¦ç†ã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼(ã‚³ãƒ¼ãƒ‰è‡ªä½“ã¯ãã“ã¾ã§æ›¸ã‹ãªã„æ°—ãŒã™ã‚‹)\n\n## å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã™ã‚‹\n\nAuth.jsã§ã¯ï¼Œaccount.id_tokenã¯å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã®ï¼Œtokenã¨sessionã«id_tokenã¯å®šç¾©ã•ã‚Œã¦ã„ã¾ã›ã‚“ï¼ã—ã‹ã—ãã‚Œã§ã‚‚id_tokenã‚’æ¸¡ã—ãŸã„ã®ã§ï¼Œå®šç¾©ã—ã¾ã™ï¼\n\n```ts\n// types/next-auth.d.ts\nimport \"next-auth/jwt\";\n\ndeclare module \"next-auth/jwt\" {\n  interface JWT {\n    idToken?: string;\n  }\n}\n\ndeclare module \"next-auth\" {\n  interface Session {\n    user: {\n      idToken?: string;\n    } & DefaultSession[\"user\"];\n  }\n}\n```\n\n> `session.idToken`ã§ã„ã„ã‹ãªã¨æ€ã£ã¦ã„ãŸã‘ã©ï¼ŒV5ã§ã¯`session.user.idToken`ã«ã™ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ãŸã®ã§ã“ã®ã‚ˆã†ã«ã—ã¦ã¾ã™ï¼\n\n## ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã‚’ç”¨æ„ã™ã‚‹\n\n```ts\nimport NextAuth from \"next-auth\";\nimport Google from \"next-auth/providers/google\";\n\nexport const { handlers, signIn, signOut, auth } = NextAuth({\n  providers: [Google],\n  callbacks: {\n    async jwt({ token, account }) {\n      if (account) {\n        token.idToken = account.id_token;\n      }\n\n      return token;\n    },\n    async session({ session, token }) {\n      session.user.idToken = token.idToken;\n\n      return session;\n    },\n  },\n});\n```\n\nã“ã†ã™ã‚‹ã“ã¨ã§ï¼Œ`auth()`ã‹ã‚‰`user.idToken`ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼\n\n## ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã«IDãƒˆãƒ¼ã‚¯ãƒ³ã‚’æ¸¡ã™\n\nãƒˆãƒ¼ã‚¯ãƒ³æƒ…å ±ã¯bodyã§ã¯ãªãheaderã«å«ã‚ã‚‹ã®ãŒä¸€èˆ¬çš„ã§ã™ï¼`http://localhost:3001/auth/google`ã«æ¸¡ã™ã‚ˆã†ã«è¨­å®šã—ã¾ã™ï¼\n\n```tsx\nimport { auth } from \"@/auth\";\nimport { redirect } from \"next/navigation\";\nimport React from \"react\";\n\nexport default async function DashboardLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const session = await auth();\n\n  if (session) {\n    const idToken = session.user.idToken;\n\n    if (idToken) {\n      await fetch(\"http://localhost:3001/auth/google\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${idToken}`,\n        },\n      });\n    }\n  } else {\n    redirect(\"/signin\");\n  }\n\n  return <>{children}</>;\n}\n```\n\n# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å‡¦ç†\n\n---\n\n## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ\n\n```bash\nrails new backend --api -T\n```\n\n### gemã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\nä»Šå›ä½¿ã†gemã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼\n\n```ruby\ngem 'rack-cors', require: 'rack/cors'\ngem \"google-id-token\"\ngem 'dotenv-rails'\n```\n\n`bundle install`ã‚’å¿˜ã‚Œãšã«å®Ÿè¡Œã—ã¾ã—ã‚‡ã†\n\n### corsã®è¨­å®š\n\n`http://localhost:3000`ã‚’è¨±å¯ã—ã¾ã—ã‚‡ã†\n\n```ruby\n# config/initializers/cors.rb\nRails.application.config.middleware.insert_before 0, Rack::Cors do\n  allow do\n    origins \"http://localhost:3000\"\n\n    resource \"*\",\n      headers: :any,\n      methods: [:get, :post, :put, :patch, :delete, :options, :head]\n  end\nend\n```\n\n### ãƒãƒ¼ãƒˆã®ä¿®æ­£\n\n3000ç•ªã¯æ—¢ã«ãƒ•ãƒ­ãƒ³ãƒˆå´ã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã®ã§ï¼Œãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ã¯3001ç•ªã«è¨­å®šã—ã¾ã™ï¼\n\n```ruby\n# config/puma.rb\nport ENV.fetch(\"PORT\", 3001)\n```\n\n## ãƒ¢ãƒ‡ãƒ«ã®ä½œæˆ\n\n`google_sub`ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«ä¸€æ„ãªIDã‚’ç¤ºã—ã¦ãŠã‚Šï¼ŒIDãƒˆãƒ¼ã‚¯ãƒ³ã®æ¤œè¨¼æ™‚ã«å–å¾—ã§ãã¾ã™(ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ã‚‚å–å¾—ã§ãã‚‹)ï¼\n\n```bash\nrails generate model User google_sub:string name:string email:string picture:string\n```\n\n`rails db:migrate`ã‚’å¿˜ã‚Œãšã«å®Ÿè¡Œã—ã¾ã—ã‚‡ã†\n\n### ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®šç¾©ã™ã‚‹\n\nä½œæˆã—ãŸ`User`ãƒ¢ãƒ‡ãƒ«ã®`google_sub`ã¨`email`ã«ã¤ã„ã¦ï¼Œãã‚Œãã‚Œå¿…é ˆã‹ã¤ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªå€¤ã«ãƒãƒªãƒ‡ãƒ¼ãƒˆã—ã¾ã™ï¼\n\n```ruby\nclass User < ApplicationRecord\n  validates :google_sub, presence: true, uniqueness: true\n  validates :email, presence: true, uniqueness: true\nend\n```\n\n## ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®ä½œæˆ\n\n```bash\nrails generate controller sessions\n```\n\nå®Ÿè¡Œã™ã‚‹ã¨ï¼Œ`sessions_controller.rb`ãŒç”Ÿæˆã•ã‚Œã‚‹ã®ã§ï¼Œãã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦ã„ãã¾ã™ï¼\n\n```ruby\nclass SessionsController < ApplicationController\n  # ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®èª­ã¿è¾¼ã¿\n  require \"google-id-token\"\n\n  def google_auth\n    auth_header = request.headers[\"Authorization\"]\n\n    # ãƒˆãƒ¼ã‚¯ãƒ³ãŒå­˜åœ¨ã—ãªã„å ´åˆã€ã¾ãŸã¯å½¢å¼ãŒä¸æ­£ãªå ´åˆï¼Œunauthorizedã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™\n    unless auth_header&.start_with?(\"Bearer \")\n      return render json: { error: \"Unauthorized\" }, status: :unauthorized\n    end\n\n    # Authorizationãƒ˜ãƒƒãƒ€ãƒ¼ã‹ã‚‰IDãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–ã‚Šå‡ºã™\n    token = auth_header.split(\"Bearer \").last\n\n    # ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼\n    begin\n      # IDãƒˆãƒ¼ã‚¯ãƒ³ã‚’æ¤œè¨¼ã™ã‚‹ãŸã‚ã®ãƒãƒªãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆ\n      validator = GoogleIDToken::Validator.new\n      payload = validator.check(token, ENV[\"GOOGLE_CLIENT_ID\"])\n\n      sub = payload[\"sub\"]\n      email = payload[\"email\"]\n      name = payload[\"name\"]\n      picture = payload[\"picture\"]\n\n      # ãƒ¦ãƒ¼ã‚¶ãŒè¦‹ã¤ã‹ã‚Œã°æ›´æ–°ï¼Œè¦‹ã¤ã‹ã‚‰ãªã‘ã‚Œã°ä½œæˆ\n      user = User.find_or_create_by(google_sub: sub) do |u|\n        u.name = name\n        u.email = email\n        u.picture = picture\n      end\n\n      render json: { message: \"Login successful\", user: user }\n    rescue StandardError => e\n      Rails.logger.error \"Google Auth Error: #{e.message}\"\n\n      render json: { error: \"Invalid ID token\" }, status: :unauthorized\n    end\n  end\nend\n```\n\n### ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®è¨­å®š\n\n`auth/google`ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã¨ãã«`SessionsController`ã‚¯ãƒ©ã‚¹ã®`google_auth`ãƒ¡ã‚½ãƒƒãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã‚ˆã†ã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã—ã¾ã™ï¼\n\n```ruby\nRails.application.routes.draw do\n  # Define your application routes per the DSL in https://guides.rubyonrails.org/routing.html\n\n  # Reveal health status on /up that returns 200 if the app boots with no exceptions, otherwise 500.\n  # Can be used by load balancers and uptime monitors to verify that the app is live.\n  get \"up\" => \"rails/health#show\", as: :rails_health_check\n\n  # Defines the root path route (\"/\")\n  # root \"posts#index\"\n\n  post \"auth/google\", to: \"sessions#google_auth\"\nend\n```\n\n# ãƒ†ã‚¹ãƒˆ\n\nå®Ÿéš›ã«`http://localhost:3000`ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ï¼Œã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆï¼Œãƒ­ã‚°ã‚¤ãƒ³ï¼Œãƒ­ã‚°ã‚¢ã‚¦ãƒˆã‚’æ¤œè¨¼ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼æƒ³å®šé€šã‚Šã®æŒ™å‹•ãŒã•ã‚Œã‚Œã°æˆåŠŸã§ã™ï¼\n",
    "createdAt": "2025-07-11T15:12:53.696Z",
    "updatedAt": "2025-07-12T04:28:40.937Z"
  },
  {
    "title": "Auth.jsã®åŸºç¤ (Google OAuthã‚’ä½¿ç”¨)",
    "summary": "æœ€æ–°ã®Auth.jsã®ä½¿ã„æ–¹ã‚’ãƒ¡ãƒ¢",
    "tags": [
      "Next.js",
      "èªè¨¼",
      "Auth.js"
    ],
    "slug": "Next.js/auth-js-tutorial",
    "folder": "Next.js",
    "content": "\n# ãƒãƒ¼ã‚¸ãƒ§ãƒ³\n\n---\n\n```json\n\"next\": \"15.1.7\",\n\"next-auth\": \"^5.0.0-beta.25\",\n\"react\": \"^19.0.0\",\n\"react-dom\": \"^19.0.0\"\n```\n\n# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ\n\n---\n\nApp routerã‚’ä½¿ã£ã¦ã„ãã¾ã™ï¼\n\n```bash\n$ npx create-next-app@latest\nâœ” What is your project named? â€¦ frontend\nâœ” Would you like to use TypeScript? â€¦ Yes\nâœ” Would you like to use ESLint? â€¦ Yes\nâœ” Would you like to use Tailwind CSS? â€¦ Yes\nâœ” Would you like your code inside a `src/` directory? â€¦ No\nâœ” Would you like to use App Router? (recommended) â€¦ Yes\nâœ” Would you like to use Turbopack for `next dev`? â€¦ Yes\nâœ” Would you like to customize the import alias (`@/*` by default)? â€¦ No\n```\n\n## Auth.jsã®è¨­å®š\n\nå…¬å¼ã‚µã‚¤ãƒˆã®ã‚„ã‚Šæ–¹ã«å‰‡ã‚Šã¾ã™ï¼\n[Auth.js | Installation](https://authjs.dev/getting-started/installation?framework=next-js)\n\n### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install next-auth@beta\n```\n\n### ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼ã®ä½œæˆ\n\nãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒãƒˆãƒ¼ã‚¯ãƒ³ã‚„ãƒ¡ãƒ¼ãƒ«èªè¨¼ç”¨ã®ãƒãƒƒã‚·ãƒ¥ã‚’æš—å·åŒ–ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã™ã‚‹ãƒ©ãƒ³ãƒ€ãƒ ãªå€¤ã‚’ç”Ÿæˆã—ï¼Œè‡ªå‹•ã§`.env`ã‚ã‚‹ã„ã¯`.env.local`ã«ä¿å­˜ã•ã‚Œã¾ã™ï¼\n\n```bash\n$ npx auth secret\nğŸ“ Created [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å ´æ‰€].env.local with `AUTH_SECRET`.\n```\n\n# ã‚¢ãƒ—ãƒªã®ä¸‹æº–å‚™\n\n---\n\n## `Auth.ts`ã®ä½œæˆ\n\nã“ã“ã§ã¯ä½¿ç”¨ã—ãŸã„èªè¨¼ãƒ—ãƒ­ãƒã‚¤ãƒ€ã®æŒ‡å®šã‚„ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®è¨­å®šãªã©ãŒã§ãã¾ã™ï¼ã“ã“ã§ã¯å˜ç´”ã«googleã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ã®ã¿ã‚’ä½¿ç”¨ã—ã¾ã™ï¼\n\n```ts\n// ./auth.ts\nimport NextAuth from \"next-auth\";\nimport Google from \"next-auth/providers/google\";\n\nexport const { handlers, signIn, signOut, auth } = NextAuth({\n  providers: [Google],\n});\n```\n\n## `routes.ts`ã®ä½œæˆ\n\nä»Šå¾Œã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ç”¨ã®é–¢æ•°ã‚’ä½¿ã†ãŸã‚ã«ï¼Œã‚ã‚‰ã‹ã˜ã‚ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼\n\n```ts\n// ./app/api/auth/[...nextauth]/route.ts\nimport { handlers } from \"@/auth\"; // Referring to the auth.ts we just created\nexport const { GET, POST } = handlers;\n```\n\nã“ã‚Œã‚’è¨­å®šã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒè‡ªå‹•ã§ä½œæˆã•ã‚Œã¾ã™\n\n- `/api/auth/signin`ï¼ˆã‚µã‚¤ãƒ³ã‚¤ãƒ³ï¼‰\n- `/api/auth/signout`ï¼ˆã‚µã‚¤ãƒ³ã‚¢ã‚¦ãƒˆï¼‰\n- `/api/auth/session`ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±å–å¾—ï¼‰\n- `/api/auth/callback/:provider`ï¼ˆOAuth ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰\n- `/api/auth/csrf`ï¼ˆCSRF ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—ï¼‰\n\nã“ã‚Œã‚‰ãŒä½œæˆã•ã‚Œã‚‹ã“ã¨ã«ã‚ˆã‚Šé©åˆ‡ã«Auth.jsãŒç”¨æ„ã—ãŸé–¢æ•°ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼\n\n## Googleã®OAuthã‚’ä½¿ã†\n\nGoogle Cloudã‹ã‚‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ï¼Œã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆIDã¨ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼ã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™\nhttps://console.cloud.google.com/\n\n### èªè¨¼æƒ…å ±ã®ä½œæˆ\n\n`ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ > APIã¨ã‚µãƒ¼ãƒ“ã‚¹ > èªè¨¼æƒ…å ±`ã«ç§»å‹•ã—ï¼Œ`èªè¨¼æƒ…å ±ã‚’ä½œæˆ`ã—ã¾ã™ï¼ç¨®é¡ã¯ OAuth ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ ID ã‚’é¸æŠã—ã¦ãã ã•ã„ï¼\n\n### ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆIDã®è¨­å®š\n\nOAuth ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ ID ã®ä½œæˆã¯ä»¥ä¸‹ã®ã‚ˆã†ã«è¨­å®šã—ã¦ãã ã•ã„ï¼\n\n- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ç¨®é¡ ... ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³\n- åå‰ ... ä»»æ„ã®åå‰\n- æ‰¿èªæ¸ˆã¿ã® JavaScript ç”Ÿæˆå…ƒ ... http://localhost:3000\n- æ‰¿èªæ¸ˆã¿ã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ URI ... http://localhost:3000/api/auth/callback/google\n\n> åŒæ„ç”»é¢ã‚’ä½œæˆã—ã¦ã„ãªã„å ´åˆã¯ï¼Œäº‹å‰ã«ä½œæˆã™ã‚‹ã“ã¨ã‚’ä¿ƒã•ã‚Œã¾ã™ï¼ã¾ãŸä½œæˆå¾Œï¼Œã‚µã‚¤ãƒˆã‚’å†èª­ã¿è¾¼ã¿ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼\n\n### `.env.local`ã®ç·¨é›†\n\nOAuth ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ IDã®ä½œæˆãŒã†ã¾ãã„ãã¨ï¼Œã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ ID ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’å–å¾—ã§ãã¾ã™ï¼ã“ã‚Œã‚‰ã‚’`.env.local`ã«è¿½åŠ ã—ã¦ãŠãã¾ã™ï¼\n\n```env\nAUTH_GOOGLE_ID={CLIENT_ID}\nAUTH_GOOGLE_SECRET={CLIENT_SECRET}\n```\n\n# å®Ÿè£…\n\n---\n\n## signin/signoutã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½œæˆ\n\n### `components/signin.tsx`\n\nä»Šå›ã¯ï¼Œã‚µã‚¤ãƒ³ã‚¤ãƒ³ã—ãŸã®ã¡ã«`/dashboard`ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ï¼\n\n```tsx\nimport { signIn } from \"@/auth\";\n\nexport default function SignIn() {\n  return (\n    <form\n      action={async () => {\n        \"use server\";\n        await signIn(\"google\", { redirectTo: \"/dashboard\" });\n      }}\n    >\n      <button\n        type=\"submit\"\n        className=\"w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600\"\n      >\n        Sign in with Google\n      </button>\n    </form>\n  );\n}\n```\n\n### `components/signout.tsx`\n\n```tsx\nimport { signOut } from \"@/auth\";\n\nexport function SignOut() {\n  return (\n    <form\n      action={async () => {\n        \"use server\";\n        await signOut({ redirectTo: \"/\" });\n      }}\n    >\n      <button\n        type=\"submit\"\n        className=\"w-full bg-red-500 text-white py-2 px-4 rounded hover:bg-red-600\"\n      >\n        Sign Out\n      </button>\n    </form>\n  );\n}\n```\n\n## ãƒ­ã‚°ã‚¤ãƒ³å°‚ç”¨ãƒšãƒ¼ã‚¸ã®è¨­å®š\n\n`/dashboard`ä»¥ä¸‹ã®éšå±¤ã§ã¯ãƒ­ã‚°ã‚¤ãƒ³ã—ãªã„ã¨å…¥ã‚Œãªã„ã‚ˆã†ãªä»•çµ„ã¿ã«ã—ã¾ã™ï¼`auth()`ã‹ã‚‰ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±ã‚’å–å¾—ã—ï¼Œãã®å†…å®¹ã§`signin`ãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã™ã‚‹ã‹ï¼Œãã®ã¾ã¾dashboardãƒšãƒ¼ã‚¸ã‚’é–‹ãã‹åˆ†å²ã•ã›ã¾ã™ï¼ãã®ãŸã‚ã«`/dashboard/layout.tsx`ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ç·¨é›†ã—ã¾ã™ï¼\n\n```tsx\nimport { auth } from \"@/auth\";\nimport { redirect } from \"next/navigation\";\nimport React from \"react\";\n\nexport default async function DashboardLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const session = await auth();\n\n  if (!session) {\n    redirect(\"/signin\");\n  }\n\n  return <>{children}</>;\n}\n```\n\n## ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã®ä½¿ç”¨\n\n### `app/signin/page.tsx`\n\n```tsx\nimport SignIn from \"@/components/signin\";\n\nexport default function SignInPage() {\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-gray-100\">\n      <div className=\"bg-white p-8 rounded shadow-md w-full max-w-md\">\n        <h1 className=\"text-2xl font-bold mb-6 text-center\">Sign In</h1>\n        <SignIn />\n      </div>\n    </div>\n  );\n}\n```\n\n### `app/dashboard/page.tsx`\n\n```tsx\nimport { SignOut } from \"@/components/sign-out\";\n\nexport default function DashboardPage() {\n  return (\n    <div className=\"flex flex-col items-center justify-center min-h-screen bg-gray-100\">\n      <div className=\"bg-white p-8 rounded shadow-md w-full max-w-2xl\">\n        <h1 className=\"text-3xl font-bold mb-6 text-center\">Dashboard</h1>\n        <p className=\"mb-4 text-center\">Welcome to your dashboard!</p>\n        <div className=\"flex justify-center\">\n          <SignOut />\n        </div>\n      </div>\n    </div>\n  );\n}\n```\n\n# ãƒ†ã‚¹ãƒˆ\n\n---\n\n- http://localhost:3000\n- http://localhost:3000/signin\n- http://localhost:3000/dashboard\n\nã“ã‚Œã‚‰ã®ãƒšãƒ¼ã‚¸ã‚’é–‹ã„ã¦ï¼Œãã‚Œãã‚Œã®æŒ™å‹•ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ï¼\n\næ¬¡å›ã¯ï¼Œãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ã®çµ±åˆã«ã¤ã„ã¦è§£èª¬ã—ã¦ã„ãã¾ã™ï¼\n[Auth.jsã¨Ruby on Railsã«ã‚ˆã‚‹ãƒ¦ãƒ¼ã‚¶ç®¡ç†](https://techblog-notes.vercel.app/174f1269-0c19-419b-a9f5-09a691e2f342)\n",
    "createdAt": "2025-07-11T13:23:19.958Z",
    "updatedAt": "2025-07-11T13:23:19.958Z"
  },
  {
    "title": "Consideration of a Generative Method Using a Gaussian Mixture Model",
    "summary": "We constructed a basic generative model using a Gaussian Mixture Model (GMM).",
    "tags": [
      "python",
      "Machine Learning",
      "Data Science",
      "Mathematical Optimization"
    ],
    "slug": "Generative-AI/GMM-gen-ai",
    "folder": "Generative-AI",
    "content": "\n# Gaussian Mixture Model (GMM)\n\n- A clustering method.\n- Can also be used as a generative model.\n- Represents a given dataset as a combination of multiple Gaussian distributions.\n- Provides a probability density function, which explains its use as a generative model.\n- Can automatically determine the number of clusters.\n- Reveals the prior distribution of explanatory variable X (latent variable).\n\n## Gaussian Distribution (can be visualized as a graph in a two-dimensional space of x and y)\n\n$$\nN(x|\\mu,\\sigma^2)=\\frac{1}{\\sqrt{2\\pi\\sigma^2}}\\exp\\left\\{-\\frac{1}{2\\sigma^2}(x-\\mu)^2\\right\\}\n$$\n\n## Multivariate Normal Distribution (Can be viewed as a graph in three or more dimensions such as x, y, z...)\n\n$$\nN(\\mathbf x|\\mathbf\\mu,\\Sigma)=\\frac{1}{(2\\pi)^\\frac{m}{2}}\\frac{1}{|\\Sigma|^{\\frac{1}{2}}}\\exp\\left\\{-\\frac{1}{2}(\\mathbf x-\\mathbf\\mu)^T\\Sigma^{-1}(\\mathbf x-\\mathbf\\mu)\\right\\}\\quad\\left(\\mathbf x:\nRandom~variable~vector,\\mathbf\\mu:Average~vector,\\Sigma:Covariance~matrix\\right)\n$$\n\n## Mixture of Gaussian Distribution (Multiple peaks are formed)\n\n$$\np(\\mathbf x)=\\sum_{k=1}^n\\pi_kN(\\mathbf x|\\mu_k,\\Sigma_k)\\quad\\left(n:n ~Gaussian~distributions,k:k-th~Gaussian~distribution,\\pi_k:Mixture~coefficient\\left(Weight~of~each~Gaussian~distribution,\\sum_{k=1}^n\\pi_k=1\\right)\\right)\n$$\n\nReference: https://datachemeng.com/wp-content/uploads/gaussianmixturemodel.pdf\n\n# Prior distribution of Mixture Gaussian Distribution\n\nThe prior distribution here is the distribution of \"which cluster a variable belongs to after receiving it.\" If we define the latent variable as $\\mathbf z$, then $\\mathbf z$ is\n\n- A vector (i.e., a matrix) with a one-hot vector that is 1 in one cluster and 0 in the others.\n- If there is no information about the sample, the probability that $\\mathbf z_k=1$ is set to follow the mixture coefficient.\n  $$\n  p(\\mathbf z_k=1)=\\pi_k\n  $$\n\nIf this is not introduced, the area will not be 1 in the mixture Gaussian distribution (it is obvious that the sum of probabilities will exceed 1 if simply added).\n\n## Finding the prior distribution\n\nUsing Bayes' theorem, the probability that a sample $\\mathbf x$ will be $z_k=1$ given is\n\n$$\np(z_k=1|\\mathbf x)=\\frac{p(z_k=1)p(\\mathbf x|z_k=1)}{\\sum_{i=1}^np(z_k=1)p(\\mathbf x|z_i=1)}=\\frac{\\pi_kp(\\mathbf x|z_k=1)}{\\sum_{i=1}^n\\pi_ip(\\mathbf x|z_i=1)}=\\frac{\\pi_kN(\\mathbf x|\\mu_k,\\Sigma_k)}{\\sum_{i=1}^n\\pi_iN(\\mathbf x|\\mu_i,\\Sigma_i)}\n$$\n\nFrom this,\n\n$$\nk^\\star=\\arg\\max_kp(z_k=1|\\mathbf x)\n$$\n\nBy doing so, the cluster at a certain point $\\mathbf x$ can be estimated.\n\n# Creating a Mixture Gaussian Distribution\n\n## Definition of probability density function\n\n```py\n# Multivariate normal distribution\ndef gaussian_densty(x, mu, sigma): # (1, n), (1, n), (n, n)\n  diff = x - mu\n  sigma_inv = np.linalg.inv(sigma)\n  sigma_det = np.linalg.det(sigma)\n  z = np.exp(-np.dot(diff.T, np.dot(sigma_inv, diff)) / 2)\n\n  return z / np.sqrt(np.power(2*np.pi, len(mu)) * sigma_det) # (1, n)\n\n# Mixture Gaussian distribution\ndef mixture_gaussian_densty(x, mu_list, sigma_list, pi_list): # (1, n), (k, n), (k, n, n), (1, k)\n  z = 0\n  for i in range(len(pi_list)):\n    z += pi_list[i] * gaussian_densty(x, mu_list[i], sigma_list[i])\n  return z # (1, n)\n```\n\n> Note that only the probability density function has been created, so the corresponding code is required to sample it.\n\n## Using NumPy's Official Multivariate Normal Distribution\n\n```py\n# Generate samples from a multivariate normal distribution\ndef sample_multivariate_gaussian(mu, sigma, num_samples=1):\n    return np.random.multivariate_normal(mu, sigma, num_samples)\n\n# Generate samples from a mixture Gaussian distribution\ndef sample_mixture_gaussian(mu_list, sigma_list, pi_list, num_samples=100):\n    samples = []\n    num_clusters = len(pi_list)\n\n    # Determine the number of samples in each cluster\n    cluster_sizes = np.random.multinomial(num_samples, pi_list) # Randomly determine the number of samples in each cluster using the mixture coefficients\n\n    for i in range(num_clusters):\n        # Generate samples for each cluster\n        cluster_samples = sample_multivariate_gaussian(mu_list[i], sigma_list[i], cluster_sizes[i])\n        samples.append(cluster_samples)\n\n    # Combine the samples and return them\n    return np.vstack(samples)\n```\n\n## Preparing the data\n\n```py\n# Prepare sample data\n# Create a Gaussian mixture distribution with random variable X = [x0, x1], Mu = [mu0, mu1], and latent variable Z = [z0, z1, z2].\n\n# Cluster 0\nmu0 = np.array([0, -0.5])\nsigma0 = np.array([[1.0, 0], [0, 1.0]])\n# Cluster 1\nmu1 = np.array([2.5, 2])\nsigma1 = np.array([[0.5, 0.3], [0.3, 0.7]])\n\n# Cluster 2\nmu2 = np.array([-2, 1.5])\nsigma2 = np.array([[1.2, 0.2], [0.2, 0.4]])\n\n# Combine data\nmu_list = [mu0, mu1, mu2]\nsigma_list = [sigma0, sigma1, sigma2]\npi_list = [0.45, 0.25, 0.3]\n\n# Number of sample data points\nNUM_DATA = 500\n\n# Generate samples from the Gaussian mixture distribution\nsamples = sample_mixture_gaussian(mu_list, sigma_list, pi_list, num_samples=NUM_DATA)\n\nsamples[:10]\n```\n\n## Plotting the Gaussian Mixture Distribution\n\n```py\ndef plot_mixture_gaussian(mu_list, sigma_list, pi_list, samples=None, figsize=(8,6)):\n    x_range = np.linspace(-5, 5, 100)\n    y_range = np.linspace(-5, 5, 100)\n    X, Y = np.meshgrid(x_range, y_range)\n    Z = np.zeros((len(x_range), len(y_range)))\n\n    # Calculate the probability density for each coordinate\n    for i in range(len(x_range)):\n        for j in range(len(y_range)):\n            x = np.array([x_range[i], y_range[j]])\n            Z[i, j] = mixture_gaussian_densty(x, mu_list, sigma_list, pi_list)\n\n    plt.figure(figsize=figsize)\n    if samples is not None:\n        plt.scatter(samples[:, 1], samples[:, 0], color='red', s=10, label='Samples')\n    plt.contour(X, Y, Z, cmap='viridis')\n    plt.colorbar(label='Density')\n    plt.xlabel('x')\n    plt.ylabel('y')\n    plt.title('Mixture Gaussian Distribution')\n    plt.show()\n\nplot_mixture_gaussian(mu_list, sigma_list, pi_list, samples)\n```\n\n# Estimating Clusters from Samples\n\n`To be considered later`\n\n# Estimating Parameters of the Mixture Gaussian Distribution from Samples\n\n## Maximum Likelihood Estimation\n\n\"Likelihood maximization\" is one of the methods to estimate the distribution from the sample data.\n\n$$\nLikelihood~function:{\\cal L}(\\theta;\\mathbf x)=\\prod_{i=1}^nP(x_i;\\theta),\\quad Maximum~likelihood~estimator:\\theta^\\star=\\arg\\max_\\theta{\\cal L}(\\theta;\\mathbf x)\\quad(n:Number~of~samples)\n$$\n\nReference: https://cochineal19.hatenablog.com/entry/2021/11/08/003751\n\n## Define the log likelihood function\n\nIt's hard to calculate the likelihood function directly because it's a product of many probabilities. Therefore, it is common to use the log likelihood function.\n\nThere is no effect on the maximum value of the function because the logarithm is a monotonically increasing function.\n\n$$\n{\\cal L}(\\mu,\\Sigma,\\pi;\\mathbf x)=\\prod_{i=1}^np(\\mathbf x;\\mu,\\Sigma,\\pi)=\\prod_{i=1}^n\\sum_{k=1}^n\\pi_kN(\\mathbf x|\\mu_k,\\Sigma_k)\\\\\\to\\log{\\cal L}(\\mu,\\Sigma,\\pi;\\mathbf x)=\\log\\prod_{i=1}^n\\sum_{k=1}^n\\pi_kN(\\mathbf x|\\mu_k,\\Sigma_k)=\\sum_{i=1}^n\\log\\sum_{k=1}^n\\pi_kN(\\mathbf x|\\mu_k,\\Sigma_k)\n$$\n\n```py\ndef log_likelihood(mu_list, sigma_list, pi_list, sample):\n  log_likelihood = 0\n  for i in range(len(sample)):\n    log_likelihood += np.log(mixture_gaussian_densty(sample[i], mu_list, sigma_list, pi_list))\n\n  return log_likelihood\n```\n\n## Defining the Burden Rate\n\nSince we need to find the prior distribution \\( p(z|x) \\) of \\( p(x|z) \\), the prior probability of each cluster for a given data point \\( \\mathbf{x_i} \\) is expressed as follows:\n\n$$\np_{\\mu,\\Sigma,\\pi}(z_{ik}=1|\\mathbf{x_i}) = \\frac{\\pi_k{\\cal N}(\\mathbf{x_i};\\mu_k,\\Sigma_k)}{\\sum_{j=1}^K \\pi_j {\\cal N}(\\mathbf{x_i};\\mu_j,\\Sigma_j)} \\equiv \\gamma(z_{ik})\n$$\n\nIntuitively, we are calculating the probability that the distribution of each cluster fits the given data point.\n\n```py\ndef responsibility(data, mu_list, sigma_list, pi_list):\n    gamma = np.zeros((len(data), len(pi_list)))\n    for i in range(len(data)):\n        for j in range(len(pi_list)):\n            gamma[i, j] = pi_list[j] * gaussian_density(data[i], mu_list[j], sigma_list[j])\n        gamma[i] /= np.sum(gamma[i])\n    return gamma\n```\n\n### Classifying Using the Burden Rate\n\nTo perform classification, we need to find:\n\n$$\nz^\\star = \\argmax_{z_{ik}} \\gamma(z_{ik})\n$$\n\nThis gives us the cluster with the highest responsibility for each data point.\n\n```python\ndf = pd.DataFrame(samples[:, [1, 0]], columns=['x', 'y'])\ngamma = responsibility(samples, mu_list, sigma_list, pi_list)\ndf['gamma0'] = gamma[:, 0]\ndf['gamma1'] = gamma[:, 1]\ndf['gamma2'] = gamma[:, 2]\ndf['z_star'] = df[['gamma0', 'gamma1', 'gamma2']].idxmax(axis=1)\n\nx_range = np.linspace(-5, 5, 100)\ny_range = np.linspace(-5, 5, 100)\nX, Y = np.meshgrid(x_range, y_range)\nZ = np.zeros((len(x_range), len(y_range)))\n\n# Calculate probability density for each coordinate\nfor i in range(len(x_range)):\n    for j in range(len(y_range)):\n        x = np.array([x_range[i], y_range[j]])\n        Z[i, j] = mixture_gaussian_density(x, mu_list, sigma_list, pi_list)\n\nsns.scatterplot(x='x', y='y', hue='z_star', data=df, palette='viridis')\nplt.contour(X, Y, Z, cmap='viridis')\nplt.colorbar(label='Density')\nplt.xlabel('x')\nplt.ylabel('y')\nplt.title('Mixture Gaussian Distribution')\nplt.show()\n```\n\n## Learning\n\nTo maximize the log-likelihood, we need to solve:\n\n$$\n\\argmax_{\\mu,\\Sigma,\\pi} \\log {\\cal L}(\\mu, \\Sigma, \\pi; \\mathbf{x}) = \\argmax_{\\mu,\\Sigma,\\pi} \\sum_{i=1}^n \\log \\sum_{k=1}^K \\pi_k N(\\mathbf{x} | \\mu_k, \\Sigma_k)\n$$\n\nIn this case, the log-sum part makes it difficult to solve analytically â†’ We optimize it using the Expectation-Maximization (EM) algorithm.\n\n### Initialize the parameters\n\nSet randomly\n\n### E-Step\n\nCalculate the responsibility for each data point at the current step:\n\n$$\np_{\\mu,\\Sigma,\\pi}(z_{ik}=1|\\mathbf x_i)=\\frac{\\pi_k{\\cal N}(\\mathbf x_i;\\mu_k,\\Sigma_k)}{\\sum_{j=1}^K\\pi_j{\\cal N}(\\mathbf x_i;\\mu_j,\\Sigma_j)}\\equiv\\gamma(z_{ik})\n$$\n\n### M-Step\n\nUpdate the parameters to maximize the likelihood using the responsibilities:\n\n$$\n\\begin{aligned}\n&\\frac{\\partial{\\cal L}}{\\partial\\mu_k}=0\\to\\mu_k=\\frac{1}{N_k}\\sum_{i=1}^n\\gamma(z_{ik})\\mathbf x_i\\\\\n&\\frac{\\partial{\\cal L}}{\\partial\\Sigma_k}=0\\to\\Sigma_k=\\frac{1}{N_k}\\sum_{i=1}^n\\gamma(z_{ik})(\\mathbf x_i-\\mu_k)(\\mathbf x_i-\\mu_k)^T\n\\end{aligned}\n\\quad\\left(N_k=\\sum_{i=1}^n\\gamma(z_{ik})\\right)\n$$\n\nFor $\\pi_k$, since $\\sum_{k=1}^K\\pi_k=1$, we use the Lagrange multiplier method to maximize the likelihood:\n\n$$\n\\frac{\\partial G}{\\partial\\pi_k}=0\\to\\pi_k=\\frac{N_k}{\\sum_{k=1}^KN_k}\\quad\\left(G={\\cal L}+\\lambda\\left(\\sum_{k=1}^K\\pi_k-1\\right)\\right)\n$$\n\n### Convergence Condition\n\nIf the change in the likelihood meets a predefined threshold $\\epsilon$:\n\n$$\n{\\cal L}_{new}-{\\cal L}_{old}<\\epsilon\n$$\n\nthen stop the iterations; otherwise, repeat the EM steps.\n\n```python\n# Number of clusters (You can use methods to find the optimal number)\nK = 3\n\n# Initialize random mean vectors (2D)\nmu_list = [np.random.randn(2) for _ in range(K)]\n\n# Initialize random covariance matrices (2x2)\nsigma_list = []\nfor _ in range(K):\n    A = np.random.randn(2, 2)\n    sigma = np.dot(A, A.T)  # Create symmetric and positive definite matrices\n    sigma_list.append(sigma)\n\n# Initialize random mixing coefficients and normalize\npi_list = np.random.rand(K)\npi_list = pi_list / np.sum(pi_list)\n\n# Display the results\nprint(\"mu_list:\", mu_list)\nprint(\"sigma_list:\", sigma_list)\nprint(\"pi_list:\", pi_list)\n\nn_iter = 0\n\nlikely = log_likelihood(mu_list, sigma_list, pi_list, samples) / NUM_DATA\nprint('Iteration: {0}, log_likelihood: {1}'.format(n_iter, likely))\nplot_mixture_gaussian(mu_list, sigma_list, pi_list, samples, figsize=(4,3))\n\nth = 0.0001\n\nwhile True:\n  n_iter += 1\n\n  # E-Step\n  gamma = responsibility(samples, mu_list, sigma_list, pi_list)\n  n_k = np.sum(gamma, axis=0)\n\n  # M-Step\n\n  # Update pi\n  pi_list_next = (n_k / n_k.sum()).tolist()\n\n  # Update mu\n  mu_list_next = list(((samples.T @ gamma) / n_k).T)\n\n  # Update Sigma\n  sigma_list_next = []\n  for k in range(len(pi_list)):\n    sigma_k = np.zeros_like(sigma_list[k], dtype=float)\n    for i in range(len(samples)):\n      sigma_k += gamma[i, k] * np.matmul(\n          (samples[i] - mu_list[k]).reshape(-1, 1),\n          (samples[i] - mu_list[k]).reshape(1, -1)\n      )\n\n    sigma_list_next.append(sigma_k/n_k[k])\n\n  # Why deepcopy here? (Possibly due to reference issues)\n  # Also, why is 'next' converted to regular lists for all?\n  mu_list = copy.deepcopy(mu_list_next)\n  sigma_list = copy.deepcopy(sigma_list_next)\n  pi_list = copy.deepcopy(pi_list_next)\n\n  # Convergence condition\n  likely_before = likely\n  likely = log_likelihood(mu_list, sigma_list, pi_list, samples) / NUM_DATA\n  print('Iteration: {0}, log_likelihood: {1}'.format(n_iter, likely))\n  plot_mixture_gaussian(mu_list, sigma_list, pi_list, samples, figsize=(4,3))\n\n  delta = likely - likely_before\n  if delta < th:\n    break\n\n# Display results\nprint(\"mu_list:\", mu_list)\nprint(\"sigma_list:\", sigma_list)\nprint(\"pi_list:\", pi_list)\n```\n",
    "createdAt": "2025-07-09T03:20:03.308Z",
    "updatedAt": "2025-07-09T03:20:03.308Z"
  },
  {
    "title": "CSSã®åŸºç¤",
    "summary": "HTMLã‚’ã‹ã£ã“ã„ã„ãƒ‡ã‚¶ã‚¤ãƒ³ã«ã™ã‚‹ï¼",
    "tags": [
      "Web",
      "CSS",
      "HTML",
      "åŸºç¤"
    ],
    "slug": "html-css/basic-css",
    "folder": "html-css",
    "content": "\n# ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ããŸã‚ã®æº–å‚™\n\n---\n\n## é–‹ç™ºç’°å¢ƒãŒãªã„å ´åˆ\n\n1. ãƒ–ãƒ©ã‚¦ã‚¶ã§ _code pen_ ã¨æ¤œç´¢\n   [CodePen: Online Code Editor and Front End Web Developer ...](https://codepen.io/)\n1. ä¸€ç•ªä¸Šã®ã‚µã‚¤ãƒˆã‚’é–‹ã\n1. å·¦å´ã«ã‚ã‚‹ã€ŒStart Codingã€ã‚’æŠ¼ã™\n1. htmlã¨cssã‚’è©¦ã™ã“ã¨ãŒã§ãã‚‹ï¼\n\n# HTMLã¨ã¯\n\n1. **Hyper Text Markup Language**ã®ç•¥\n1. æ–‡ç« ã‚’æ›¸ãã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«ä¸Šã’ã‚‹ã“ã¨ãŒã§ãã‚‹\n1. ã€Œã‚¿ã‚°ã€ã«ã‚ˆã£ã¦æ–‡å­—ã«å½¹å‰²ã‚’ä¸ãˆã‚‹ã“ã¨ãŒã§ãã‚‹\n1. ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’å¤‰ãˆãŸã‚Šï¼Œå‹•ãã‚’ä¸ãˆã‚‹ã“ã¨ã¯HTMLã ã‘ã§ã¯ã»ã¼ä¸å¯èƒ½\n\n```HTML\n<!DOCTYPE html>\n<html>\n  <head>\n    <title>My First HTML</title>\n  </head>\n  <body>\n    <h1>My First Heading</h1>\n    <p>My first paragraph.</p>\n    <a href=\"#\">This is a link</a>\n  </body>\n</html>\n```\n\n## ã‚¿ã‚°ã®ç¨®é¡\n\n| ã‚¿ã‚°            | æ¦‚è¦                                             |\n| --------------- | ------------------------------------------------ |\n| `<html></html>` | htmlã®å¤–æ®»                                       |\n| `<head></head>` | ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ã‚¿ã‚¤ãƒˆãƒ«ã‚„æ–‡å­—ã‚³ãƒ¼ãƒ‰ãªã©æ±ºã‚ã‚‹å ´æ‰€ |\n| `<body></body>` | ã‚µã‚¤ãƒˆã®å†…å®¹ã‚’æ›¸ãå ´æ‰€                           |\n| `<h1></h1>`     | è¦‹å‡ºã—                                           |\n\nã»ã‹ã«ã‚‚ã‚ã¡ã‚ƒãã¡ã‚ƒã‚ã‚‹ï¼\n\n# CSSã¨ã¯\n\n---\n\n1. **Cascading Style Sheets** ã®ç•¥\n1. HTMLã«ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’æŒ‡å®šã§ãã‚‹\n\n# ãƒœãƒƒã‚¯ã‚¹ãƒ¢ãƒ‡ãƒ«ã‚’çŸ¥ã‚ã†ï¼\n\n---\n\n## WEBãƒšãƒ¼ã‚¸ã¯ãƒ–ãƒ­ãƒƒã‚¯ã®é›†ã¾ã‚Š\n\n### ãƒœãƒƒã‚¯ã‚¹ãƒ¢ãƒ‡ãƒ«ã¨ã¯ï¼Ÿ\n\nHTMLã®è¦ç´ ã¯ã™ã¹ã¦å››è§’å½¢ã®é ˜åŸŸã§æ§‹æˆã•ã‚Œã¦ã„ã‚‹ã¨ã„ã†è€ƒãˆæ–¹\n\n### ãƒšãƒ¼ã‚¸ã®æ§‹é€ \n\nWEBã‚µã‚¤ãƒˆã¯ãƒœãƒƒã‚¯ã‚¹ã‚’ä¸¦ã¹ãŸã‚Šï¼Œæ ¼ç´ã—ãŸã‚Šï¼Œé‡ã­ã¦ã„ã‚‹ã ã‘\n\n### ãƒ–ãƒ­ãƒƒã‚¯ã¨ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³\n\nãƒœãƒƒã‚¯ã‚¹ã¯ãƒ–ãƒ­ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã¨ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ãƒœãƒƒã‚¯ã‚¹ã«åˆ†ã‘ã‚‰ã‚Œã‚‹ (è©³ã—ãã¯åˆ¥ã®å›ã§)\n\n## é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ãƒšãƒ¼ã‚¸ã®æ§‹é€ ã‚’è¦‹ã¦ã¿ã‚ˆã†ï¼\n\n1. webãƒšãƒ¼ã‚¸ã‚’é–‹ã\n   [https://google.com](https://google.com)\n1. `f12`ã‚­ãƒ¼ã‚’æŠ¼ã™\n1. ã”ã¡ã‚ƒã”ã¡ã‚ƒã—ãŸç”»é¢ãŒå‡ºã¦ããŸã‚‰æˆåŠŸï¼\n\n## æ˜ç¤ºçš„ã«ãƒœãƒƒã‚¯ã‚¹ã‚’ã¤ãã‚ã†ï¼\n\n`<div>`ã‚¿ã‚°ã¯å­è¦ç´ ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ã¦ãã‚Œã‚‹ã‚ˆï¼\n\n```HTML\n<!DOCTYPE html>\n<html lang=\"ja\">\n\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>â—‹â—‹ãƒ†ãƒƒã‚¯è¬›åº§</title>\n  </head>\n\n  <body>\n\n    <div>\n      <h1>â—‹â—‹ãƒ†ãƒƒã‚¯è¬›åº§</h1>\n      <p>Webã‚µã‚¤ãƒˆã‚’ã¤ãã‚ã†ï¼</p>\n    </div>\n\n    <div>\n      <h2>æ´»å‹•å†…å®¹</h2>\n      <div>\n        <div>\n          <p>1. HTMLã¨CSSã®åŸºæœ¬ã‚’å­¦ã¶</p>\n          <p>2. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’ä½œæˆã™ã‚‹</p>\n        </div>\n        <div>\n          <p>3. JavaScriptã‚’ä½¿ã£ãŸã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªæ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹</p>\n          <p>4. Gitã¨GitHubã®ä½¿ã„æ–¹ã‚’ç¿’å¾—ã™ã‚‹</p>\n        </div>\n      </div>\n      <div>\n        <div>\n          <p>5. Rubyã‚’å­¦ã³ã€Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã™ã‚‹</p>\n          <p>6. ãƒãƒ¼ãƒ é–‹ç™ºã‚’ä½“é¨“ã™ã‚‹</p>\n        </div>\n        <div>\n          <p>7. ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚’ä½œæˆã™ã‚‹</p>\n          <p>8. ã‚‚ãã‚‚ãä¼šã‚’é–‹å‚¬ã™ã‚‹</p>\n        </div>\n    </div>\n\n    <div>\n      <div>\n        <h3>ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼</h3>\n        <div>\n          <p>ãƒ¡ãƒ³ãƒãƒ¼1: å±±ç”°å¤ªéƒ</p>\n          <p>ãƒ¡ãƒ³ãƒãƒ¼2: ä½è—¤èŠ±å­</p>\n        </div>\n        <div>\n          <p>ãƒ¡ãƒ³ãƒãƒ¼3: éˆ´æœ¨ä¸€éƒ</p>\n          <p>ãƒ¡ãƒ³ãƒãƒ¼4: ä¸­æ‘å¹¸å­</p>\n        </div>\n      </div>\n      <div>\n        <h3>ãŠå•ã„åˆã‚ã›</h3>\n        <div>\n          <p>ãƒ¡ãƒ¼ãƒ«: contact@example.com</p>\n          <p>é›»è©±: 03-1234-5678</p>\n        </div>\n      </div>\n    </div>\n\n  </body>\n\n</html>\n```\n\né–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ä»¥ä¸‹ã®äºŒç‚¹ã‚’ç¢ºèªã—ã‚ˆã†ï¼\n\n- divã‚¿ã‚°ã¯æ™®é€šç›®ã«ã¯è¦‹ãˆãªã„\n- divã‚¿ã‚°ã«ã‚ˆã£ã¦ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã•ã‚Œã¦ã„ã‚‹\n\n# è¦ç´ ã«åå‰ã‚’ã¤ã‘ã‚ˆã†ï¼\n\n---\n\n## è¦ç´ ã«åå‰ã‚’ã¤ã‘ã‚‹ã£ã¦ï¼Ÿï¼Ÿ\n\nè¦ç´ ã‚’ä¸¦ã¹ã‚‹ã¨ãã«ï¼Œ\n\n- ã€ŒåŒã˜ã‚¿ã‚°ã‚’åŒºåˆ¥ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€\n- ã€Œä»–ã¨ã¯é•ã†è¦ç´ ã ã¨ç¤ºã—ãŸã„ã€\n- ã€Œè¦ç´ ã‚’ã‚°ãƒ«ãƒ¼ãƒ—ã«åˆ†ã‘ãŸã„ã€\n- ã€Œåå‰ã‚’ã¤ã‘ã¦èª­ã¿ã‚„ã™ãã—ãŸã„ã€\n\nãªã©ã®å ´åˆã«ï¼Œåå‰ã‚’ä»˜ã‘ã¾ã™ï¼ã¤ã‘ãŸåå‰ã¯ï¼ŒCSSã‚„JavaScriptã§ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ï¼ãã®è¦ç´ ã ã‘ãŒæŒã¤ã€Œidã€ã¨æ‰€å±ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ç¤ºã™ã€Œclassã€ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼\n\n```html\n<!DOCTYPE html>\n<html>\n  <head>\n    <title>My First HTML</title>\n  </head>\n  <body>\n    <div id=\"title\">\n      {/*idã‚’æŒ‡å®š*/}\n      <h1>My First HTML</h1>\n      <p>Welcome to my first HTML page.</p>\n    </div>\n    <div id=\"foods\" class=\"menu\">\n      {/*idã¨classã‚’æŒ‡å®š*/}\n      <h2>My Favorite Foods</h2>\n      <ul>\n        <li>Pizza</li>\n        <li>Ice Cream</li>\n        <li>Chocolate</li>\n      </ul>\n    </div>\n    <div id=\"movies\" class=\"menu\">\n      {/*idã¨classã‚’æŒ‡å®š*/}\n      <h2>My Favorite Movies</h2>\n      <ol>\n        <li>Star Wars</li>\n        <li>Indiana Jones</li>\n        <li>Back to the Future</li>\n      </ol>\n    </div>\n  </body>\n</html>\n```\n\n## idã¨classã®é•ã„\n\n### class\n\n```html\n<è¦ç´ å class=â€œã‚¯ãƒ©ã‚¹åâ€>\n```\n\nã»ã‹ã®è¦ç´ ã«ã‚‚åŒã˜ã‚¯ãƒ©ã‚¹åã‚’ã¤ã‘ã¦ã‚ˆã„ï¼ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã‚’ã™ã‚‹ã®ãŒä¸»ãªç›®çš„\n\n### id\n\n```html\n<è¦ç´ å id=â€œidâ€>\n```\n\nclassã¨ã¯é•ã„ä¸€æ„ã®å€¤ã§ãªã‘ã‚Œã°ãªã‚‰ãªã„ã¨ã„ã†è¦å‰‡ãŒã‚ã‚‹\n\n## å„è¦ç´ ã«åå‰ã‚’ã¤ã‘ã‚ˆã†\n\n```html\n<!DOCTYPE html>\n<html lang=\"ja\">\n\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>â—‹â—‹ãƒ†ãƒƒã‚¯è¬›åº§</title>\n    <link rel=\"stylesheet\" href=\"stylesheet.css\">\n  </head>\n\n  <body>\n\n    <div id=\"header\">\n      <h1>â—‹â—‹ãƒ†ãƒƒã‚¯è¬›åº§</h1>\n      <p>Webã‚µã‚¤ãƒˆã‚’ã¤ãã‚ã†ï¼</p>\n    </div>\n\n    <div id=\"activities\">\n      <h2>æ´»å‹•å†…å®¹</h2>\n      <div id=\"first-semister\" class=\"activity-list\">\n        <div>\n          <p>1. HTMLã¨CSSã®åŸºæœ¬ã‚’å­¦ã¶</p>\n          <p>2. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’ä½œæˆã™ã‚‹</p>\n        </div>\n        <div>\n          <p>3. JavaScriptã‚’ä½¿ã£ãŸã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªæ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹</p>\n          <p>4. Gitã¨GitHubã®ä½¿ã„æ–¹ã‚’ç¿’å¾—ã™ã‚‹</p>\n        </div>\n      </div>\n      <div id=\"second-semister\" class=\"activity-list\">\n        <div>\n          <p>5. Rubyã‚’å­¦ã³ã€Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã™ã‚‹</p>\n          <p>6. ãƒãƒ¼ãƒ é–‹ç™ºã‚’ä½“é¨“ã™ã‚‹</p>\n        </div>\n        <div>\n          <p>7. ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚’ä½œæˆã™ã‚‹</p>\n          <p>8. ã‚‚ãã‚‚ãä¼šã‚’é–‹å‚¬ã™ã‚‹</p>\n        </div>\n    </div>\n\n    <div id=\"team-contact\">\n      <div class=\"team-section\">\n        <h3>ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼</h3>\n        <div>\n          <p>ãƒ¡ãƒ³ãƒãƒ¼1: å±±ç”°å¤ªéƒ</p>\n          <p>ãƒ¡ãƒ³ãƒãƒ¼2: ä½è—¤èŠ±å­</p>\n        </div>\n        <div>\n          <p>ãƒ¡ãƒ³ãƒãƒ¼3: éˆ´æœ¨ä¸€éƒ</p>\n          <p>ãƒ¡ãƒ³ãƒãƒ¼4: ä¸­æ‘å¹¸å­</p>\n        </div>\n      </div>\n      <div class=\"contact-section\">\n        <h3>ãŠå•ã„åˆã‚ã›</h3>\n        <div>\n          <p>ãƒ¡ãƒ¼ãƒ«: contact@example.com</p>\n          <p>é›»è©±: 03-1234-5678</p>\n        </div>\n      </div>\n    </div>\n\n  </body>\n\n</html>\n```\n\nã§ãã‚ãŒã£ãŸã‚‰Live-serverã§ã‚µã‚¤ãƒˆã‚’ç«‹ã¡ä¸Šã’ï¼Œf12ã§æ¢ç´¢ã—ã‚ˆã†ï¼\né–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ä»¥ä¸‹ã®ä¸€ç‚¹ã‚’ç¢ºèªã—ã‚ˆã†ï¼\n\n- ã€Œelementsã€ã‚¿ãƒ–ã«è¡¨ç¤ºã•ã‚Œã‚‹å„è¦ç´ ã«åå‰ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹\n\n# CSSã®æ›¸ãæ–¹\n\n---\n\n## ä¸‰ç¨®é¡ã®æ›¸ãæ–¹\n\n### ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«\n\nç‰¹å®šã®è¦ç´ ã«å¯¾ã—ã¦ç›´æ¥ã‚¹ã‚¿ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹æ‰‹æ³•\n\nç›´æ„Ÿçš„ã ãŒï¼ŒåŒã˜ã‚³ãƒ¼ãƒ‰ã‚’ä½•åº¦ã‚‚æ›¸ãå¿…è¦ãŒã‚ã‚‹å ´åˆãŒå­˜åœ¨ã™ã‚‹\n\n### å†…éƒ¨ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ\n\nHTMLãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­ã«CSSã‚’æ›¸ãæ¬„ã‚’è¨­ã‘ï¼Œã‚»ãƒ¬ã‚¯ã‚¿ã«ã‚ˆã£ã¦ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å‰²ã‚Šå½“ã¦ã‚‹æ‰‹æ³•ï¼\n\nå¤–éƒ¨ãƒ•ã‚¡ã‚¤ãƒ«ãŒã„ã‚‰ãªã„ãŒï¼Œã»ã‹ã®ãƒšãƒ¼ã‚¸ã§ã‚³ãƒ¼ãƒ‰ã®å†åˆ©ç”¨ãŒã§ããªã„\n\n### å¤–éƒ¨ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ\n\nCSSã‚’è¨˜è¿°ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”¨æ„ã—ï¼Œã‚»ãƒ¬ã‚¯ã‚¿ã«ã‚ˆã£ã¦ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å‰²ã‚Šå½“ã¦ã‚‹æ‰‹æ³•ï¼\n\nã‚¹ã‚¿ã‚¤ãƒ«ã®å…±é€šåŒ–ãŒã§ãï¼Œç®¡ç†ã‚‚ã—ã‚„ã™ã„\n\n## åŸºæœ¬æ–‡æ³•\n\n1. ã‚»ãƒ¬ã‚¯ã‚¿ã§å¯¾è±¡ã®è¦ç´ ã‚’æŒ‡å®šã™ã‚‹\n1. ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§è¨­å®šã—ãŸã„ã‚¹ã‚¿ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹\n1. ãƒãƒªãƒ¥ãƒ¼ã§ã‚¹ã‚¿ã‚¤ãƒ«ã®æ•°å€¤ã‚’é©ç”¨ã™ã‚‹\n\n## ã‚»ãƒ¬ã‚¯ã‚¿ã«ã‚ˆã‚‹è¦ç´ ã®æŒ‡å®šæ–¹æ³•ä¾‹\n\n| ã‚»ãƒ¬ã‚¯ã‚¿                      | æ§‹æ–‡ä¾‹                 | æ¦‚è¦                                   |\n| ----------------------------- | ---------------------- | -------------------------------------- |\n| è¦ç´ ã‚»ãƒ¬ã‚¯ã‚¿                  | `div`                  | æŒ‡å®šã®ã‚¿ã‚°ã‚’æŒã¤è¦ç´ ã«é©ç”¨             |\n| ã‚¯ãƒ©ã‚¹ã‚»ãƒ¬ã‚¯ã‚¿                | `.hogeHope`            | æŒ‡å®šã®ã‚¯ãƒ©ã‚¹ã‚’æŒã¤è¦ç´ ã«é©ç”¨           |\n| IDã‚»ãƒ¬ã‚¯ã‚¿                    | `#fuga_fuga`           | æŒ‡å®šã®IDã‚’æŒã¤è¦ç´ ã«é©ç”¨               |\n| IDã‚»ãƒ¬ã‚¯ã‚¿ and ã‚¯ãƒ©ã‚¹ã‚»ãƒ¬ã‚¯ã‚¿ | `#fuga_fuga .hogeHope` | è¦ªè¦ç´ ãŒæŒ‡å®šã•ã‚ŒãŸä¸­ã®æŒ‡å®šã‚¯ãƒ©ã‚¹ã«é©ç”¨ |\n| è¦ç´ ã‚»ãƒ¬ã‚¯ã‚¿ or è¦ç´ ã‚»ãƒ¬ã‚¯ã‚¿  | `div, h1`              | è¤‡æ•°ç¨®é¡ã®ã‚¿ã‚°ã«é©ç”¨                   |\n\nã»ã‹ã«ã‚‚ãŸãã•ã‚“ã®ã‚»ãƒ¬ã‚¯ãƒˆæ‰‹æ³•ãŒã‚ã‚‹ã‚ˆï¼\n\n## ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ä¾‹\n\n| ã‚°ãƒ«ãƒ¼ãƒ—     | ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£         | æ¦‚è¦                               |\n| ------------ | ------------------ | ---------------------------------- |\n| ãƒ†ã‚­ã‚¹ãƒˆé–¢é€£ | `color`            | ãƒ†ã‚­ã‚¹ãƒˆã®è‰²ã‚’å¤‰æ›´ã™ã‚‹             |\n|              | `font-size`        | ãƒ†ã‚­ã‚¹ãƒˆã®ã‚µã‚¤ã‚ºã‚’å¤‰æ›´ã™ã‚‹         |\n|              | `text-align`       | å·¦æƒãˆã€ä¸­å¤®æƒãˆã€å³æƒãˆã‚’æŒ‡å®šã™ã‚‹ |\n| ãƒœãƒƒã‚¯ã‚¹é–¢é€£ | `padding`          | ãƒœãƒƒã‚¯ã‚¹å†…å´ã®ä½™ç™½ã®å¹…ã‚’æŒ‡å®šã™ã‚‹   |\n|              | `margin`           | ãƒœãƒƒã‚¯ã‚¹å¤–å´ã®ä½™ç™½ã®å¹…ã‚’æŒ‡å®šã™ã‚‹   |\n|              | `border`           | ãƒœãƒƒã‚¯ã‚¹ã®æ ç·šã‚’è¨­å®šã™ã‚‹           |\n| èƒŒæ™¯é–¢é€£     | `background-color` | èƒŒæ™¯è‰²ã‚’å¤‰æ›´ã™ã‚‹                   |\n| é…ç½®é–¢é€£     | `display`          | æ¨ªä¸¦ã³ã«ã—ãŸã‚Šç¸¦ä¸¦ã³ã«ã—ãŸã‚Šã™ã‚‹   |\n\nã»ã‹ã«ã‚‚ãŸãã•ã‚“ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒã‚ã‚‹ã‚ˆï¼\n\n## ãƒãƒªãƒ¥ãƒ¼ã®ä¾‹\n\n| ã‚°ãƒ«ãƒ¼ãƒ— | ãƒãƒªãƒ¥ãƒ¼ä¾‹       | æ¦‚è¦                                                   |\n| -------- | ---------------- | ------------------------------------------------------ |\n| ã‚µã‚¤ã‚º   | `1024px`         | 1ãƒ”ã‚¯ã‚»ãƒ«=0.26mm                                       |\n|          | `16rem`          | 1rem=ãƒ«ãƒ¼ãƒˆã®è¦ç´ ã®ãƒ†ã‚­ã‚¹ãƒˆã‚µã‚¤ã‚ºï¼ˆæ¨å¥¨ï¼‰              |\n|          | `100vw, 100vh`   | 100vw=æ¨ªå¹…ã®ã‚µã‚¤ã‚ºã€100vh=ç¸¦å¹…ã®ã‚µã‚¤ã‚º                 |\n| è‰²       | `red`            | åå‰                                                   |\n|          | `#ff0000`        | 16é€²æ•°                                                 |\n|          | `rgb(255, 0, 0)` | rgbè¡¨ç¾                                                |\n| ãã®ä»–   | `flex`           | `display: flex`ã®ã‚ˆã†ã«ä½¿ã†ã€‚å­è¦ç´ ã‚’æ¨ªä¸¦ã³ã«ã§ãã‚‹    |\n| é…ç½®é–¢é€£ | `none`           | `border: none`ã®ã‚ˆã†ã«ä½¿ã†ã€‚æ ç·šã‚’å–ã‚Šæ¶ˆã™ã“ã¨ãŒã§ãã‚‹ |\n\nã»ã‹ã«ã‚‚ãŸãã•ã‚“ã®ãƒãƒªãƒ¥ãƒ¼ãŒã‚ã‚‹ã‚ˆï¼\n\n# CSSã‚’é©ç”¨ã™ã‚‹ä¸€é€£ã®æµã‚Œ\n\nä¸€æ—¦æ•´ç†ã—ã‚ˆã†\n\n---\n\n## 1. index.htmlã‚’æ›¸ã\n\n1. headéƒ¨åˆ†ãªã©åŸºç›¤ã‚’ä½œã‚‹\n1. bodyå†…ã«è¡¨ç¤ºã™ã‚‹å†…å®¹ã‚’æ›¸ã\n1. é©å®œclassã‚„idã‚’è¦ç´ ã«ä¸ãˆã‚‹\n1. ä»Šå›ã¯ã•ã£ãä½œã£ãŸhtmlãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ã£ã¡ã‚ƒãŠã†ï¼\n\n## 2. cssãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ãï¼Œindex.htmlã§cssãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹\n\n1. index.htmlã¨åŒã˜å ´æ‰€ã«ã€Œstylesheet.cssã€ã‚’é…ç½®ï¼\n1. æ¬¡ã«ï¼Œindex.htmlãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã\n1. `<head>`å†…ã«`<link rel=â€œstylesheetâ€ href=â€œstylesheet.cssâ€>`ã‚’è¿½åŠ ï¼\n\n```html\n<head>\n  <meta charset=\"UTF-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n  <title>â—‹â—‹ãƒ†ãƒƒã‚¯è¬›åº§</title>\n  <link rel=\"stylesheet\" href=\"stylesheet.css\" />\n</head>\n```\n\nã“ã‚Œã§htmlãƒ•ã‚¡ã‚¤ãƒ«ã¨cssã‚’ã¤ãªã’ã‚‹ã“ã¨ãŒã§ããŸï¼\n\n## 3. cssã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã\n\n1.  ã‚»ãƒ¬ã‚¯ã‚¿ã‚’ä½¿ã£ã¦é©ç”¨ã™ã‚‹è¦ç´ ã‚’æŒ‡å®šã™ã‚‹\n1.  ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æ›¸ãï¼Œãƒ‡ã‚¶ã‚¤ãƒ³ã™ã‚‹\n1.  ã‚»ãƒ¬ã‚¯ã‚¿Ã—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®çµ„ã‚’ä¸¦ã¹ã¦ã„ã\n\nã²ã¨ã¾ãšbodyè¦ç´ ã«cssã‚’é©ç”¨ã—ã¦ï¼Œã©ã®ã‚ˆã†ã«ãƒ‡ã‚¶ã‚¤ãƒ³ãŒå¤‰ã‚ã‚‹ã‹ç¢ºèªã—ã¦ã¿ã‚ˆã†ï¼\n\n```css\nbody {\n  font-family: Arial, sans-serif; /*ãƒ•ã‚©ãƒ³ãƒˆã‚’æŒ‡å®š*/\n  line-height: 1.6; /*è¡Œé–“ã‚’1.6å€ã«*/\n  margin: 0; /*ãƒšãƒ¼ã‚¸ã®å¤–å´ã®ä½™ç™½ã‚’0ã«*/\n  padding: 0; /*ãƒšãƒ¼ã‚¸ã®å†…å´ã®ä½™ç™½ã‚’0ã«*/\n  background-color: #f9f9f9; /*èƒŒæ™¯è‰²ã‚’æŒ‡å®š*/\n  color: #333; /*æ–‡å­—è‰²ã‚’æŒ‡å®š*/\n}\n```\n\n> CSSã¯è¦šãˆã‚ˆã†ã¨ã™ã‚‹ã¨é ­çˆ†ç™ºã—ã¾ã™ï¼å®Ÿè·µã‚ã‚‹ã®ã¿ï¼\n\n# 4. æ¼”ç¿’\n\nèª¬æ˜ã—ã¦ã„ãªã„ã‚»ãƒ¬ã‚¯ã‚¿ã‚„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãªã©ãŒãŸãã•ã‚“å‡ºã¦ãã‚‹ã®ã§ãœã²èª¿ã¹ãªãŒã‚‰æ›¸ã„ã¦ãã ã•ã„ï¼\n\n---\n\n## ç¾æ™‚ç‚¹ã®htmlã‚³ãƒ¼ãƒ‰\n\n```html\n<!DOCTYPE html>\n<html lang=\"ja\">\n\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>â—‹â—‹ãƒ†ãƒƒã‚¯è¬›åº§</title>\n    <link rel=\"stylesheet\" href=\"stylesheet.css\">\n  </head>\n\n  <body>\n\n    <div id=\"header\">\n      <h1>â—‹â—‹ãƒ†ãƒƒã‚¯è¬›åº§</h1>\n      <p>Webã‚µã‚¤ãƒˆã‚’ã¤ãã‚ã†ï¼</p>\n    </div>\n\n    <div id=\"activities\">\n      <h2>æ´»å‹•å†…å®¹</h2>\n      <div id=\"first-semister\" class=\"activity-list\">\n        <div>\n          <p>1. HTMLã¨CSSã®åŸºæœ¬ã‚’å­¦ã¶</p>\n          <p>2. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’ä½œæˆã™ã‚‹</p>\n        </div>\n        <div>\n          <p>3. JavaScriptã‚’ä½¿ã£ãŸã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªæ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹</p>\n          <p>4. Gitã¨GitHubã®ä½¿ã„æ–¹ã‚’ç¿’å¾—ã™ã‚‹</p>\n        </div>\n      </div>\n      <div id=\"second-semister\" class=\"activity-list\">\n        <div>\n          <p>5. Rubyã‚’å­¦ã³ã€Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã™ã‚‹</p>\n          <p>6. ãƒãƒ¼ãƒ é–‹ç™ºã‚’ä½“é¨“ã™ã‚‹</p>\n        </div>\n        <div>\n          <p>7. ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚’ä½œæˆã™ã‚‹</p>\n          <p>8. ã‚‚ãã‚‚ãä¼šã‚’é–‹å‚¬ã™ã‚‹</p>\n        </div>\n    </div>\n\n    <div id=\"team-contact\">\n      <div class=\"team-section\">\n        <h3>ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼</h3>\n        <div>\n          <p>ãƒ¡ãƒ³ãƒãƒ¼1: å±±ç”°å¤ªéƒ</p>\n          <p>ãƒ¡ãƒ³ãƒãƒ¼2: ä½è—¤èŠ±å­</p>\n        </div>\n        <div>\n          <p>ãƒ¡ãƒ³ãƒãƒ¼3: éˆ´æœ¨ä¸€éƒ</p>\n          <p>ãƒ¡ãƒ³ãƒãƒ¼4: ä¸­æ‘å¹¸å­</p>\n        </div>\n      </div>\n      <div class=\"contact-section\">\n        <h3>ãŠå•ã„åˆã‚ã›</h3>\n        <div>\n          <p>ãƒ¡ãƒ¼ãƒ«: contact@example.com</p>\n          <p>é›»è©±: 03-1234-5678</p>\n        </div>\n      </div>\n    </div>\n\n  </body>\n\n</html>\n```\n\n## ã‚¿ã‚°ã«å¯¾ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°\n\nå„ã‚¿ã‚°ã«å¯¾ã—é©ç”¨\n\n```CSS\nbody {\n  font-family: Arial, sans-serif; /*ãƒ•ã‚©ãƒ³ãƒˆã‚’æŒ‡å®š*/\n  line-height: 1.6; /*è¡Œé–“ã‚’1.6å€ã«*/\n  margin: 0; /*ãƒšãƒ¼ã‚¸ã®å¤–å´ã®ä½™ç™½ã‚’0ã«*/\n  padding: 0; /*ãƒšãƒ¼ã‚¸ã®å†…å´ã®ä½™ç™½ã‚’0ã«*/\n  background-color: #f9f9f9; /*èƒŒæ™¯è‰²ã‚’æŒ‡å®š*/\n  color: #333; /*æ–‡å­—è‰²ã‚’æŒ‡å®š*/\n}\n\ndiv {\n  padding: 20px; /*è¦ç´ ã®å†…å´ã®ä½™ç™½ã‚’20pxã«*/\n  max-width: 800px; /*è¦ç´ ã®æœ€å¤§å¹…ã‚’800pxã«*/\n  margin: 20px auto; /*è¦ç´ ã‚’ä¸­å¤®å¯„ã›ã«*/\n  background-color: #fff; /*èƒŒæ™¯è‰²ã‚’æŒ‡å®š*/\n  border-radius: 8px; /*è§’ä¸¸ã‚’8pxã«*/\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) /*å½±ã‚’æŒ‡å®š*/;\n}\n\nh1, h2, h3 { /*h1, h2, h3ã‚¿ã‚°ã‚’æŒ‡å®š*/\n  color: #444; /*è¦‹å‡ºã—ã®æ–‡å­—è‰²ã‚’æŒ‡å®š*/\n}\n\nh1 {\n  font-size: 2.5em; /*è¦‹å‡ºã—ã®æ–‡å­—ã‚µã‚¤ã‚ºã‚’2.5emã«*/\n  margin-bottom: 10px; /*è¦‹å‡ºã—ã®ä¸‹ã®ä½™ç™½ã‚’10pxã«*/\n}\n\nh2 {\n  font-size: 1.8em; /*è¦‹å‡ºã—ã®æ–‡å­—ã‚µã‚¤ã‚ºã‚’1.8emã«*/\n  margin-top: 20px; /*è¦‹å‡ºã—ã®ä¸Šã®ä½™ç™½ã‚’20pxã«*/\n  border-bottom: 2px solid #e1e1e1; /*è¦‹å‡ºã—ã®ä¸‹ã«2pxã®ç·šã‚’å¼•ã*/\n  padding-bottom: 5px; /*è¦‹å‡ºã—ã®ä¸‹ã®ä½™ç™½ã‚’5pxã«*/\n}\n\nh3 {\n  font-size: 1.5em; /*è¦‹å‡ºã—ã®æ–‡å­—ã‚µã‚¤ã‚ºã‚’1.5emã«*/\n  margin-top: 15px; /*è¦‹å‡ºã—ã®ä¸Šã®ä½™ç™½ã‚’15pxã«*/\n}\n```\n\n## idã«å¯¾ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°\n\nå„idã‚„ãã‚Œã«ä»˜éšã™ã‚‹ã‚¯ãƒ©ã‚¹ï¼Œã‚¿ã‚°ã«å¯¾ã—é©ç”¨\n\n```css\n#header {\n  text-align: center; /*ãƒ†ã‚­ã‚¹ãƒˆã‚’ä¸­å¤®å¯„ã›ã«*/\n}\n\n#header p {\n  /*è¦ªè¦ç´ ã®idãŒheaderã§ã‚ã‚‹pã‚¿ã‚°ã‚’æŒ‡å®š*/\n  font-size: 1.2em; /*æ–‡å­—ã‚µã‚¤ã‚ºã‚’1.2emã«*/\n  color: #555; /*æ–‡å­—è‰²ã‚’æŒ‡å®š*/\n  margin-top: 5px; /*ä¸Šã®ä½™ç™½ã‚’5pxã«*/\n}\n\n#activities {\n  margin-top: 30px; /*ä¸Šã®ä½™ç™½ã‚’30pxã«*/\n}\n\n#activities .activity-list div {\n  /* è¦ªè¦ç´ ã®idãŒactivitiesã§ã€ã‚¯ãƒ©ã‚¹ãŒactivity-listã®divã‚¿ã‚°ã‚’æŒ‡å®š */\n  margin-bottom: 15px; /*ä¸‹ã®ä½™ç™½ã‚’15pxã«*/\n}\n\n#activities .activity-list p {\n  /* è¦ªè¦ç´ ã®idãŒactivitiesã§ã€ã‚¯ãƒ©ã‚¹ãŒactivity-listã®pã‚¿ã‚°ã‚’æŒ‡å®š */\n  padding-left: 15px; /*å·¦ã®ä½™ç™½ã‚’15pxã«*/\n  text-indent: -15px; /*ãƒ†ã‚­ã‚¹ãƒˆã‚’å·¦ã«15pxãšã‚‰ã™*/\n  list-style: inside disc; /*ãƒªã‚¹ãƒˆã®ãƒãƒ¼ã‚«ãƒ¼ã‚’æŒ‡å®š*/\n}\n\n#team-contact {\n  /*idãŒteam-contactã®è¦ç´ ã‚’æŒ‡å®š*/\n  display: flex; /*è¦ç´ ã‚’æ¨ªä¸¦ã³ã«*/\n  flex-wrap: wrap; /*è¦ç´ ã‚’æŠ˜ã‚Šè¿”ã—è¡¨ç¤º*/\n  gap: 20px; /*è¦ç´ é–“ã®é–“éš”ã‚’20pxã«*/\n}\n```\n\n## ã‚¯ãƒ©ã‚¹ã«å¯¾ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°\n\nå„ã‚¯ãƒ©ã‚¹ã‚„ãã‚Œã«ä»˜éšã™ã‚‹ã‚¿ã‚°ã«å¯¾ã—é©ç”¨\n\n```css\n.team-section,\n.contact-section {\n  /*ã‚¯ãƒ©ã‚¹ãŒteam-sectionã€contact-sectionã®è¦ç´ ã‚’æŒ‡å®š*/\n  flex: 1; /*è¦ç´ ã‚’å‡ç­‰ã«åºƒã’ã‚‹*/\n  min-width: 200px; /*è¦ç´ ã®æœ€å°å¹…ã‚’200pxã«*/\n}\n\n.team-section div,\n.contact-section div {\n  /*ã‚¯ãƒ©ã‚¹ãŒteam-sectionã€contact-sectionã®divã‚¿ã‚°ã‚’æŒ‡å®š*/\n  margin-bottom: 10px; /*ä¸‹ã®ä½™ç™½ã‚’10pxã«*/\n}\n\n.team-section p,\n.contact-section p {\n  /*ã‚¯ãƒ©ã‚¹ãŒteam-sectionã€contact-sectionã®pã‚¿ã‚°ã‚’æŒ‡å®š*/\n  margin: 8px 0; /*ä¸Šä¸‹ã®ä½™ç™½ã‚’8pxã«*/\n}\n\n.contact-section {\n  background-color: #eef6f9; /*èƒŒæ™¯è‰²ã‚’æŒ‡å®š*/\n  border-left: 4px solid #0aa; /*å·¦å´ã«4pxã®ç·šã‚’å¼•ã*/\n}\n```\n\n> ã²ã¨ã¤ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’è¨­å®šã™ã‚‹ã”ã¨ã«ï¼Œã©ã®ã‚ˆã†ã«ãƒ‡ã‚¶ã‚¤ãƒ³ãŒå¤‰ã‚ã£ãŸã‹ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†\n>\n> \\\n> ã‚³ãƒ¡ãƒ³ãƒˆã¯æ›¸ã„ã¦ã‚‚æ›¸ã‹ãªãã¦ã‚‚ã‚ˆã„ã§ã™\n\nå®Œæˆã—ãŸã‚‰ç¢ºèªã—ã¾ã—ã‚‡ã†ï¼\n\n# ã¾ã¨ã‚\n\nã¨ã‚Šã‚ãˆãš\n\n1. `index.html`ã‚’ä½œã‚Šã‚¿ã‚°ã‚’é§†ä½¿ã—ã¦æ–‡ç« ã‚’æ›¸ã\n1. `head`å†…ã«`<link rel=\"stylesheet\" href=\"stylesheet.css\">`ã‚’è¿½åŠ ã™ã‚‹\n1. åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«`stylesheet.css`ã‚’ä½œã‚‹\n1. `stylesheet.css`ã§ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’æŒ‡å®šã™ã‚‹\n\nã“ã®ãƒ—ãƒ­ã‚»ã‚¹ã•ãˆã‚ã‹ã‚Œã°ååˆ†ã§ã™ï¼ãŠç–²ã‚Œã•ã¾ã§ã—ãŸï¼\n",
    "createdAt": "2025-07-11T15:02:25.006Z",
    "updatedAt": "2025-07-11T15:03:45.416Z"
  },
  {
    "title": "Next.js App routerã§ï¼ŒCustom 404 pageã«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’é©ç”¨ã•ã›ãªã„æ–¹æ³•",
    "summary": "åœ°å‘³ã«è‹¦åŠ´ã—ãŸï¼æ—¥æœ¬èªã®è¨˜äº‹ãŒãªã‹ã£ãŸã®ã§ã¤ãã‚‹",
    "tags": [
      "React",
      "Next.js",
      "Web",
      "Webã‚¢ãƒ—ãƒªé–‹ç™º",
      "å€‹äººé–‹ç™º"
    ],
    "slug": "Next.js/next-js-app-router-404-layout",
    "folder": "Next.js",
    "content": "\n`Layout.tsx`ã¯é…ç½®ã•ã‚Œã¦ã„ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸­èº«ã«é©ç”¨ã•ã‚Œã‚‹\n\nâ†’ `not-found.tsx`ã¨`page.tsx`ã¨ã§é•ã†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã™ã‚Œã°è‰¯ã„ï¼\n\nâ†’ æ™®é€šã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã„ã‚Œã‚‹ã¨ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã•ã‚Œã‚‹ã®ã§ï¼Œè«–ç†ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½¿ã†\n\n```txt\napp/\n    (default_site)/\n        /page.tsx\n        about/page.tsx\n        contact/page.tsx\n        layout.tsx\n    (error_layout)/\n        layout.tsx\n        not-found.tsx\ncomponents/\nutils/\n```\n\nã“ã®ã‚ˆã†ã«é…ç½®ã™ã‚Œã°ã„ã„\n\nå‚è€ƒ\n[How to remove the Layout on 404 page](https://github.com/vercel/next.js/discussions/37311)\n",
    "createdAt": "2025-07-11T13:23:19.958Z",
    "updatedAt": "2025-07-11T13:23:19.958Z"
  },
  {
    "title": "Next.jsã§é–‹ç™ºã™ã‚‹ã¨ãã«ãŠã™ã™ã‚ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹æ³•",
    "summary": "eslintã®è¨­å®šã‚„tailwindç­‰ã®è¨­å®šã‚’ã„ã˜ã£ã¦é–‹ç™ºä½“é¨“ã‚’ä¸Šã’ã‚‹",
    "tags": [
      "Next.js",
      "eslint",
      "vscode",
      "tailwindcss"
    ],
    "slug": "Next.js/next-js-setup-practice",
    "folder": "Next.js",
    "content": "\n# ESlintã®è¨­å®š\n\n## ESlintã¨ã¯\n\nESlintã¯JavaScriptã‚„TypeScriptãªã©ã«ä½¿ãˆã‚‹é™çš„è§£æãƒ„ãƒ¼ãƒ«ã§ã™ï¼anyå‹ã‚’è¨±å®¹ã™ã‚‹ã®ã‹ï¼Œã‚¢ãƒ­ãƒ¼é–¢æ•°ã®ã¿ã‚’ä½¿ã†ã®ã‹ãªã©ï¼Œå¤šå²ã«æ¸¡ã£ã¦å³å¯†ãªãƒ«ãƒ¼ãƒ«ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã§ã‚³ãƒ¼ãƒ‰ã®ä¸€è²«æ€§ã‚’ç¶­æŒã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼\n\n## ãŠã™ã™ã‚ã®è¨­å®šæ³•\n\n### npmãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®è¿½åŠ \n\n`npx create-next-app@latest`ã—ï¼Œä»¥ä¸‹ã®ã‚ˆã†ã«è¨­å®šã—ãŸå ´åˆã‚’æƒ³å®šã—ã¾ã™\n\n```bash\nWhat is your project named?  xxx\nWould you like to use TypeScript?  Yes\nWould you like to use ESLint?  Yes\nWould you like to use Tailwind CSS?  Yes\nWould you like your code inside a `src/` directory?  No\nWould you like to use App Router? (recommended)  Yes\nWould you like to use Turbopack for `next dev`?  Yes\nWould you like to customize the import alias (`@/*` by default)?  No\n```\n\nã“ã®å ´åˆï¼Œãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä»¥ä¸‹ã®ã‚ˆã†ãªnpmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå–ã‚Šè¾¼ã¾ã‚Œã¾ã™ï¼\n\n```json\n  \"dependencies\": {\n    \"react\": \"^18\",\n    \"react-dom\": \"^18\",\n    \"next\": \"14.2.29\"\n  },\n  \"devDependencies\": {\n    \"typescript\": \"^5\",\n    \"@types/node\": \"^20\",\n    \"@types/react\": \"^18\",\n    \"@types/react-dom\": \"^18\",\n    \"postcss\": \"^8\",\n    \"tailwindcss\": \"^3.4.1\",\n    \"eslint\": \"^8\",\n    \"eslint-config-next\": \"14.2.29\"\n  }\n```\n\nã“ã“ã‹ã‚‰ã•ã‚‰ã«eslinté–¢é€£ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¿½åŠ ã—ã¦ã„ãã¾ã™ï¼\n| ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå | ä¸»ãªç”¨é€”ãƒ»ç‰¹å¾´ |\n| ------------------------------------ | ---------------------------------------------------------------- |\n| **@typescript-eslint/eslint-plugin** | TypeScriptå‘ã‘ã®ESLintãƒ«ãƒ¼ãƒ«é›†ã€‚å‹æƒ…å ±ã‚’æ´»ã‹ã—ãŸè©³ç´°ãªé™çš„è§£æãŒå¯èƒ½ã«ãªã‚‹ã€‚ |\n| **@typescript-eslint/parser** | ESLintã«TypeScriptæ§‹æ–‡ã‚’ç†è§£ã•ã›ã‚‹ãŸã‚ã®ãƒ‘ãƒ¼ã‚µã€‚ã“ã‚ŒãŒãªã„ã¨TSã‚³ãƒ¼ãƒ‰ã«ESLintãŒä½¿ãˆãªã„ã€‚ |\n| **@eslint/eslintrc** | `.eslintrc` è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ã«ä½¿ã†å†…éƒ¨ãƒ„ãƒ¼ãƒ«ã€‚é€šå¸¸ä¸è¦ã ãŒã€é«˜åº¦ãªè¨­å®šã‚„ãƒãƒ¼ã‚¸ãƒ§ãƒ³å·®ç•°ã®å¸åã«ä½¿ã†ã“ã¨ã‚‚ã‚ã‚‹ã€‚ |\n| **eslint-plugin-import** | `import` æ–‡ã®æ›¸ãæ–¹ï¼ˆé †åºã€é‡è¤‡ã€è§£æ±ºå¯èƒ½æ€§ï¼‰ã‚’ãƒã‚§ãƒƒã‚¯ãƒ»è£œæ­£ã™ã‚‹ãŸã‚ã®å®šç•ªãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã€‚ |\n| **eslint-plugin-import-access** | ç‰¹å®šã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚„å±¤ã«å¯¾ã™ã‚‹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™ãƒ«ãƒ¼ãƒ«ã‚’å®šç¾©ã§ãã‚‹ã€‚Clean Architectureãªã©ã¨ç›¸æ€§ãŒè‰¯ã„ã€‚ |\n| **eslint-plugin-simple-import-sort** | `import`, `export` ã‚’ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆé †ã‚„æŒ‡å®šé †ã«è‡ªå‹•æ•´åˆ—ã—ã¦ãã‚Œã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã€‚æ•´å½¢ã®è£œåŠ©ã«ä¾¿åˆ©ã€‚ |\n| **eslint-plugin-unused-imports** | ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„ `import` ã‚’æ¤œå‡ºãƒ»å‰Šé™¤ï¼ˆè‡ªå‹•ä¿®æ­£å¯¾å¿œï¼‰ã—ã¦ãã‚Œã‚‹ã€‚ä¸è¦ã‚³ãƒ¼ãƒ‰å‰Šæ¸›ã«æœ‰åŠ¹ã€‚ |\n\n```bash\nnpm install -D \\\n  @typescript-eslint/eslint-plugin \\\n  @typescript-eslint/parser \\\n  @eslint/eslintrc \\\n  eslint-plugin-import \\\n  eslint-plugin-import-access \\\n  eslint-plugin-simple-import-sort \\\n  eslint-plugin-unused-imports\n```\n\n## eslint.config.mjsã®è¨­å®š\n\ncreate-next-appæ™‚ã«eslintã‚’è¿½åŠ ã—ãŸå ´åˆï¼Œè‡ªå‹•ã§`.eslintrc.json`ãŒä½œæˆã•ã‚Œã¾ã™ï¼ãŸã ã—jsonã§æ›¸ãå ´åˆæŸ”è»Ÿæ€§ãŒãªããªã‚‹ã®ã§ï¼Œä»£ã‚ã‚Šã«ãƒ•ãƒ©ãƒƒãƒˆæ§‹æˆ(`eslint.config.mjs`)ã§ä½¿ã†ã¹ãã§ã™ï¼\n\n```js\n// /eslint.config.mjs\nimport { fixupConfigRules, fixupPluginRules } from \"@eslint/compat\";\nimport { FlatCompat } from \"@eslint/eslintrc\";\nimport js from \"@eslint/js\";\nimport typescriptEslint from \"@typescript-eslint/eslint-plugin\";\nimport tsParser from \"@typescript-eslint/parser\";\nimport importAccess from \"eslint-plugin-import-access/flat-config\";\nimport simpleImportSort from \"eslint-plugin-simple-import-sort\";\nimport unusedImports from \"eslint-plugin-unused-imports\";\nimport path from \"node:path\";\nimport { fileURLToPath } from \"node:url\";\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\nconst compat = new FlatCompat({\n  baseDirectory: __dirname,\n  recommendedConfig: js.configs.recommended,\n  allConfig: js.configs.all,\n});\n\nexport default [\n  {\n    ignores: [\"coverage\", \".next\", \"*.config.mjs\", \"components/ui/**/*\"],\n  },\n  ...fixupConfigRules(\n    compat.extends(\n      \"plugin:@typescript-eslint/recommended\",\n      \"next/core-web-vitals\",\n      \"plugin:import/recommended\",\n      \"plugin:import/warnings\",\n    ),\n  ),\n  {\n    plugins: {\n      \"@typescript-eslint\": fixupPluginRules(typescriptEslint),\n      \"simple-import-sort\": simpleImportSort,\n      \"unused-imports\": unusedImports,\n      \"import-access\": importAccess,\n    },\n    languageOptions: {\n      parser: tsParser,\n      ecmaVersion: \"latest\",\n      sourceType: \"module\",\n      parserOptions: {\n        project: \"./tsconfig.json\",\n        tsconfigRootDir: __dirname,\n      },\n    },\n    rules: {\n      \"@typescript-eslint/naming-convention\": [\n        \"error\",\n        {\n          selector: \"variable\",\n          types: [\"array\", \"boolean\", \"number\", \"string\"],\n          format: [\"strictCamelCase\", \"UPPER_CASE\"],\n        },\n        {\n          selector: \"variable\",\n          types: [\"function\"],\n          format: [\"strictCamelCase\", \"StrictPascalCase\"],\n        },\n      ],\n      \"simple-import-sort/imports\": \"error\",\n      \"simple-import-sort/exports\": \"error\",\n      \"import/first\": \"error\",\n      \"import/newline-after-import\": \"error\",\n      \"import/no-duplicates\": \"error\",\n      \"@typescript-eslint/consistent-type-exports\": \"error\",\n      \"import/group-exports\": \"error\",\n      \"unused-imports/no-unused-imports\": \"error\",\n      \"import-access/jsdoc\": [\"error\"],\n      \"no-restricted-imports\": [\n        \"error\",\n        {\n          paths: [\n            \"sonner\",\n            \"next/link\",\n            \"react-icons\",\n            \"lucide-react\",\n            \"zod\",\n            { name: \"@/components/ui/Form\", importNames: [\"Form\"] },\n            {\n              name: \"@next/third-parties/google\",\n              importNames: [\"sendGAEvent\"],\n            },\n          ],\n          patterns: [\"react-icons/*\"],\n        },\n      ],\n      \"no-restricted-syntax\": [\n        \"error\",\n        {\n          selector:\n            \"CallExpression[callee.object.name='Object'][callee.property.name='keys']\",\n          message:\n            \"Do not use Object.keys. Check src/utils/object.ts or add a new utility function.\",\n        },\n      ],\n      \"@typescript-eslint/no-unused-vars\": \"off\",\n      \"@typescript-eslint/no-unnecessary-type-assertion\": \"error\",\n    },\n  },\n  {\n    files: [\n      \"src/**/*.stories.tsx\",\n      \"src/**/*Type.ts\",\n      \"src/types/**\",\n      \"src/features/**/*Repository.ts\",\n      \"src/features/**/*Converter.ts\",\n      \"src/features/**/*Constants.ts\",\n    ],\n    rules: {\n      \"import/group-exports\": \"off\",\n    },\n  },\n  {\n    files: [\"components/icons/**/*.{ts,tsx}\"],\n    rules: {\n      \"no-restricted-imports\": \"off\",\n    },\n  },\n];\n```\n\n### ã‚³ãƒ¼ãƒ‰ã®è§£èª¬\n\n**1. ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆéƒ¨**\n\n```js\nimport { fixupConfigRules, fixupPluginRules } from \"@eslint/compat\";\nimport { FlatCompat } from \"@eslint/eslintrc\";\nimport js from \"@eslint/js\";\nimport typescriptEslint from \"@typescript-eslint/eslint-plugin\";\nimport tsParser from \"@typescript-eslint/parser\";\nimport importAccess from \"eslint-plugin-import-access/flat-config\";\nimport simpleImportSort from \"eslint-plugin-simple-import-sort\";\nimport unusedImports from \"eslint-plugin-unused-imports\";\nimport path from \"node:path\";\nimport { fileURLToPath } from \"node:url\";\n```\n\n| è¡Œ                                        | å†…å®¹                                                                             |\n| ----------------------------------------- | -------------------------------------------------------------------------------- |\n| `@eslint/compat`                          | `.eslintrc` ã‚¹ã‚¿ã‚¤ãƒ«ã®è¨­å®šï¼ˆextends ç­‰ï¼‰ã‚’ãƒ•ãƒ©ãƒƒãƒˆæ§‹æˆç”¨ã«å¤‰æ›ã™ã‚‹ãŸã‚ã®ãƒ˜ãƒ«ãƒ‘ãƒ¼ |\n| `FlatCompat`                              | â†‘ã®å¤‰æ›ã‚’å®Ÿéš›ã«è¡Œã†ã‚¯ãƒ©ã‚¹ã€‚`plugin:xxx/recommended` ãªã©ã‚’ä½¿ã„ãŸã„ã¨ãã«å¿…è¦     |\n| `@eslint/js`                              | ESLintå…¬å¼ã® `recommended` è¨­å®šã‚»ãƒƒãƒˆï¼ˆESLintãŒæä¾›ã™ã‚‹åŸºæœ¬ãƒ«ãƒ¼ãƒ«ï¼‰              |\n| `@typescript-eslint/*`                    | TypeScriptã®ãƒ«ãƒ¼ãƒ«å®šç¾©ã¨ãƒ‘ãƒ¼ã‚µã€‚TSå¯¾å¿œã«ã¯å¿…é ˆ                                   |\n| `eslint-plugin-import-access/flat-config` | importåˆ¶é™ã‚’JSDocã«åŸºã¥ã„ã¦è¡Œã†ãŸã‚ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ï¼ˆâ€»ãƒ•ãƒ©ãƒƒãƒˆæ§‹æˆå¯¾å¿œã®å…¥å£ï¼‰       |\n| ãã®ä»–ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³                        | `simple-import-sort`, `unused-imports` â†’ importé †ã‚„æœªä½¿ç”¨importã®æ•´ç†ç”¨          |\n| `path`, `fileURLToPath`                   | `__dirname` ã‚’ESMå½¢å¼ã§å–å¾—ã™ã‚‹ãŸã‚ã®å‡¦ç†ï¼ˆNode.js ESMã®éƒ½åˆï¼‰                   |\n\n**2. `__dirname` & `FlatCompat` ã®æº–å‚™**\n\n```js\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\nconst compat = new FlatCompat({\n  baseDirectory: __dirname,\n  recommendedConfig: js.configs.recommended,\n  allConfig: js.configs.all,\n});\n```\n\n| è¡Œ                        | å†…å®¹                                                                                                                 |\n| ------------------------- | -------------------------------------------------------------------------------------------------------------------- |\n| `__filename`, `__dirname` | CommonJSã«ãªã„ESMå½¢å¼ã§ã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹å–å¾—                                                                            |\n| `FlatCompat(...)`         | `.eslintrc`ã§æ›¸ã‹ã‚ŒãŸã‚ˆã†ãªè¨­å®šï¼ˆä¾‹: `\"plugin:@typescript-eslint/recommended\"`ï¼‰ã‚’ãƒ•ãƒ©ãƒƒãƒˆæ§‹æˆã§ã‚‚ä½¿ãˆã‚‹ã‚ˆã†å¤‰æ›ã™ã‚‹ |\n\n**3. ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã‚‹ ESLint è¨­å®šæœ¬ä½“**\n\n```js\nexport default [\n  ...\n];\n```\n\n**4. ç„¡è¦–ãƒ•ã‚¡ã‚¤ãƒ«ã®æŒ‡å®š**\n\n```js\n{\n  ignores: [\n    \"coverage\",\n    \".next\",\n    \"*.config.mjs\",\n    \"components/ui/**/*\",\n  ],\n},\n```\n\n- ESLintãŒãƒã‚§ãƒƒã‚¯å¯¾è±¡ã‹ã‚‰é™¤å¤–ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãƒ•ã‚©ãƒ«ãƒ€ã‚’å®šç¾©\n- `*.config.mjs`ãªã©ã‚‚è§£æã—ãªã„ã‚ˆã†é™¤å¤–ã—ã¦ã„ã‚‹ï¼ˆèª¤æ¤œå‡ºé˜²æ­¢ï¼‰\n\n**5. å¾“æ¥ã® extends ã‚’ãã®ã¾ã¾ä½¿ã†ï¼ˆå¤‰æ›ï¼‰**\n\n```js\n...fixupConfigRules(\n  compat.extends(\n    \"plugin:@typescript-eslint/recommended\",\n    \"next/core-web-vitals\",\n    \"plugin:import/recommended\",\n    \"plugin:import/warnings\",\n  )\n),\n```\n\n- `compat.extends(...)`ï¼š`.eslintrc`ã‚¹ã‚¿ã‚¤ãƒ«ã® `\"extends\"` ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«å¤‰æ›\n- `fixupConfigRules(...)`ï¼šãƒ«ãƒ¼ãƒ«ã«ãƒ—ãƒ©ã‚°ã‚¤ãƒ³åã‚’æ­£ã—ããƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã—ã¦ãã‚Œã‚‹ï¼ˆä¾‹: `\"@typescript-eslint/no-unused-vars\"` ã«ç›´ã—ã¦ãã‚Œã‚‹ï¼‰\n\n**6. ãƒ¡ã‚¤ãƒ³è¨­å®šãƒ–ãƒ­ãƒƒã‚¯ï¼ˆãƒ«ãƒ¼ãƒ«ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãªã©ï¼‰**\n\n```js\n{\n  plugins: {\n    \"@typescript-eslint\": fixupPluginRules(typescriptEslint),\n    \"simple-import-sort\": simpleImportSort,\n    \"unused-imports\": unusedImports,\n    \"import-access\": importAccess,\n  },\n  ...\n}\n```\n\n| ã‚»ã‚¯ã‚·ãƒ§ãƒ³              | å†…å®¹                                                                   |\n| ----------------------- | ---------------------------------------------------------------------- |\n| `plugins`               | ä½¿ç”¨ã™ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ ESLint ã«æ˜ç¤ºçš„ã«ç™»éŒ²                             |\n| `fixupPluginRules(...)` | `@typescript-eslint` ã®ãƒ«ãƒ¼ãƒ«ã‚’æ­£ã—ãä½¿ãˆã‚‹å½¢ã«æ•´å½¢                    |\n| `languageOptions`       | ECMAScriptã‚„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ç¨®åˆ¥ï¼ˆESMï¼‰ã€TypeScriptã®ãƒ‘ãƒ¼ã‚µæƒ…å ±              |\n| `parserOptions`         | `tsconfig.json` ã®å ´æ‰€ã‚’ ESLint ã«æ•™ãˆã‚‹ï¼ˆå‹æƒ…å ±ã‚’ä½¿ã„ãŸã„ã¨ãã«é‡è¦ï¼‰ |\n\n**7. ãƒ«ãƒ¼ãƒ«è¨­å®šï¼ˆé‡è¦ï¼‰**\n\n```js\nrules: {\n  \"@typescript-eslint/naming-convention\": [...],\n  \"simple-import-sort/imports\": \"error\",\n  \"simple-import-sort/exports\": \"error\",\n  ...\n}\n```\n\n| ãƒ«ãƒ¼ãƒ«å                           | å†…å®¹                                                                 |\n| ---------------------------------- | -------------------------------------------------------------------- |\n| `naming-convention`                | å¤‰æ•°åã®å½¢å¼ã‚’å¼·åˆ¶ï¼ˆcamelCase, PascalCase ãªã©ï¼‰                     |\n| `simple-import-sort/*`             | import/export æ–‡ã‚’è‡ªå‹•ã§ã‚½ãƒ¼ãƒˆ                                       |\n| `unused-imports/no-unused-imports` | æœªä½¿ç”¨ã® import ã‚’ã‚¨ãƒ©ãƒ¼ã«                                           |\n| `import/first`                     | importæ–‡ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã®å…ˆé ­ã«æ›¸ã‘                                       |\n| `import/no-duplicates`             | åŒã˜ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¤‡æ•°å› import ã™ã‚‹ãª                                 |\n| `import/group-exports`             | export ã¯ã¾ã¨ã‚ã¦æ›¸ã‘ï¼ˆãƒãƒ©ãƒãƒ©ã«æ›¸ã‹ãªã„ï¼‰                          |\n| `import-access/jsdoc`              | JSDocã‚³ãƒ¡ãƒ³ãƒˆã«å¾“ã£ã¦å±¤é–“importã‚’åˆ¶é™ï¼ˆä¾‹: infra â†’ domain ç¦æ­¢ãªã©ï¼‰ |\n| `no-restricted-imports`            | ç‰¹å®šã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚„importåã‚’ç¦æ­¢ï¼ˆä½¿ã£ã¦ã»ã—ããªã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãªã©ï¼‰   |\n| `no-restricted-syntax`             | ç‰¹å®šã®æ§‹æ–‡ï¼ˆä¾‹: `Object.keys`ï¼‰ã®ä½¿ç”¨ã‚’ç¦æ­¢ã—ã€ç‹¬è‡ªå®Ÿè£…ã‚’ä¿ƒã™        |\n\n**8. ç‰¹å®šãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ãƒ«ãƒ¼ãƒ«é©ç”¨é™¤å¤–**\n\n```js\n{\n  files: [...],\n  rules: {\n    \"import/group-exports\": \"off\",\n  },\n},\n{\n  files: [\"components/icons/**/*.{ts,tsx}\"],\n  rules: {\n    \"no-restricted-imports\": \"off\",\n  },\n},\n```\n\n- ç‰¹å®šã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆä¾‹: `*.stories.tsx`, `*Type.ts`ï¼‰ã«ã ã‘ãƒ«ãƒ¼ãƒ«ã‚’å¤‰æ›´\n- `group-exports`ã‚’ç„¡åŠ¹ã«ã™ã‚‹ã“ã¨ã§ã€æŸ”è»Ÿã«exportå¯èƒ½ã«ã—ã¦ã„ã‚‹\n\n# tailwindã®è¨­å®š\n\nTailwind CSS ã¯é€šå¸¸ã® CSS ã‚„ JS æ–‡æ³•ã¨ã¯é•ã†ã€Œãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ã‚’æ–‡å­—åˆ—ã§æ›¸ãã‚¹ã‚¿ã‚¤ãƒ«ã€ãªã®ã§ï¼Œã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯ã‚„æ§‹æ–‡ãƒã‚§ãƒƒã‚¯ãŒã§ãã¾ã›ã‚“ï¼ãã®ãŸã‚ã“ã‚Œã‚‰ã®è¨­å®šã‚’eslintã«è¿½åŠ ã—ã¦ã„ãã¾ã™\n\n## npm ã®è¿½åŠ \n\n```bash\nnpm install -D eslint-plugin-readable-tailwind\n```\n\n## eslint.config.mjsã®è¨­å®š\n\n### import\n\n```js\nimport readableTailwind from \"eslint-plugin-readable-tailwind\";\n```\n\n### `ignores`ã«è¿½è¨˜\n\n```js\n  {\n    ignores: [\n      \"coverage\",\n      \".next\",\n      \"*.config.mjs\",\n      \"tailwind.config.ts\",  // â†è¿½åŠ \n      \"components/ui/**/*\",\n    ],\n  },\n```\n\n### `compat.extends(...)` ã«è¿½è¨˜\n\n```js\n...fixupConfigRules(\n  compat.extends(\n    \"plugin:@typescript-eslint/recommended\",\n    \"plugin:import/recommended\",\n    \"plugin:import/warnings\",\n    \"plugin:tailwindcss/recommended\", // â†è¿½åŠ \n  )\n),\n```\n\n### `plugins`ã«è¿½åŠ \n\n```js\nplugins: {\n  \"@typescript-eslint\": fixupPluginRules(typescriptEslint),\n  \"simple-import-sort\": simpleImportSort,\n  \"unused-imports\": unusedImports,\n  \"import-access\": importAccess,\n  \"readable-tailwind\": readableTailwind, // â†è¿½åŠ \n},\n```\n\n### Tailwindã® `settings`ï¼ˆ`cn()` ãªã©è£œå®Œé–¢æ•°ã‚’è§£æã•ã›ãŸã„å ´åˆï¼‰\n\n```js\nsettings: {\n  tailwindcss: {\n    callees: [\"cn\", \"cva\"], // `cn()` ã‚„ `cva()` ã®ä¸­ã®classåã‚‚ãƒã‚§ãƒƒã‚¯å¯¾è±¡ã«\n  },\n},\n```\n\n### `rules`ã‚’è¿½åŠ \n\n```js\n      \"tailwindcss/no-custom-classname\": [\n        \"error\",\n        {\n          classRegex:\n            \"^(class(Name)?|textClassName|iconClassName|innerClassName)$\",\n          whitelist: [\"^[A-Z].*\"],\n        },\n      ],\n      \"readable-tailwind/multiline\": [\n        \"warn\",\n        {\n          group: \"newLine\",\n        },\n      ],\n```\n\n- `no-custom-classname`ï¼šã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ©ã‚¹ã®æ··å…¥ã‚’åˆ¶é™\n- `readable-tailwind/multiline`: Tailwindã‚¯ãƒ©ã‚¹ã‚’æŠ˜ã‚Šè¿”ã—ã¦å¯èª­æ€§ã‚’é«˜ã‚ã‚‹ï¼ˆè¤‡æ•°è¡Œã«åˆ†ã‘ã‚‹ï¼‰\n\n## tailwind.config.tsã®è¨­å®š\n\nãªãœã‹ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã•ã‚Œãªã„ã¨ã„ã£ãŸäº‹è±¡ãŒç™ºç”Ÿã—ãŸå ´åˆï¼Œã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ï¼\n\n```ts\n  content: [\n    \"./pages/**/*.{js,ts,jsx,tsx,mdx}\",\n    \"./components/**/*.{js,ts,jsx,tsx,mdx}\",\n    \"./app/**/*.{js,ts,jsx,tsx,mdx}\",\n    \"./features/**/*.{js,ts,jsx,tsx,mdx}\",\n  ],\n```\n\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å ´æ‰€ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ï¼\n\n# prettierã®è¨­å®š\n\nPrettierã¯ã‚³ãƒ¼ãƒ‰æ•´å½¢ã‚’è‡ªå‹•ã§æƒãˆã‚‹ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ã§ã™ï¼eslintã‚‚ä¸€éƒ¨ã¯ã‚³ãƒ¼ãƒ‰æ•´å½¢ã‚’è¡Œã„ã¾ã™ãŒï¼Œã“ã‚Œã¯ã‚ˆã‚Šæ‹¡å¼µçš„ã§ã™ï¼\n\n## eslint.config.mjsã®è¨­å®š\n\n### ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®è¿½åŠ \n\n```bash\nnpm install -D \\\n  prettier \\\n  prettier-plugin-tailwindcss \\\n  eslint-config-prettier\n```\n\n<blockquote>\nâ€» eslint-plugin-prettier ã‚’ä½¿ã„ãŸã„å ´åˆã¯ã€æœ€å¾Œã«ä»¥ä¸‹ã‚’è¿½åŠ ï¼š\n\n```bash\nnpm install -D eslint-plugin-prettier\n```\n\n</blockquote>\n\n| ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå                  | å½¹å‰²ãƒ»èª¬æ˜                                                                                                         |\n| ----------------------------- | ------------------------------------------------------------------------------------------------------------------ |\n| `prettier`                    | ã‚³ãƒ¼ãƒ‰æ•´å½¢æœ¬ä½“ã€‚ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚„æ”¹è¡Œã€ã‚¹ãƒšãƒ¼ã‚¹ãªã©ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ä¸€è²«ã—ã¦æ•´ãˆã‚‹ã€‚                                         |\n| `prettier-plugin-tailwindcss` | Tailwindã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ã‚’è‡ªå‹•ã§**æ¨å¥¨é †ã«ä¸¦ã¹æ›¿ãˆã‚‹**Prettierãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã€‚                                   |\n| `eslint-config-prettier`      | ESLintã®æ•´å½¢ç³»ãƒ«ãƒ¼ãƒ«ã¨Prettierã®ãƒ«ãƒ¼ãƒ«ãŒç«¶åˆã—ãªã„ã‚ˆã†ã«ã€ESLintå´ã®æ•´å½¢ãƒ«ãƒ¼ãƒ«ã‚’ç„¡åŠ¹åŒ–ã™ã‚‹ã€‚                       |\n| `eslint-plugin-prettier`      | Prettierã®æ•´å½¢ãƒ«ãƒ¼ãƒ«é•åã‚’**ESLintã®è­¦å‘Šã¨ã—ã¦è¡¨ç¤ºã™ã‚‹**ãŸã‚ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ï¼ˆVSCodeã§ä¿å­˜æ™‚æ•´å½¢ã™ã‚‹å ´åˆã¯çœç•¥å¯èƒ½ï¼‰ã€‚ |\n\n### `compat.extends(...)` ã«è¿½è¨˜\n\n```js\n...fixupConfigRules(\n  compat.extends(\n    \"plugin:@typescript-eslint/recommended\",\n    \"plugin:import/recommended\",\n    \"plugin:import/warnings\",\n    \"plugin:tailwindcss/recommended\",\n    \"prettier\", // â†è¿½åŠ \n  )\n),\n```\n\n# vscodeã®è¨­å®š\n\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«`.vscode`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’é…ç½®ã—ï¼Œãã®ä¸­ã«jsonãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®ã™ã‚‹ã¨vscodeå°‚ç”¨ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã”ã¨ã®ã‚¨ãƒ‡ã‚£ã‚¿è¨­å®šã‚’ç½®ãã“ã¨ãŒã§ãã¾ã™ï¼\n\n## ä½¿ãˆã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\n\n| ãƒ•ã‚¡ã‚¤ãƒ«å        | ç”¨é€”ãƒ»ã§ãã‚‹ã“ã¨                                               |\n| ----------------- | -------------------------------------------------------------- |\n| `settings.json`   | ã‚¨ãƒ‡ã‚£ã‚¿ã®å‹•ä½œã‚„æ‹¡å¼µæ©Ÿèƒ½ã®è¨­å®šï¼ˆä¿å­˜æ™‚æ•´å½¢ã€ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆå¹…ãªã©ï¼‰ |\n| `extensions.json` | æ¨å¥¨æ‹¡å¼µæ©Ÿèƒ½ã®ä¸€è¦§ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå‚åŠ è€…ã«è‡ªå‹•ã§é€šçŸ¥ã•ã‚Œã‚‹ï¼‰     |\n| `launch.json`     | ãƒ‡ãƒãƒƒã‚¬ãƒ¼ã®è¨­å®šï¼ˆNode.jsã‚„Chromeã®ã‚¹ãƒ†ãƒƒãƒ—å®Ÿè¡Œãªã©ï¼‰          |\n| `tasks.json`      | ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§å®Ÿè¡Œã™ã‚‹ã‚¿ã‚¹ã‚¯ã‚’å®šç¾©ï¼ˆãƒ“ãƒ«ãƒ‰ãƒ»lintãƒ»test ãªã©ï¼‰    |\n\n## settings.jsonã®è¨­å®š\n\nã“ã“ã§ã¯eslintã‚„prettieré–¢é€£ã®è¨­å®šã‚’ã—ï¼Œãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜æ™‚ã«è‡ªå‹•ã§æ•´å½¢ãŒèµ°ã‚‹ã‚ˆã†ã«ã—ã¾ã™ï¼\n\n```json\n{\n  \"editor.formatOnSave\": true,\n  \"editor.defaultFormatter\": \"esbenp.prettier-vscode\",\n  \"editor.codeActionsOnSave\": {\n    \"source.fixAll\": \"explicit\",\n    \"source.fixAll.eslint\": \"explicit\",\n    \"source.organizeImports\": \"explicit\"\n  },\n  \"typescript.preferences.importModuleSpecifier\": \"non-relative\",\n  \"typescript.tsdk\": \"node_modules/typescript/lib\",\n  \"tailwindCSS.classAttributes\": [\"class\", \"className\", \".*Class\"],\n  \"tailwindCSS.experimental.classRegex\": [\n    [\"cva\\\\(([^)]*)\\\\)\", \"[\\\"'`]([^\\\"'`]*).*?[\\\"'`]\"],\n    [\"cn\\\\(([^)]*)\\\\)\", \"[\\\"'`]([^\\\"'`]*).*?[\\\"'`]\"],\n    [\"cx\\\\(([^)]*)\\\\)\", \"(?:'|\\\"|`)([^']*)(?:'|\\\"|`)\"]\n  ]\n}\n```\n\n| è¨­å®šã‚­ãƒ¼                                            | å†…å®¹ãƒ»èª¬æ˜                                                                              |\n| --------------------------------------------------- | --------------------------------------------------------------------------------------- |\n| `\"editor.formatOnSave\"`                             | ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜æ™‚ã«è‡ªå‹•ã§ã‚³ãƒ¼ãƒ‰æ•´å½¢ï¼ˆPrettierãªã©ãŒæœ‰åŠ¹ã«ãªã‚‹ï¼‰                            |\n| `\"editor.defaultFormatter\"`                         | Prettieræ‹¡å¼µæ©Ÿèƒ½ï¼ˆ`esbenp.prettier-vscode`ï¼‰ã‚’æ•´å½¢ã‚¨ãƒ³ã‚¸ãƒ³ã¨ã—ã¦ä½¿ç”¨                    |\n| `\"editor.codeActionsOnSave.source.fixAll\"`          | æ˜ç¤ºçš„ã«ä¿å­˜ã—ãŸã¨ãã®ã¿ã€ã™ã¹ã¦ã®å•é¡Œï¼ˆLintç­‰ï¼‰ã‚’ä¸€æ‹¬ä¿®æ­£                              |\n| `\"editor.codeActionsOnSave.source.fixAll.eslint\"`   | æ˜ç¤ºçš„ã«ä¿å­˜ã—ãŸã¨ãã®ã¿ã€ESLintã®è­¦å‘Šãƒ»ã‚¨ãƒ©ãƒ¼ã‚’è‡ªå‹•ä¿®æ­£                                |\n| `\"editor.codeActionsOnSave.source.organizeImports\"` | æ˜ç¤ºçš„ã«ä¿å­˜ã—ãŸã¨ãã®ã¿ã€ä¸è¦ãªimportå‰Šé™¤ï¼†ä¸¦ã³æ›¿ãˆ                                    |\n| `\"typescript.preferences.importModuleSpecifier\"`    | TypeScriptã®importè£œå®Œã‚’ç›¸å¯¾ãƒ‘ã‚¹ã§ã¯ãªãçµ¶å¯¾ãƒ‘ã‚¹ï¼ˆéç›¸å¯¾ï¼‰ã«ã™ã‚‹                        |\n| `\"typescript.tsdk\"`                                 | VSCodeãŒä½¿ç”¨ã™ã‚‹TypeScriptãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã® `node_modules/typescript` ã«å›ºå®š |\n| `\"tailwindCSS.classAttributes\"`                     | Tailwindã®è£œå®Œå¯¾è±¡ã¨ãªã‚‹å±æ€§åï¼ˆ`class`, `className`, `iconClassName`ãªã©ï¼‰ã‚’æŒ‡å®š       |\n| `\"tailwindCSS.experimental.classRegex\"`             | `cn()`, `cva()`, `cx()` ã®ã‚ˆã†ãªé–¢æ•°å†…ã§ã‚‚Tailwindã‚¯ãƒ©ã‚¹ã‚’èªè­˜ã•ã›ã‚‹æ­£è¦è¡¨ç¾è¨­å®š        |\n\n## extensions.jsonã®è¨­å®š\n\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ã†ã¹ã VSCode æ‹¡å¼µæ©Ÿèƒ½ã®ãŠã™ã™ã‚ä¸€è¦§ã‚’ç¤ºã—ï¼Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼\n\n```json\n{\n  \"recommendations\": [\n    \"dbaeumer.vscode-eslint\", // ESLintã®ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºãƒ»è‡ªå‹•ä¿®æ­£ã‚’æœ‰åŠ¹ã«ã™ã‚‹æ‹¡å¼µ\n    \"esbenp.prettier-vscode\", // Prettierã§ä¿å­˜æ™‚æ•´å½¢ã‚’ã™ã‚‹æ‹¡å¼µ\n    \"bradlc.vscode-tailwindcss\" // Tailwindã‚¯ãƒ©ã‚¹ã®è£œå®Œãƒ»è‰²è¡¨ç¤ºã‚’ã—ã¦ãã‚Œã‚‹æ‹¡å¼µ\n  ]\n}\n```\n\n# ã¾ã¨ã‚\n\nä»¥ä¸Šã®ã“ã¨ã‚’ã™ã‚‹ã¨æ§‹æ–‡ãƒã‚§ãƒƒã‚¯ãŒã§ãï¼Œãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜æ™‚ã«è‡ªå‹•ã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒ†ã‚£ãƒ³ã‚°ã•ã‚Œã¾ã™ï¼ã™ã”ãé ¼ã‚‚ã—ã„ã§ã™ï¼\n",
    "createdAt": "2025-07-12T10:08:13.145Z",
    "updatedAt": "2025-07-12T12:46:24.762Z"
  },
  {
    "title": "Next.jsã¨Railsã§ä½œã‚‹webã‚¢ãƒ—ãƒª",
    "summary": "Next.jsã¨Railsã§apié–‹ç™ºã®å‹‰å¼·ã‚’ã—ãŸã®ã§ã“ã“ã«ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™",
    "tags": [
      "Next.js",
      "webã‚¢ãƒ—ãƒªé–‹ç™º",
      "Ruby on Rails",
      "API"
    ],
    "slug": "Next.js/next-rails-tutorial",
    "folder": "Next.js",
    "content": "\n# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰\n\n## railsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ\n\n---\n\n```bash\nrails new blog_api --api -T\n```\n\n`--api`ã¨ã™ã‚‹ã“ã¨ã§ï¼Œviewãªã©ã®ä½™è¨ˆãªãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆãŒã•ã‚Œãªããªã‚Šã¾ã™ï¼ã¾ãŸï¼Œ`-T`ã¨ã™ã‚‹ã¨ï¼Œãƒ†ã‚¹ãƒˆç”¨ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œãªããªã‚Šã¾ã™ï¼\n\n## gemã®è¿½åŠ \n\n---\n\n```ruby\n# Gemfile\n  gem 'rack-cors', require: 'rack/cors'\n```\n\nNext.jsã‚¢ãƒ—ãƒªã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘ä»˜ã‘ã‚‹éš›ã«corsã®è¨­å®šã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ï¼Œ`rack-cors`ã®gemã‚’è¿½åŠ ã—ã¾ã™ï¼ãã®å¾Œï¼Œ`bundle install`ã™ã‚‹ã“ã¨ã‚’å¿˜ã‚Œãªã„ã‚ˆã†ã«ã—ã¾ã—ã‚‡ã†\n\n## rack-corsã®è¨­å®š\n\n---\n\nã“ã“ã§è¨±å¯ã™ã‚‹ã‚ªãƒªã‚¸ãƒ³ã‚’è¨­å®šã—ã¦ãŠãã¾ã—ã‚‡ã†\n\n```ruby\n# config/initializers/cors.rb\nRails.application.config.middleware.insert_before 0, Rack::Cors do\n  allow do\n    origins \"http://localhost:3000\"\n\n    resource \"*\",\n      headers: :any,\n      methods: [:get, :post, :put, :patch, :delete, :options, :head]\n  end\nend\n```\n\n## ãƒ¢ãƒ‡ãƒ«ä½œæˆ\n\n---\n\nãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ç™»éŒ²ã—ãŸã„ãƒ†ãƒ¼ãƒ–ãƒ«ã®ãƒ¢ãƒ‡ãƒ«ã‚’ä½œã‚Šã¾ã™ï¼\n\n```bash\nrails generate model Post title:string content:text\n```\n\nã“ã®å ´åˆï¼Œdbã«ã¯`posts`ã¨ã„ã†ãƒ†ãƒ¼ãƒ–ãƒ«ãŒè¿½åŠ ã•ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ï¼\n\n### ä½œæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\n\n#### **ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«**\n\nãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã™ã‚‹ãŸã‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ï¼`rails db:migrate`ã‚’ã™ã‚‹ã¨ã¯ã˜ã‚ã¦å®Ÿè¡Œã•ã‚Œã‚‹\n\n```ruby\n# db/migrate/20250209064827_create_posts.rb\nclass CreatePosts < ActiveRecord::Migration[7.2]\n  def change\n    create_table :posts do |t|\n      t.string :title\n      t.text :content\n\n      t.timestamps\n    end\n  end\nend\n```\n\n> ãƒ¢ãƒ‡ãƒ«ã¯å˜æ•°å½¢ã§ä¸€æ–‡å­—ç›®ãŒå¤§æ–‡å­—ï¼Œãƒ†ãƒ¼ãƒ–ãƒ«ã¯è¤‡æ•°å½¢ã§å…¨ã¦å°æ–‡å­—ã§è¨˜è¿°ã™ã‚‹ã®ãŒæ…£ç¿’\n\n#### **ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«**\n\nã“ã“ã«è¨˜è¿°ã•ã‚ŒãŸã‚¯ãƒ©ã‚¹ã‚’ç”¨ã„ã¦ï¼Œã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãªã©ã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æ“ä½œã‚’è¡Œã†ï¼ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚„ã‚¢ã‚½ã‚·ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ãªã©ã‚’è¨˜è¿°ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½\n\n```ruby\n# app/models/post.rb\nclass Post < ApplicationRecord\nend\n```\n\n#### **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**\n\nä»Šå›ã¯`rails new blog_api --api -T`ã§`-T`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦ã„ã‚‹ãŸã‚ï¼Œãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¯ä½œæˆã•ã‚Œãªã„\n\n#### **ã‚·ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«**\n\nãªã«ã‚‚æ›¸ã‹ã‚Œã¦ã„ãªã„ãŒï¼Œç‰¹ã«ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚Œã°ï¼Œ`Post.create`ã‚’ä½¿ã£ã¦åˆæœŸãƒ‡ãƒ¼ã‚¿ã‚’ç™»éŒ²ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½\n\n## ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³\n\n---\n\n```bash\nrails db:migrate\n```\n\n> `db/schema.rb`ã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚¹ã‚­ãƒ¼ãƒãŒè¨˜è¿°ã•ã‚Œã‚‹\n\n## ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ä½œæˆ\n\n---\n\nã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã¯ï¼Œãƒ¦ãƒ¼ã‚¶ã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘å–ã‚Šï¼Œé©åˆ‡ãªå‡¦ç†ã‚’è¡Œã„ï¼Œãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™å½¹å‰²ã‚’æŒã¡ã¾ã™ï¼ãã‚Œãã‚Œã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã¯ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’è¨­å®šã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå¯èƒ½ã«ãªã‚Šã¾ã™ï¼\n\n> **MVCãƒ¢ãƒ‡ãƒ«ã¨ã¯**\\\n> ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ä¸€ã¤ï¼ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹é€ ã‚’model, view, controllerã®3ã¤ã«åˆ†ã‘ã‚‹ã“ã¨ã§ï¼Œã‚³ãƒ¼ãƒ‰ã®æ•´ç†ã‚„ä¿å®ˆæ€§ã‚’å‘ä¸Šã•ã›ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼\n\n### ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ä½œæˆ\n\n```bash\nrails generate controller Api::v1::Posts index show create update destroy\n```\n\n> ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®è¨­å®šã‚’é–“é•ãˆãŸå ´åˆï¼Œ`rails destroy controller Api::v1::Posts`ã§å‰Šé™¤ã§ãã‚‹\n\n#### **ä½œæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«**\n\n##### **ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ•ã‚¡ã‚¤ãƒ«**\n\nã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ï¼`render`ãƒ¡ã‚½ãƒƒãƒ‰ã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™ï¼ä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜è¿°ã™ã‚‹ã“ã¨ã§ï¼Œjsonå½¢å¼ã§ãƒ‡ãƒ¼ã‚¿ã‚’è¿”ã™ã“ã¨ãŒã§ãã¾ã™ï¼\n\nä»Šå›ã¯ï¼Œ**æŠ•ç¨¿ä¸€è¦§**ï¼Œ**ç‰¹å®šã®æŠ•ç¨¿**ãŒå–å¾—ã§ãã‚‹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ï¼ŒæŠ•ç¨¿å†…å®¹ã‚’**ä½œæˆ**ï¼Œ**ç·¨é›†**ï¼Œ**å‰Šé™¤**ã§ãã‚‹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã‚’ä½œã£ã¦ã„ãã¾ã™\n\n```ruby\n# app/controllers/api/v1/posts_controller.rb\nclass Api::V1::PostsController < ApplicationController\n  def index\n    @posts = Post.all\n\n    render json: @posts\n  end\n\n  def show\n    @post = Post.find(params[:id])\n\n    render json: @post\n  end\n\n  def create\n    @post = Post.new(post_params)\n\n    if @post.save\n      render json: @post, status: :created\n    else\n      render json: @post.errors, status: :unprocessable_entity\n    end\n  end\n\n  def update\n    @post = Post.find(params[:id])\n\n    if @post.update(post_params)\n      render json: @post\n    else\n      render json: @post.errors, status: :unprocessable_entity\n    end\n  end\n\n  def destroy\n    @post = Post.find(params[:id])\n\n    @post.destroy\n  end\n\n  private\n\n  def post_params\n    params.require(:post).permit(:title, :content)\n  end\nend\n```\n\n> `@`ãŒã¤ã„ã¦ã„ã‚‹å¤‰æ•°ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°ï¼`:`ãŒã¤ã„ã¦ã„ã‚‹å¤‰æ•°ã¯ã‚·ãƒ³ãƒœãƒ«ï¼æ–‡å­—åˆ—ã®çš®ã‚’ã‹ã¶ã£ãŸæ•´æ•°å€¤ \\\n> `status: :unprocessable_entity`ã¯è¾æ›¸ \\\n> `params` ã¯ Rails ãŒãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•ã§ã‚»ãƒƒãƒˆã—ã¦ãã‚Œã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ\n\n##### **ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**\n\nåŸºæœ¬ã¯æ—¢ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ï¼`config/routes.rb`ã§ç®¡ç†ã‚’ã—ã¦ã„ã‚‹\n\n```ruby\n# config/routes.rb\n\nRails.application.routes.draw do\n  namespace :api do\n    namespace :v1 do\n      resources :posts, only: [:index, :show, :create, :update, :destroy]\n    end\n  end\n  # Define your application routes per the DSL in https://guides.rubyonrails.org/routing.html\n\n  # Reveal health status on /up that returns 200 if the app boots with no exceptions, otherwise 500.\n  # Can be used by load balancers and uptime monitors to verify that the app is live.\n  get \"up\" => \"rails/health#show\", as: :rails_health_check\n\n  # Defines the root path route (\"/\")\n  # root \"posts#index\"\nend\n```\n\n> `resources :posts, only: [:index, :show, :create, :update, :destroy]` ã¨ã™ã‚‹ã¨ï¼Œã“ã‚Œã‚‰ã¯æš—é»™çš„ã«ä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒè¨­å®šã•ã‚Œã‚‹\n> | HTTPãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©#ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | ç”¨é€” |\n> | --- | --- | --- | --- |\n> | GET | /posts | posts#index | ä¸€è¦§è¡¨ç¤º |\n> | GET | /posts/:id | posts#show | è©³ç´°è¡¨ç¤º |\n> | POST | /posts | posts#create | ä½œæˆ |\n> | PUT | /posts/:id | posts#update | æ›´æ–° |\n> | DELETE | /posts/:id | posts#destroy | å‰Šé™¤ |\n>\n> ã“ã‚Œã‚’å„ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã”ã¨ã«è¨­å®šã™ã‚‹ã“ã¨ã§restfulãªAPIã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã‚‹\n\n### ãƒ†ã‚¹ãƒˆ\n\npostmanã‚„curlã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦APIã®ãƒ†ã‚¹ãƒˆã‚’è¡Œã†\n\n```bash\ncurl -X POST -H \"Content-Type: application/json\" -d '{\"post\": {\"title\": \"åˆã‚ã¦ã®æŠ•ç¨¿ã§ã™\", \"content\": \"åˆã‚ã¦ã®æŠ•ç¨¿ã§ã™\"}}' http://localhost:3000/api/v1/posts\ncurl -X POST -H \"Content-Type: application/json\" -d '{\"post\": {\"title\": \"2ã¤ç›®ã®æŠ•ç¨¿ã§ã™\", \"content\": \"2ã¤ç›®ã®æŠ•ç¨¿ã§ã™\"}}' http://localhost:3000/api/v1/posts\n\ncurl http://localhost:3000/api/v1/posts\ncurl http://localhost:3000/api/v1/posts/1\ncurl http://localhost:3000/api/v1/posts/2\n\ncurl -X PUT -H \"Content-Type: application/json\" -d '{\"post\": {\"title\": \"åˆã‚ã¦ã®æŠ•ç¨¿ã‚’æ›´æ–°ã—ã¾ã—ãŸ\", \"content\": \"åˆã‚ã¦ã®æŠ•ç¨¿ã‚’æ›´æ–°ã—ã¾ã—ãŸ\"}}' http://localhost:3000/api/v1/posts/1\ncurl -X PUT -H \"Content-Type: application/json\" -d '{\"post\": {\"title\": \"2ã¤ç›®ã®æŠ•ç¨¿ã‚’æ›´æ–°ã—ã¾ã—ãŸ\", \"content\": \"2ã¤ç›®ã®æŠ•ç¨¿ã‚’æ›´æ–°ã—ã¾ã—ãŸ\"}}' http://localhost:3000/api/v1/posts/2\n\ncurl -X DELETE http://localhost:3000/api/v1/posts/1\ncurl -X DELETE http://localhost:3000/api/v1/posts/2\n```\n\n## ãƒãƒ¼ãƒˆç•ªå·ã®å¤‰æ›´\n\n```bash\nrails s -p 3001\n```\n\n> æ°¸ç¶šçš„ã«å¤‰æ›´ã™ã‚‹å ´åˆã¯`config/puma.rb`ã‚’å¤‰æ›´ã™ã‚‹\n\n# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰\n\nNext.js typescript App router, TailwindCSSã‚’ä½¿ã£ã¦ã„ãã¾ã™ï¼\n\n## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ\n\n---\n\n```bash\nnpx create-next-app blog_client\n```\n\n## å„ç¨®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½œæˆ\n\n---\n\n### å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«\n\nãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºæ™‚ã«ä½œã£ãŸãƒ¢ãƒ‡ãƒ«ã®ã‚¹ã‚­ãƒ¼ãƒã¨åŒã˜ã«ã™ã‚‹ã¨è‰¯ã„ã§ã™ï¼\n\n```typescript\nexport type Post = {\n  id: number;\n  title: string;\n  content: string;\n  created_at: string;\n  updated_at: string;\n};\n```\n\n### æŠ•ç¨¿ä¸€è¦§ãƒšãƒ¼ã‚¸\n\n#### **ä¸€è¦§ãƒšãƒ¼ã‚¸**\n\nä¸€è¦§ãƒšãƒ¼ã‚¸ã§ã¯ï¼Œ`http://localhost:3000/api/v1/posts`ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã§ï¼Œã™ã¹ã¦ã®æŠ•ç¨¿ã‚’å–å¾—ã—ã¾ã™ï¼å„æŠ•ç¨¿ã«ã¯ç·¨é›†ãƒœã‚¿ãƒ³ã¨å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’ç”¨æ„ã—ï¼ŒæŠ•ç¨¿ä½œæˆãƒœã‚¿ãƒ³ã‚‚ç”¨æ„ã—ã¾ã™ï¼\n\nåŸºæœ¬çš„ã«ã¯SSRã§å®Ÿè£…ã—ã¦ã„ãã¾ã™ãŒï¼Œãƒ•ã‚©ãƒ¼ãƒ ãªã©ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§å‡¦ç†ã—ãªã„ã¨ã„ã‘ãªã„ã®ã§ï¼Œãã‚Œã‚‰ã¯åˆ¥é€”ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã—ã¦ä½œæˆã—ã¦ã„ãã¾ã™ï¼\n\n> **SSRã¨ã¯**\\\n> ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®æ„ï¼ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§ã¯ãªãã‚µãƒ¼ãƒå´ã§å‡¦ç†ã‚’æ¸ˆã¾ã™ã®ã§è² è·ãŒã‹ã‹ã‚Šã«ããã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é¢ã«ãŠã„ã¦ã‚‚å®‰å…¨ï¼\n\n```tsx\n// app/page.tsx\nimport { Post } from \"@/lib/types\";\nimport Link from \"next/link\";\nimport { DeletePost } from \"./_components/delete-post\";\n\nexport default async function Home() {\n  const res = await fetch(\"http://localhost:3001/api/v1/posts\", {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  });\n  const posts: Post[] = await res.json();\n\n  return (\n    <div className=\"container mx-auto p-4 flex flex-col items-center\">\n      <h2 className=\"text-2xl font-bold mb-4\">Rails & Next.js Blog</h2>\n\n      <Link\n        href=\"/create-post\"\n        className=\"text-blue-500 hover:text-blue-700 mb-4\"\n      >\n        Create new Post\n      </Link>\n\n      <div className=\"mt-6 w-full max-w-2xl\">\n        {posts.map((post) => (\n          <div\n            key={post.id}\n            className=\"border border-gray-300 rounded-lg p-4 mb-4 shadow-md\"\n          >\n            <Link\n              href={`posts/${post.id}`}\n              className=\"text-xl font-semibold text-blue-600 hover:text-blue-800\"\n            >\n              {post.title}\n            </Link>\n\n            <p className=\"text-gray-700 mt-2\">{post.content}</p>\n\n            <div className=\"flex justify-end mt-4\">\n              <Link\n                href={`posts/${post.id}/edit-post`}\n                className=\"text-sm text-white bg-blue-500 hover:bg-blue-700 py-1 px-2 rounded mr-2\"\n              >\n                Edit\n              </Link>\n\n              <DeletePost id={post.id} />\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n```\n\n#### **å‰Šé™¤ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**\n\nã“ã¡ã‚‰ã¯onClickã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§ç™ºç«ã•ã›ãªã‘ã‚Œã°ãªã‚‰ãªã„ãŸã‚ï¼Œ`use client`ã‚’è¿½åŠ ã—ï¼Œã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ã—ã¾ã™ï¼\n\n```tsx\n// app/_components/delete-post.tsx\n\"use client\";\n\nexport const DeletePost = ({ id }: { id: number }) => {\n  const handleDelete = async (id: number) => {\n    const res = await fetch(`http://localhost:3001/api/v1/posts/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    });\n\n    if (res.ok) {\n      alert(\"Post deleted\");\n    } else {\n      alert(\"Failed to delete post\");\n    }\n  };\n\n  return (\n    <button\n      onClick={() => handleDelete(id)}\n      className=\"text-sm text-white bg-red-500 hover:bg-red-700 py-1 px-2 rounded\"\n    >\n      Delete\n    </button>\n  );\n};\n```\n\n### æŠ•ç¨¿è©³ç´°ãƒšãƒ¼ã‚¸\n\nã“ã¡ã‚‰ã§ã¯ï¼Œå‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ç”¨ã„ã¦idã‚’å–å¾—ã—ï¼Œå¯¾è±¡ã®æŠ•ç¨¿ã‚’å–å¾—ã—ã¦è¡¨ç¤ºã—ã¾ã™ï¼\n\n```tsx\n// app/posts/[id]/page.tsx\nimport { Post } from \"@/lib/types\";\nimport Link from \"next/link\";\n\nexport default async function PostPage({\n  params,\n}: {\n  params: Promise<{ id: string }>;\n}) {\n  const { id } = await params;\n  const res = await fetch(`http://localhost:3001/api/v1/posts/${id}`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  });\n\n  const post: Post = await res.json();\n\n  return (\n    <div className=\"container mx-auto p-4 flex flex-col items-center\">\n      <div className=\"w-full max-w-2xl p-4\">\n        <h1 className=\"text-3xl font-bold mb-4\">{post.title}</h1>\n        <div className=\"text-gray-500 mb-4\">{post.created_at}</div>\n        <p className=\"text-gray-700\">{post.content}</p>\n        <Link href=\"/\" className=\"text-blue-500 hover:text-blue-700\">\n          æŠ•ç¨¿ä¸€è¦§ã«æˆ»ã‚‹\n        </Link>\n      </div>\n    </div>\n  );\n}\n```\n\n### æŠ•ç¨¿ä½œæˆãƒšãƒ¼ã‚¸\n\nã“ã¡ã‚‰ã¯ï¼Œã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãŒãƒ•ã‚©ãƒ¼ãƒ ã‚’ç·¨é›†ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã®ã§ï¼Œã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ã—ã¾ã™ï¼\n\n```tsx\n// app/create-post/page.tsx\n\"use client\";\n\nimport Link from \"next/link\";\nimport { redirect } from \"next/navigation\";\n\nexport default function CreatePage() {\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    const formData = new FormData(e.currentTarget);\n    const title = formData.get(\"title\") as string;\n    const content = formData.get(\"content\") as string;\n\n    const res = await fetch(\"http://localhost:3001/api/v1/posts\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        title: title,\n        content: content,\n      }),\n    });\n\n    if (res.ok) {\n      redirect(\"/\");\n    } else {\n      alert(\"Failed to create post\");\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto p-4 flex flex-col items-center\">\n      <div className=\"w-full max-w-2xl\">\n        <h1 className=\"text-3xl font-bold mb-6\">ãƒ–ãƒ­ã‚°æ–°è¦ç™»éŒ²</h1>\n\n        <form className=\"w-full\" onSubmit={handleSubmit}>\n          <div className=\"mb-4\">\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\">\n              ã‚¿ã‚¤ãƒˆãƒ«\n            </label>\n            <input\n              name=\"title\"\n              type=\"text\"\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n            />\n          </div>\n\n          <div className=\"mb-6\">\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\">\n              æœ¬æ–‡\n            </label>\n            <textarea\n              name=\"content\"\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n            />\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <button\n              type=\"submit\"\n              className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\n            >\n              æŠ•ç¨¿\n            </button>\n            <Link href=\"/\" className=\"text-blue-500 hover:text-blue-700\">\n              ã‚­ãƒ£ãƒ³ã‚»ãƒ«\n            </Link>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n```\n\n### æŠ•ç¨¿ç·¨é›†ãƒšãƒ¼ã‚¸\n\n#### **ç·¨é›†ãƒšãƒ¼ã‚¸**\n\nã“ã¡ã‚‰ã¯ï¼Œãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚‹ãŸã‚ã«SSRã—ï¼Œç·¨é›†ãŒã§ãã‚‹ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ¸¡ã—ã¦ãŠãã¾ã™\n\n```tsx\nimport { Post } from \"@/lib/types\";\nimport { EditForm } from \"./_components/form\";\n\nexport default async function EditPage({\n  params,\n}: {\n  params: Promise<{ id: string }>;\n}) {\n  const { id } = await params;\n  const res = await fetch(`http://localhost:3001/api/v1/posts/${id}`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  });\n\n  const post: Post = await res.json();\n\n  return <EditForm post={post} />;\n}\n```\n\n#### **ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ **\n\n```tsx\n\"use client\";\n\nimport { Post } from \"@/lib/types\";\nimport Link from \"next/link\";\nimport { redirect } from \"next/navigation\";\n\nexport const EditForm = ({ post }: { post: Post }) => {\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    const formData = new FormData(e.currentTarget);\n    const title = formData.get(\"title\") as string;\n    const content = formData.get(\"content\") as string;\n\n    const res = await fetch(`http://localhost:3001/api/v1/posts/${post.id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        title: title,\n        content: content,\n      }),\n    });\n\n    if (res.ok) {\n      redirect(`/posts/${post.id}`);\n    } else {\n      alert(\"Failed to update post\");\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto p-4 flex flex-col items-center\">\n      <div className=\"w-full max-w-2xl\">\n        <h1 className=\"text-3xl font-bold mb-6\">ãƒ–ãƒ­ã‚°ç·¨é›†</h1>\n\n        <form className=\"w-full\" onSubmit={handleSubmit}>\n          <div className=\"mb-4\">\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\">\n              ã‚¿ã‚¤ãƒˆãƒ«\n            </label>\n            <input\n              name=\"title\"\n              type=\"text\"\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n              defaultValue={post.title}\n            />\n          </div>\n\n          <div className=\"mb-6\">\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\">\n              æœ¬æ–‡\n            </label>\n            <textarea\n              name=\"content\"\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n              defaultValue={post.content}\n            />\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <button\n              type=\"submit\"\n              className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\n            >\n              æ›´æ–°\n            </button>\n            <Link\n              href={`/posts/${post.id}`}\n              className=\"text-blue-500 hover:text-blue-700\"\n            >\n              ã‚­ãƒ£ãƒ³ã‚»ãƒ«\n            </Link>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n```\n",
    "createdAt": "2025-07-09T03:20:03.308Z",
    "updatedAt": "2025-07-09T03:20:03.308Z"
  },
  {
    "title": "PCAè§£èª¬",
    "summary": "PCAã‚’ä¸€ã‹ã‚‰ã¾ã¨ã‚ã¾ã—ãŸï¼",
    "tags": [
      "PCA",
      "AI",
      "Machine Learning"
    ],
    "slug": "Generative-AI/PCA-explanation",
    "folder": "Generative-AI",
    "content": "\n# æ•™å¸«ãªã—å­¦ç¿’ã¨ã¯\n\n---\n\n## æ•™å¸«ã‚ã‚Šå­¦ç¿’ã¨æ¯”è¼ƒ\n\n1. ç›®çš„å¤‰æ•°ãŒãªã„ã€å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ãã®ã‚‚ã®ã«æ³¨ç›®\n2. ãƒ‡ãƒ¼ã‚¿ã®ä¸­ã«éƒ¨åˆ†é›†åˆã‚’è¦‹ã¤ã‘ãŸã‚Šã€ãƒ‡ãƒ¼ã‚¿ã‚’å¤‰æ›ã—ã¦åˆ¥ã®å½¢å¼ã§è¡¨ç¾ã—ãŸã‚Šã™ã‚‹ã“ã¨ã§ãƒ‡ãƒ¼ã‚¿ã®è§£é‡ˆæ€§ã‚’é«˜ã‚ã‚‹\n3. ãƒ‡ãƒ¼ã‚¿ã«æ½œã‚€ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚„ç¤ºå”†ã‚’è¦‹å‡ºã™ãŸã‚ã«ç”¨ã„ã‚‹\n4. æ•™å¸«ãªã—å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã¯ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã€æ¬¡å…ƒå‰Šæ¸›ã«å¤§åˆ¥ã§ãã‚‹\n\n## ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ã‚¹ã®ãƒ—ãƒ­ã‚»ã‚¹\n\nOSEMN (ã‚ªãƒ¼ã‚µãƒ ) Process\n\n![](https://miro.medium.com/v2/resize:fit:828/format:webp/1*eE8DP4biqtaIK3aIy1S2zA.png)\n\n[5 Steps of a Data Science Project Lifecycle](https://towardsdatascience.com/5-steps-of-a-data-science-project-lifecycle-26c50372b492)\n\n### OBTAIN (ãƒ‡ãƒ¼ã‚¿ã®å–å¾—)\n\nãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã€‚ãƒ‡ãƒ¼ã‚¿ã¯ä¸»ã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã€`CSV`, `Web API`ã‹ã‚‰å–å¾—ã§ãã‚‹\n\n### SCRUB\n\nãƒ‡ãƒ¼ã‚¿ã‚’è§£é‡ˆã™ã‚‹ãŸã‚ã«æ•´ç†ã™ã‚‹ã€‚\n\nãƒ‡ãƒ¼ã‚¿ã«ã¯æ¬ æå€¤ã‚„ã€ãƒ¢ãƒ‡ãƒ«ã«ä½¿ç”¨ã§ããªã„å‹ã«ãªã£ã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿ãŒå­˜åœ¨ã™ã‚‹ã€‚ã¾ãŸã€(ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«)ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§ã¯è¤‡æ•°ã®ãƒ†ãƒ¼ãƒ–ãƒ«ãŒæ··åœ¨ã—ã¦ãŠã‚Šã€ãƒ‡ãƒ¼ã‚¿åˆ†æãŒã—ã«ãã„ã€‚åˆ—ã‚’åˆ†å‰²ã€ã‚ã‚‹ã„ã¯çµåˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚\n\npythonã§ã¯ä¸»ã«`pandas`ã‚’ä½¿ã†ã€‚\n\n### EXPLORE (ãƒ‡ãƒ¼ã‚¿ã®æ¢ç´¢)\n\nãƒ¢ãƒ‡ãƒ«ã«ä½¿ã†ãŸã‚ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ¢ã™ã€‚**æ©Ÿæ¢°ãªã—å­¦ç¿’ã¯ã“ã“ã§å½¹ç«‹ã¤**ã€‚ã¾ãŸpythonã§ã¯ã€`matplotlib`ã‚’ç”¨ã„ã¦ãƒ‡ãƒ¼ã‚¿ã®å¯è¦–åŒ–ã‚‚è¡Œã†ã€‚\n\nã“ã“ã§ã¯ãƒ‡ãƒ¼ã‚¿ã®ãƒ¡ã‚¿çš„ãªç†è§£ãŒå¿…è¦ã€‚ãã®ãŸã‚ã®æ¢ç´¢ã€ç‰¹å¾´é‡ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã‚’è¡Œã†ã€‚\n\n### MODEL\n\nå°†æ¥ã‚’äºˆæ¸¬ã™ã‚‹ãŸã‚ã«**æ•™å¸«ã‚ã‚Šå­¦ç¿’**ã‚’ç”¨ã„ã¦æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã‚’ä½œã‚‹ã€‚\n\n### INTERPRET\n\nãƒ‡ãƒ¼ã‚¿ã‚’åˆ©ç”¨ã—ã¦ä¾¡å€¤ã‚’å‰µå‡ºã™ã‚‹ã€‚(ç¨¼ã)\n\n# PCAã¨ã¯\n\n---\n\nPCA: Principal Component Analysis (ä¸»æˆåˆ†åˆ†æ)\n\n## æ¬¡å…ƒå‰Šæ¸›\n\nã‚ˆã‚Šå°‘ãªã„ç‰¹å¾´é‡ã§ãƒ‡ãƒ¼ã‚¿ã‚’ç†è§£ã™ã‚‹ãŸã‚ã®æ‰‹æ³•ã€‚å¤šå¤‰æ•°ãƒ‡ãƒ¼ã‚¿ã‚’ç‰¹å¾´ã‚’ä¿ã¡ãªãŒã‚‰å°‘å¤‰æ•°ã§è¡¨ç¾ã™ã‚‹ã“ã¨ã€‚\n\næ©Ÿæ¢°å­¦ç¿’ã«ãŠã„ã¦ã€ç‰¹å¾´é‡ã¯å¤šã™ããªã„ã»ã†ãŒè‰¯ã„ã€‚ãƒ‡ãƒ¼ã‚¿ã®è§£é‡ˆæ€§ã‚’å¤±ã†æã‚ŒãŒã‚ã‚‹ã—ã€éå­¦ç¿’ãŒèµ·ã“ã‚Šã‚„ã™ã„ã€‚ã•ã‚‰ã«ã€å‡¦ç†ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚‚é…ããªã‚‹ã€‚ãã‚Œã‚‰ã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«ã€Œç‰¹å¾´é‡ã‚’æ¸›ã‚‰ã™=æ¬¡å…ƒå‰Šæ¸›ã‚’ã™ã‚‹ã€\n\n## PCAæ¦‚è¦\n\nå¤‰æ•°é–“ã«ç›¸é–¢ã®ã‚ã‚‹ãƒ‡ãƒ¼ã‚¿ã«å¯¾ã—ã¦æœ‰åŠ¹ã€‚ä»£è¡¨çš„ãªæ¬¡å…ƒå‰Šæ¸›ã®æ‰‹æ³•ã€‚\n\nå…ƒãƒ‡ãƒ¼ã‚¿ã®å¤‰æ•°ã‹ã‚‰æ–°ãŸãªå¤‰æ•°ã‚’æ§‹æˆã™ã‚‹ã€‚\nãŸã„ã¦ã„ã®å ´åˆ3æ¬¡å…ƒä»¥å†…ã«åã‚ã‚‹\n\nä»¥ä¸‹ã®ã‚µã‚¤ãƒˆã§è¦–è¦šçš„ã«ç†è§£ã§ãã‚‹\n\n[Principal Component Analysis explained visually](https://setosa.io/ev/principal-component-analysis/)\n\n![a](https://newsatcl-pctr.c.yimg.jp/t/amd-img/20200202-00010000-wordleaf-000-8-view.jpg?pri=l&w=640&h=640&exp=10800&fmt=webp)\n\n## ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \n\n### ã‚„ã‚‹ã“ã¨\n\nä¸»æˆåˆ†ã«ãŠã‘ã‚‹å†…ç©ã®åˆ†æ•£ãŒæœ€å¤§ã¨ãªã‚‹ã‚ˆã†ãªä¸»æˆåˆ†è»¸ã‚’è¦‹ã¤ã‘ã‚‹â†’åŸºåº•å¤‰æ›\n\nâ†’åŸºåº•ã‚’å¤‰æ›ã—ãŸã„ã®ã§å¤‰æ›è¡Œåˆ—ãŒå¿…è¦ã€æœ€é©ãªå¤‰æ›è¡Œåˆ—ã‚’æ±‚ã‚ã‚‹\n\n![output.png](output.png)\n\n$$\niç•ªç›®ã®pæ¬¡å…ƒãƒ™ã‚¯ãƒˆãƒ«x_{i*}ãŒ(x_{i1},x_{i2},...,x_{ip})^Tã®ã¨ã\n$$\n\n$$\nãƒ‡ãƒ¼ã‚¿Xã‚’ã€\\mathbf X=\\begin{pmatrix}\nx_{11}&x_{12}&...&x_{1p}\\\\\nx_{21}&x_{22}&...&x_{2p}\\\\\n\\vdots&\\vdots&\\ddots&\\vdots&\\\\\nx_{n1}&x_{n2}&...&x_{np}\n\\end{pmatrix},\\quad\n\npæ¬¡å…ƒã‹ã‚‰qæ¬¡å…ƒã«å¤‰æ›ã™ã‚‹å¤‰æ›è¡Œåˆ—ã‚’\\mathbf w=\\begin{pmatrix}\nw_{11}&w_{12}&...&w_{1q}\\\\\nw_{21}&w_{22}&...&w_{2q}\\\\\n\\vdots&\\vdots&\\ddots&\\vdots&\\\\\nw_{p1}&w_{p2}&...&w_{pq}\n\\end{pmatrix}ã¨ã™ã‚‹ã€‚\n$$\n\n> å¤‰æ›è¡Œåˆ—ã®ãã‚Œãã‚Œã®åˆ—ã¯åŸºåº•ãƒ™ã‚¯ãƒˆãƒ«ã‚’è¡¨ã™\n\n$$\nã“ã®ã¨ãã€åœ§ç¸®ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’\\mathbf Yã¨ã™ã‚‹ã¨ã€\\mathbf Y=\\mathbf X\\mathbf wãŒæˆã‚Šç«‹ã¤ã€‚æ¬¡ã«ã€å°„å½±å¾Œã®ãƒ™ã‚¯ãƒˆãƒ«ã«ã¤ã„ã¦è€ƒãˆã‚‹ã€‚\n$$\n\n$$\nå…ƒã®ãƒ‡ãƒ¼ã‚¿ãƒ™ã‚¯ãƒˆãƒ«x_{i*}ã‚’æ±‚ã‚ãŸã„ä¸»æˆåˆ†ã®æ–¹å‘ã«å°„å½±ã—ãŸçµæœã‚’y_iã€ã“ã®æ™‚ã®ä¸»æˆåˆ†ã‚’w=(w_1,w_2,...,w_p)^Tã¨ã™ã‚‹ã¨ã€y_i=w^Tx_{i*}ã¨è¡¨ã›ã‚‹ã€‚\n$$\n\n![](https://math-negi.jp/wp-content/uploads/2021/10/20211028214521.png)\n\n> ãƒ™ã‚¯ãƒˆãƒ«ã®æ–¹å‘ãŒè¿‘ã‘ã‚Œã°è¿‘ã„ã»ã©ã€å†…ç©ã¯å¤§ãããªã‚‹ã€‚ãã®åˆ†å†…ç©ã®å€¤ã®ã‚ºãƒ¬ã‚‚å¤§ãããªã‚‹â†’ãã®æ–¹å‘ã«ãŠã‘ã‚‹å†…ç©ã®åˆ†æ•£ã®æœ€å¤§å€¤ã‚’æ±‚ã‚ã‚Œã°ä¸»æˆåˆ†ãŒæ±ºã¾ã‚‹ã®ã§ã¯ï¼Ÿ\n\n$$\nã“ã®ã¨ãã€åˆ†æ•£s^2=\\frac{1}{n}\\sum_{i=1}^n(y_i-\\overline y)^2,\\quad å¹³å‡\\overline y=\\frac{1}{n}\\sum_{i=1}^ny_i=w_1\\overline {x_{*1}}+w_2\\overline {x_{*2}}+...+w_p\\overline {x_{*p}}=w^T(\\overline{x_{*1}},\\overline{x_{*2}},...,\\overline{x_{*p}})ã¨ãªã‚‹ã®ã§ã€\\\\\n\ns^2=\\frac{1}{n}\\sum_{i=1}^n(w^T(x_{i1},x_{i2},...,x_{ip})-w^T(\\overline{x_{*1}},\\overline{x_{*2}},...,\\overline{x_{*p}}))^2\\\\=\n\n\\frac{1}{n}\\sum_{i=1}^n \\left\\{w\n\\begin{pmatrix}\nx_{i1}-\\overline{x_{*1}}\\\\\nx_{i2}-\\overline{x_{*2}}\\\\\n\\vdots\\\\\nx_{ip}-\\overline{x_{*p}}\n\\end{pmatrix}\\right\\}^2=\n\n\\frac{1}{n}\\sum_{i=1}^n w^T\n\\begin{pmatrix}\nx_{i1}-\\overline{x_{*1}}\\\\\nx_{i2}-\\overline{x_{*2}}\\\\\n\\vdots\\\\\nx_{ip}-\\overline{x_{*p}}\n\\end{pmatrix}\n\\begin{pmatrix}\nx_{i1}-\\overline{x_{*1}}\\\\\nx_{i2}-\\overline{x_{*2}}\\\\\n\\vdots\\\\\nx_{ip}-\\overline{x_{*p}}\n\\end{pmatrix}^Tw=\n\n w^T\n\\frac{1}{n}\\sum_{i=1}^n\n\\begin{pmatrix}\nx_{i1}-\\overline{x_{*1}}\\\\\nx_{i2}-\\overline{x_{*2}}\\\\\n\\vdots\\\\\nx_{ip}-\\overline{x_{*p}}\n\\end{pmatrix}\n\\begin{pmatrix}\nx_{i1}-\\overline{x_{*1}}\\\\\nx_{i2}-\\overline{x_{*2}}\\\\\n\\vdots\\\\\nx_{ip}-\\overline{x_{*p}}\n\\end{pmatrix}^Tw\n\n=w^TSw\\\\\n\nâ€»å…±åˆ†æ•£è¡Œåˆ—S=\\begin{pmatrix}\ns_{11}&s_{12}&...&s_{1p}\\\\\ns_{21}&s_{22}&...&s_{2p}\\\\\n\\vdots&\\vdots&\\ddots&\\vdots&\\\\\ns_{p1}&s_{p2}&...&s_{pp}\n\\end{pmatrix},\\quad s_{jk}=\\frac{1}{n}\\sum_{i=1}^n(x_{ij}-\\overline{x_{*j}})(x_{ik}-\\overline{x_{*k}})\n$$\n\n$$\nã“ã“ã§s^2=w^TSw\\quad (w^Tw=1)ãŒæœ€å¤§å€¤ã‚’å–ã‚‹ã¨ãã®wã‚’ãƒ©ã‚°ãƒ©ãƒ³ã‚¸ãƒ¥ã®æœªå®šä¹—æ•°æ³•ã§æ±‚ã‚ã‚‹ã€‚\\\\\nf(w)=s^2=w^TSw,\\quad åˆ¶ç´„ï¼šg(w)=w^Tw-1=0\\quad ã®ã‚‚ã¨ã§ã€ãƒ©ã‚°ãƒ©ãƒ³ã‚¸ãƒ¥é–¢æ•°ã¯F(w,\\lambda)=f(w)+\\lambda g(w)ã¨ãªã‚‹ã€‚\\\\(wã¯ã„ãã‚‰ã§ã‚‚å¤§ããã§ãã¦ã—ã¾ã†ã®ã§åˆ¶ç´„ãŒå¿…è¦)\n$$\n\n[ãƒ©ã‚°ãƒ©ãƒ³ã‚¸ãƒ¥ã®æœªå®šä¹—æ•°æ³•ã¨ä¾‹é¡Œ | é«˜æ ¡æ•°å­¦ã®ç¾ã—ã„ç‰©èª](https://manabitimes.jp/math/879)\n\n$$\ns^2ãŒæœ€å¤§åŒ–ã™ã‚‹ã¨ã \\frac{\\partial}{\\partial w}F(w,\\lambda)=2Sw-2\\lambda w=0ã‚ˆã‚Šã€Sw=\\lambda w\n$$\n\n$$\nSw=\\lambda wã¯å…±åˆ†æ•£è¡Œåˆ—ã®å›ºæœ‰æ–¹ç¨‹å¼ã‚’è¡¨ã—ã¦ã„ã‚‹ã€‚ã¡ãªã¿ã«ä¸¡è¾ºã«w^Tã‚’ã‹ã‘ã‚‹ã¨ã€w^TSw=w^T\\lambda w,\\quad å¼å¤‰å½¢ã—ã¦ã„ãã¨ä»®å®šã‚ˆã‚Šw^TSw=\\lambda w^Tw=\\lambda=s^2\n$$\n\n$$\nã—ãŸãŒã£ã¦å›ºæœ‰å€¤\\lambdaã¯åˆ†æ•£ãã®ã‚‚ã®ã‚’è¡¨ã™ã€‚\\\\ã¾ãŸã€ãã‚Œãã‚Œã«å¯¾ã™ã‚‹å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ«wã¯å¤‰æ›å¾Œã®åŸºåº•=ä¸»æˆåˆ†ã§ã‚ã‚Šã€æ±‚ã‚ãŸã„å¤‰æ›è¡Œåˆ—\\mathbf wã¯\\begin{pmatrix}w_1&w_2&...&w_q\\end{pmatrix}ã¨ãªã‚‹ã€‚\n$$\n\n## å¯„ä»˜ç‡\n\nå„æˆåˆ†ã”ã¨ã«è¨ˆç®—ã•ã‚Œã‚‹å›ºæœ‰å€¤ã‚’å›ºæœ‰å€¤ã®ç·å’Œã§å‰²ã‚‹ã¨ã€ä¸»æˆåˆ†ã®é‡è¦åº¦ã®å‰²åˆã§è¡¨ç¾ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ã“ã®æ™‚ã®å‰²åˆã‚’å¯„ä»˜ç‡ã¨ã„ã„ã€å„ä¸»æˆåˆ†ãŒãƒ‡ãƒ¼ã‚¿ã‚’ã©ã‚Œãã‚‰ã„èª¬æ˜ã—ã¦ã„ã‚‹ã‹ã‚’è¡¨ç¾ã—ã¦ã„ã‚‹ã€‚\n\n$$\nç¬¬kä¸»æˆåˆ†ã®å¯„ä»˜ç‡=\\frac{\\lambda_k}{\\sum_{i=1}^n\\lambda_i}\n$$\n\n# pythonã§å®Ÿè£…ã—ã¦ã¿ã‚‹\n\n---\n\n## ãƒ‡ãƒ¼ã‚¿ã‚’ä½œã‚‹\n\næ¬¡ã«ç¤ºã™ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ã€`RandomState`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½¿ã£ã¦ã€2å¤‰æ•°ã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’ç”Ÿæˆã—ã€å„å¤‰æ•°ã«ã¤ã„ã¦æ¨™æº–åŒ–ã—ãŸã‚‚ã®ã‚’ãƒ—ãƒ­ãƒƒãƒˆã—ãŸã‚‚ã®ã§ã‚ã‚‹ã€‚\n\n```py\nfrom sklearn.preprocessing import StandardScaler\nimport numpy as np\nimport scipy as sp\nimport matplotlib.pyplot as plt\n\n# RandomStateã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ\nsample = np.random.RandomState(1)\n\n#ï¼’ã¤ã®ä¹±æ•°ã‚’ç”Ÿæˆ\nX = np.dot(sample.rand(2, 2), sample.randn(2, 200)).T\n\n# æ¨™æº–åŒ– (å¹³å‡0, åˆ†æ•£1ã«ã™ã‚‹)\nsc = StandardScaler()\nX_std = sc.fit_transform(X)\n\n# ç›¸é–¢ä¿‚æ•°ã®ç®—å‡ºã¨ã‚°ãƒ©ãƒ•åŒ–\nprint('ç›¸é–¢ä¿‚æ•°{:.3f}:'.format(sp.stats.pearsonr(X_std[:, 0], X_std[:, 1])[0]))\nplt.scatter(X_std[:, 0], X_std[:, 1])\n```\n\n## ä¸»æˆåˆ†åˆ†æã®å®Ÿè¡Œ\n\n```py\n# ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\nfrom sklearn.decomposition import PCA\n\n# ä¸»æˆåˆ†åˆ†æ\npca = PCA(n_components=2) # 2æ¬¡å…ƒã«åœ§ç¸®\npca.fit(X_std)\n```\n\n## å­¦ç¿’çµæœã®ç¢ºèª\n\n### `components_`å±æ€§\n\nå¤‰æ›è¡Œåˆ—(å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ«)ã‚’å‡ºåŠ›ã™ã‚‹\n\n```py\nprint(pca.components_)\n```\n\n### `explained_variance_`å±æ€§\n\nåˆ†æ•£(å›ºæœ‰å€¤)ã‚’å‡ºåŠ›ã™ã‚‹\n\n```py\nprint('å„ä¸»æˆåˆ†ã®åˆ†æ•£:{}'.format(pca.explained_variance_))\n```\n\n## çµæœã‚’å›³ç¤ºã™ã‚‹\n\n```py\n# ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š\narrowprops=dict(arrowstyle='->',\n                linewidth=2,\n                shrinkA=0, shrinkB=0)\n\n# çŸ¢å°ã‚’æããŸã‚ã®é–¢æ•°\ndef draw_vector(v0, v1): # v0: å…ˆç«¯, v1: çµ‚ç«¯\n    plt.gca().annotate('', v1, v0, arrowprops=arrowprops)\n\n# å…ƒã®ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ—ãƒ­ãƒƒãƒˆ\nplt.scatter(X_std[:, 0], X_std[:, 1], alpha=0.2)\n\n# ä¸»æˆåˆ†åˆ†æã®2è»¸ã‚’çŸ¢å°ã§è¡¨ç¤ºã™ã‚‹\nfor length, vector in zip(pca.explained_variance_, pca.components_): # zip(): forãƒ«ãƒ¼ãƒ—ã®ä¸­ã§è¤‡æ•°ã®ãƒªã‚¹ãƒˆã‚’åŒæ™‚ã«å–ã‚Šå‡ºã™\n    v = vector * 3 * np.sqrt(length)\n    draw_vector(pca.mean_, pca.mean_ + v) # é‡å¿ƒã‚’èµ·ç‚¹ã¨ã™ã‚‹\n\nplt.axis('equal')\n```\n\n# PCAã‚’ç”¨ã„ãŸä¹³ãŒã‚“æ‚£è€…äºˆæ¸¬\n\n---\n\n## ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¤ãƒ³ãƒãƒ¼ãƒˆ\n\n```py\n# ä¹³ãŒã‚“ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚€ãŸã‚ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\nfrom sklearn.datasets import load_breast_cancer\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\n%matplotlib inline\n```\n\n## ä¹³ãŒã‚“ãƒ‡ãƒ¼ã‚¿ã®å–å¾—\n\n```py\n# ä¹³ãŒã‚“ãƒ‡ãƒ¼ã‚¿ã®å–å¾—\ncancer = load_breast_cancer()\ncancer\n```\n\n## pandas dataframeã§æ•´ç†\n\n```py\ndf = pd.DataFrame(cancer.data, columns=cancer.feature_names)\ndf[\"target\"] = cancer.target\ndf\n```\n\næ¬ æå€¤ãªã©ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚\n\n## èª¬æ˜å¤‰æ•°ã¨ç›®çš„å¤‰æ•°ã®é–¢ä¿‚ã‚’ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã«ã—ã¦ã¿ã‚‹\n\n### ãƒ‡ãƒ¼ã‚¿ã‚’malignant (æ‚ªæ€§)ã‹benign (è‰¯æ€§)ã«åˆ†ã‘ã‚‹ãŸã‚ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼å‡¦ç†\n\n```py\nmalignant = df[df[\"target\"] == 0]\nbenign = df[df[\"target\"] == 1]\n```\n\n### 30å€‹ã®ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã‚’ä½œã‚‹\n\n```py\n#ã€€malignantï¼ˆæ‚ªæ€§ï¼‰ãŒãƒ–ãƒ«ãƒ¼ã€benignï¼ˆè‰¯æ€§ï¼‰ãŒã‚ªãƒ¬ãƒ³ã‚¸ã®ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ \n# å„å›³ã¯ã€å„ã€…ã®èª¬æ˜å¤‰æ•°ï¼ˆmean radiusãªã©ï¼‰ã¨ç›®çš„å¤‰æ•°ã¨ã®é–¢ä¿‚ã‚’ç¤ºã—ãŸãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ \nfig, axes = plt.subplots(6,5,figsize=(20,20))\nax = axes.ravel()\nfor i, column in enumerate(df.columns[:-1]):\n    _,bins = np.histogram(df[column], bins=50)\n    ax[i].hist(malignant[column], bins, alpha=.5)\n    ax[i].hist(benign[column], bins, alpha=.5)\n    ax[i].set_title(column)\n    ax[i].set_yticks(())\n\n# ãƒ©ãƒ™ãƒ«ã®è¨­å®š\nax[0].set_ylabel('Count')\nax[0].legend(['malignant','benign'],loc='best')\nfig.tight_layout()\n```\n\nã—ã‹ã—ç‰¹å¾´çš„ãªãƒ‡ãƒ¼ã‚¿ã¯è¦‹å½“ãŸã‚‰ãªã„ã®ã§ã€ä¸»æˆåˆ†åˆ†æã‚’ç”¨ã„ã¦æ¬¡å…ƒå‰Šæ¸›ã‚’è¡Œã£ã¦ã¿ã‚‹\n\n## PCAã§æ¬¡å…ƒå‰Šæ¸›\n\n```py\n# æ¨™æº–åŒ–\nsc = StandardScaler()\nX_std = sc.fit_transform(cancer.data)\n\n# ä¸»æˆåˆ†åˆ†æ\npca = PCA(n_components=2)\npca.fit(X_std)\nX_pca = pca.transform(X_std)\n\n# è¡¨ç¤º\nprint('X_pca shape:{}'.format(X_pca.shape))\nprint('Explained variance ratio:{}'.format(pca.explained_variance_ratio_))\n```\n\nX_pcaã¯569è¡Œ2åˆ—ã«å¤‰æ›ã•ã‚ŒãŸâ†’569å€‹ã®äºŒæ¬¡å…ƒãƒ™ã‚¯ãƒˆãƒ«ã®é›†åˆ\n\n## åœ§ç¸®ãƒ‡ãƒ¼ã‚¿ã®å¯è¦–åŒ–\n\n### DFä½œæˆ\n\n```py\n# åˆ—ã«ãƒ©ãƒ™ãƒ«ã‚’ã¤ã‘ã‚‹ã€1ã¤ç›®ãŒç¬¬1ä¸»æˆåˆ†ã€2ã¤ç›®ãŒç¬¬2ä¸»æˆåˆ†\nX_pca = pd.DataFrame(X_pca, columns=['pc1','pc2'])\n\n# ä¸Šã®ãƒ‡ãƒ¼ã‚¿ã«ã€ç›®çš„å¤‰æ•°ï¼ˆcancer.targetï¼‰ã‚’ç´ã¥ã‘ã‚‹ã€æ¨ªã«çµåˆ\nX_pca = pd.concat([X_pca, pd.DataFrame(cancer.target, columns=['target'])], axis=1)\n\n# æ‚ªæ€§ã€è‰¯æ€§ã‚’åˆ†ã‘ã‚‹\npca_malignant = X_pca[X_pca['target']==0]\npca_benign = X_pca[X_pca['target']==1]\n```\n\n### å¯è¦–åŒ–\n\n```py\n# æ‚ªæ€§ã‚’ãƒ—ãƒ­ãƒƒãƒˆ\nax = pca_malignant.plot.scatter(x='pc1', y='pc2', color='red', label='malignant');\n\n# è‰¯æ€§ã‚’ãƒ—ãƒ­ãƒƒãƒˆ\npca_benign.plot.scatter(x='pc1', y='pc2', color='blue', label='benign', ax=ax);\n\n# ãŠãŠã‚ˆãã®å¢ƒç•Œç·š\nx = np.arange(-5, 9)\ny = 1.7 * x - 0.8\nax.plot(x, y, color=\"black\")\n```\n\nå¢ƒç•Œç·šã¯`SVM`ã‚’ä½¿ã†ã¨ã‚ˆã‚Šæœ€é©åŒ–ã§ãã‚‹ã‹ã‚‚\n\n# è£œè¶³\n\n---\n\n## ä¸»æˆåˆ†ã®é¸ã³æ–¹\n\nç´¯è¨ˆå¯„ä»˜ç‡ã‚’æ±‚ã‚ã¦ã¿ã‚‹ã¨ã€æ¬¡å…ƒãŒå¤§ãããªã‚‹ã»ã©å€¤ã¯å¤‰åŒ–ã—ãªããªã‚‹ã€‚ãªããªã‚‹ãã‚‰ã„ã®æ¬¡å…ƒãŒãƒ™ã‚¹ãƒˆã€‚é€†ã«æ¬¡å…ƒãŒå¤§ãããªã‚‹ã»ã©ç´¯è¨ˆå¯„ä»˜ç‡ãŒå¤§ããå¤‰ã‚ã‚‹å ´åˆã€ãã‚Œã¯ç›¸é–¢é–¢ä¿‚ãŒã‚ã‚‹ã¨ã¯è¨€ãˆãªã„ã€‚PCRã‚’ä½¿ã£ã¦ã‚‚ã‚ã¾ã‚Šæ„å‘³ãŒãªã„ã€‚\n\n## æ³¨æ„ç‚¹\n\n### è§£é‡ˆã®é›£ã—ã•\n\nä¸»æˆåˆ†åˆ†æã‚’ç”¨ã„ã¦å¾—ã‚‰ã‚Œã‚‹çµæœã¯ã€çµ±è¨ˆçš„ãªæŒ‡æ¨™ã‚„æ•°å€¤æƒ…å ±ã§ã‚ã‚‹ã€‚ã—ã‹ã—ã€è¦‹ã¤ã‹ã£ãŸä¸»æˆåˆ†ãŒå…·ä½“çš„ã«ã©ã®ã‚ˆã†ãªæ„å‘³ã‚’æŒã¤ã®ã‹ã¯ã€åˆ†æè€…ã®è§£é‡ˆã«å§”ã­ã‚‰ã‚Œã€ç›´æ„Ÿçš„ã«ã¯ç†è§£ã—ã¥ã‚‰ã„å ´åˆãŒã‚ã‚‹ã€‚ãã®ç†ç”±ã¯ã€ä¸»æˆåˆ†è‡ªä½“ãŒå…ƒã®ãƒ‡ãƒ¼ã‚¿ã¨ç›´æ¥ã®é–¢é€£ã‚’æŒãŸãªã„ãŸã‚ã§ã‚ã‚‹ã€‚\n\n### æ­£è¦æ€§ã®ä»®å®š\n\nä¸»æˆåˆ†åˆ†æã¯ã€ãƒ‡ãƒ¼ã‚¿ãŒæ­£è¦åˆ†å¸ƒã«å¾“ã£ã¦ã„ã‚‹ã¨ã„ã†ä»®å®šã®å…ƒã«æˆã‚Šç«‹ã£ã¦ã„ã‚‹åˆ†ææ‰‹æ³•ã§ã‚ã‚‹ã€‚æ­£è¦åˆ†å¸ƒã¨ã¯ã€å¹³å‡å€¤ã®å‘¨ã‚Šã«ãƒ‡ãƒ¼ã‚¿ãŒé›†ä¸­ã—ã€å·¦å³å¯¾ç§°ã®é‡£é˜çŠ¶ã«ãƒ‡ãƒ¼ã‚¿ãŒåºƒãŒã‚‹ã‚ˆã†ãªåˆ†å¸ƒã‚’ã•ã™ã€‚æ­£è¦æ€§ã®ä»®å®šã‚’æº€ãŸã•ãªã„ãƒ‡ãƒ¼ã‚¿ã«ä¸»æˆåˆ†åˆ†æã‚’é©ç”¨ã™ã‚‹ã¨ã€ä¸»æˆåˆ†ã®æ–¹å‘ã‚„å¯„ä¸ç‡ãŒæ­ªã‚ã‚‰ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚\n\n### å¤–ã‚Œå€¤ã®å½±éŸ¿\n\nå¤–ã‚Œå€¤ã¯é€šå¸¸ã®ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¿ãƒ¼ãƒ³ã‹ã‚‰å¤§ããé€¸è„±ã—ãŸå€¤ã§ã‚ã‚Šã€åˆ†æçµæœã«æ‚ªå½±éŸ¿ã‚’åŠã¼ã™å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚**ä¸»æˆåˆ†åˆ†æã¯ãƒ‡ãƒ¼ã‚¿ã®åˆ†æ•£ã‚’æœ€å¤§åŒ–ã™ã‚‹æ–¹å‘ã‚’æ±‚ã‚ã‚‹æ‰‹æ³•ã§ã‚ã‚‹**ã€‚ãã®ãŸã‚ã€å¤–ã‚Œå€¤ãŒåˆ†æ•£ã«å¤§ããå½±éŸ¿ã™ã‚‹ã¨ã€ä¸»æˆåˆ†ã®æ–¹å‘ã‚„å¯„ä¸ç‡ãŒæ­ªã‚ã‚‰ã‚Œã¦ã—ã¾ã†ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€åˆ†æçµæœãŒæ­ªã‚“ã ã‚Šã€è»¸ã®è§£é‡ˆãŒå›°é›£ã«ãªã£ã¦ã—ã¾ã†å•é¡ŒãŒç™ºç”Ÿã™ã‚‹ã€‚\n",
    "createdAt": "2025-07-11T13:23:19.958Z",
    "updatedAt": "2025-07-11T13:23:19.958Z"
  },
  {
    "title": "Radix UIã®dropdown menuã‚’é–‹ãã¨scrollbarãŒæ¶ˆãˆã¦ã‚¹ã‚¿ã‚¤ãƒ«ãŒå¤‰ã‚ã‚‹ã¨ãã®å¯¾å‡¦æ³•",
    "summary": "è¨˜äº‹ãŒãªã‹ã£ãŸã®ã§ä½œã‚‹",
    "tags": [
      "Next.js",
      "Web",
      "Webã‚¢ãƒ—ãƒªé–‹ç™º",
      "shadcn/ui",
      "CSS"
    ],
    "slug": "Next.js/redix-dropdown-error",
    "folder": "Next.js",
    "content": "\nRadix UIã®dropdown menuã‚’é–‹ãã¨ãã«ï¼Œã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ãŒæ¶ˆãˆã¦ã‚¹ã‚¿ã‚¤ãƒ«ãŒå¤‰ã‚ã£ã¦ã—ã¾ã†ã“ã¨ãŒã‚ã£ãŸï¼è¦‹æ „ãˆãŒæ‚ªã„ã®ã§ä¿®æ­£ã—ã‚ˆã†ã¨ã—ãŸãŒè¨˜äº‹ãŒãªãï¼Œä¿®æ­£ã«æ‰‹é–“å–ã£ãŸã®ã§ã“ã“ã«ä¿®æ­£æ–¹æ³•ã‚’è¨˜ã™ï¼\n\nè©²å½“ã®ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®é€šã‚Šï¼\n\n```tsx\n\"use client\";\nimport { Moon, Sun } from \"lucide-react\";\nimport { useTheme } from \"next-themes\";\n\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\n\nexport const ThemeToggle = ({ children }: { children: React.ReactNode }) => {\n  const { setTheme } = useTheme();\n\n  return (\n    <>\n      {children}\n\n      <DropdownMenu>\n        <DropdownMenuTrigger asChild>\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            className=\"\n              fixed bottom-8 right-8 \n              dark:text-gray-800 text-gray-200\n              hover:dark:text-gray-700 hover:text-gray-200\n              dark:bg-white bg-black\n              hover:dark:bg-gray-100 hover:bg-gray-950\n              dark:border-white border-black\n            \"\n          >\n            <Sun className=\"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\" />\n            <Moon className=\"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\" />\n            <span className=\"sr-only\">Toggle theme</span>\n          </Button>\n        </DropdownMenuTrigger>\n        <DropdownMenuContent\n          align=\"end\"\n          className=\"\n            dark:text-gray-800 text-gray-200\n            hover:dark:text-gray-700 hover:text-gray-200\n            dark:bg-white bg-black\n            hover:dark:bg-gray-100 hover:bg-gray-950\n            border-none\n          \"\n        >\n          <DropdownMenuItem\n            className=\"dark:hover:bg-gray-300 dark:hover:text-black\"\n            onClick={() => setTheme(\"light\")}\n          >\n            Light\n          </DropdownMenuItem>\n          <DropdownMenuItem\n            className=\"dark:hover:bg-gray-300 dark:hover:text-black\"\n            onClick={() => setTheme(\"dark\")}\n          >\n            Dark\n          </DropdownMenuItem>\n          <DropdownMenuItem\n            className=\"dark:hover:bg-gray-300 dark:hover:text-black\"\n            onClick={() => setTheme(\"system\")}\n          >\n            System\n          </DropdownMenuItem>\n        </DropdownMenuContent>\n      </DropdownMenu>\n    </>\n  );\n};\n```\n\nãƒœã‚¿ãƒ³è¦ç´ ãŒ`fixed`ã ã‹ã‚‰ãŠã‹ã—ããªã£ãŸã®ã‹ãªã¨ã¯æ€ã†ãŒ`fixed`ã¯ä½¿ã‚ã–ã‚‹ã‚’å¾—ãªã„ï¼ã¡ãªã¿ã«ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã§ã¯åŒæ§˜ã®ãƒã‚°ã¯ç™ºç”Ÿã—ãªã‹ã£ãŸï¼ã‚‚ã¡ã‚ã‚“ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ãŒå‡ºãªã„çŠ¶æ…‹ã§ã‚‚ç™ºç”Ÿã¯ã—ãªã„ï¼\n\nä¿®æ­£æ–¹æ³•ã¯ä»¥ä¸‹ã®é€šã‚Šï¼`grobals.css`ã«ã“ã‚Œã‚’è¿½åŠ ã™ã‚‹ã ã‘ï¼\n\n```css\nbody[data-scroll-locked][data-scroll-locked] {\n  overflow: auto !important;\n  margin-right: 0 !important;\n}\n```\n\n`data-scroll-locked`å±æ€§ãŒ2å›ä»˜ä¸ã•ã‚ŒãŸ`body`è¦ç´ ã«å¯¾ã—ã¦é©ç”¨ã—ã¦ã„ã‚‹ï¼ãŠãã‚‰ãJSã«ã‚ˆã£ã¦data-scroll-lockedã‚’bodyã«ä»˜ä¸ã™ã‚‹ã“ã¨ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’ç„¡åŠ¹åŒ–ã—ã¦ãŠã‚Šï¼Œdropdown menuã«ãã®æ©Ÿèƒ½ãŒã‚ã£ãŸã®ã§ã¯ãªã„ã‹ã¨æ¨æ¸¬ã—ã¦ã„ã‚‹ï¼\n\n`[data-scroll-locked][data-scroll-locked]`ã®ã‚ˆã†ã«2å›ä»˜ä¸ã•ã‚ŒãŸå ´åˆã—ã‹é©ç”¨ã§ããªã‹ã£ãŸï¼\n\nãã—ã¦ã“ã®æ™‚ã«`overflow: auto !important;`ã¨`margin-right: 0 !important;`ã‚’æŒ‡å®šã—ã¦ã„ã‚‹ï¼\n\nå‰è€…ã¯è¦ç´ ãŒã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã‚’ã—ãŸã¨ãã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚’è¡¨ç¤ºã•ã›ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ãŒï¼Œ`!important`ã«ã‚ˆã£ã¦ãã‚Œã‚’å„ªå…ˆçš„ã«é©ç”¨ã•ã›ã¦ã„ã‚‹ï¼\n\nã“ã®ã¨ãã«ãªãœã‹bodyã«`margin-right: 16px !important`ãŒä»˜ä¸ã•ã‚Œã‚‹ãŸã‚ï¼Œå¾Œè€…ã®ã‚ˆã†ã«æŒ‡å®šã™ã‚‹ã“ã¨ã§ãã‚Œã‚’ç„¡åŠ¹åŒ–ã—ã¦ã„ã‚‹ï¼\n\nå‚è€ƒ\n[shadcn/radix ui scrollbar removal bug](https://www.reddit.com/r/reactjs/comments/1fjcwkh/shadcnradix_ui_scrollbar_removal_bug/?rdt=60694)\n",
    "createdAt": "2025-07-09T03:20:03.308Z",
    "updatedAt": "2025-07-09T03:20:03.308Z"
  },
  {
    "title": "Ruby on Railsã§PostgreSQLã«æ¥ç¶šã™ã‚‹",
    "summary": "å¿˜ã‚ŒãŸã¨ãç”¨ã®ãƒ¡ãƒ¢",
    "tags": [
      "Ruby on Rails",
      "PostgreSQL"
    ],
    "slug": "ruby/ror-psql",
    "folder": "ruby",
    "content": "\n# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã‚‹\n\n```bash\nrails new new_app -d postgresql\n```\n\n> apié–‹ç™ºã®å ´åˆã¯`--api`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ã‚‹\n\n`rails db:create`ã‚’å¿˜ã‚Œãšã«\n\n## Gemfileã®ç·¨é›†\n\ndbã«å…¥ã‚‹ãŸã‚ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å®‰å…¨ã«è¨­å®šã™ã‚‹ãŸã‚ã«ï¼Œ`dotenv-rails`ã‚’å…¥ã‚Œã¦ãŠã\n\n```ruby\n# Gemfile\ngroup :development, :test do\n  # See https://guides.rubyonrails.org/debugging_rails_applications.html#debugging-with-the-debug-gem\n  gem \"debug\", platforms: %i[ mri mswin mswin64 mingw x64_mingw ], require: \"debug/prelude\"\n\n  # Static analysis for security vulnerabilities [https://brakemanscanner.org/]\n  gem \"brakeman\", require: false\n\n  # Omakase Ruby styling [https://github.com/rails/rubocop-rails-omakase/]\n  gem \"rubocop-rails-omakase\", require: false\n\n  gem 'dotenv-rails'\nend\n```\n\n# dbè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ç·¨é›†\n\n```yml\n# config/database.yml\ndefault: &default\n  adapter: postgresql\n  encoding: unicode\n  pool: <%= ENV.fetch(\"RAILS_MAX_THREADS\") { 5 } %>\n\ndevelopment:\n  <<: *default\n  database: sticky_backend_development\n\n  username: postgres\n\n  password: <%= ENV['DATABASE_PASSWORD'] %>\n\ntest:\n  <<: *default\n  database: sticky_backend_test\n  username: postgres\n  password: <%= ENV['DATABASE_PASSWORD'] %>\n\nproduction:\n  <<: *default\n  database: sticky_backend_production\n  username: postgres\n  password: <%= ENV['DATABASE_PASSWORD'] %>\n```\n\n> .envãƒ•ã‚¡ã‚¤ãƒ«ã«`DATABASE_PASSWORD`ã‚’è¨­å®šã™ã‚‹\n\n> æœ€å¾Œã«`rails db:create && rails db:migrate`ã‚’å¿˜ã‚Œãšã«ï¼\n",
    "createdAt": "2025-07-11T15:10:45.976Z",
    "updatedAt": "2025-07-11T15:11:37.726Z"
  },
  {
    "title": "shadcn/uiã§darkmodeã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã¨ãã®Hydration errorã‚’è§£æ±ºã™ã‚‹æ–¹æ³•",
    "summary": "å‚è€ƒã«ã—ãŸè¨˜äº‹ã‚’ãŸã ç´¹ä»‹ã™ã‚‹ã ã‘",
    "tags": [
      "Next.js",
      "Web",
      "Webã‚¢ãƒ—ãƒªé–‹ç™º",
      "å€‹äººé–‹ç™º",
      "shadcn/ui"
    ],
    "slug": "Next.js/shadcn-darkmode-hydration",
    "folder": "Next.js",
    "content": "\n`theme-provider.tsx`ã‚’\n\n```tsx\n\"use client\";\n\nimport { ThemeProvider as NextThemeProvider } from \"next-themes\";\nimport { type ThemeProviderProps } from \"next-themes/dist/types\";\nimport { useEffect, useState } from \"react\";\n\nexport const ThemeProvider = ({ children, ...props }: ThemeProviderProps) => {\n  const [mounted, setMounted] = useState<boolean>(false);\n  useEffect(() => {\n    setMounted(true);\n    return () => setMounted(false);\n  }, []);\n  return (\n    mounted && <NextThemeProvider {...props}>{children}</NextThemeProvider>\n  );\n};\n```\n\nã®ã‚ˆã†ã«ã™ã‚Œã°ã‚ˆã„ã‚‰ã—ã„ï¼ã“ã®ã‚ˆã†ã«ã—ãŸã‚‰æ²»ã£ãŸï¼\n\nå‚è€ƒ\n[DarkModeåˆ‡æ›¿æ™‚ã§ã®Hydration errorã®å¯¾å¿œç­–](https://zenn.dev/dk_/articles/dd9b0426e58f7d)\n",
    "createdAt": "2025-07-11T13:23:19.958Z",
    "updatedAt": "2025-07-11T13:23:19.958Z"
  },
  {
    "title": "The Basics of Neural Networks",
    "summary": "I explain neural networks without using confusing metaphors.",
    "tags": [
      "python",
      "Machine Learning",
      "Deep Learning",
      "Algorithm",
      "Neural Network"
    ],
    "slug": "Deep-Learning/NN-basics",
    "folder": "Deep-Learning",
    "content": "\n# Neural Networks\n\n---\n\nA neural network is similar to a function. However, it uses high-dimensional input values to output desired data. It can approximate very complex functions. A disadvantage is that it requires \"learning\" and lacks interpretability in its computation process.\n\n## Structure\n\n![Neural Network Structure](https://www.tel.co.jp/museum/magazine/communication/160229_report01_02/img/img_report01_03.jpg)\n\n### Input Layer\n\n$$\n\\mathbf x=[x_1,x_2,...,x_n]\\in\\mathbb R^n\n$$\n\n### Hidden Layers\n\n$$\n\\mathbf h_i=f_i(\\mathbf W_i\\mathbf h_{i-1}+\\mathbf b_i)\\quad\n\\left\\{\n\\begin{aligned}\nf_i&:\\mathbb R^{m_{i-1}}\\to\\mathbb R^{m_i}\\quad(\\text{activation function})\\\\\n\\mathbf W_i&\\in\\mathbb R^{m_i\\times m_{i-1}}\\quad(\\text{weight vector})\\\\\n\\mathbf h_i,\\mathbf b_i&\\in\\mathbb R^{m_i}\\quad(\\text{output and bias vector of layer } i)\n\\end{aligned}\n\\right.\n$$\n\n### Output Layer\n\n$$\n\\mathbf y=f_{out}(\\mathbf W_{out}\\mathbf h_{last}+\\mathbf b_{out})\n$$\n\n### Overall Function\n\n$$\n\\hat{\\mathbf y}=f_{NN}(x;\\theta)=f_{out}\\circ f_n\\circ f_{n-1}\\circ...\\circ f_1(\\mathbf W_1\\mathbf x+\\mathbf b_1)\n$$\n\nHere, \\( \\theta \\) represents the parameters, including \\( f \\), \\( W \\), \\( h \\), and \\( b \\).\n\n## Activation Functions\n\nActivation functions introduce non-linearity.\n\n### ReLU (Rectified Linear Unit)\n\n$$\nf(x)=\\max(0,x)\n$$\n\n### Sigmoid\n\n$$\nf(x)=\\frac{1}{1+\\exp(-x)}\n$$\n\n### Tanh\n\n$$\nf(x)=\\tanh(x)=\\frac{e^x-e^{-x}}{e^x+e^{-x}}\n$$\n\n### SoftPlus\n\nThe integral of the sigmoid function:\n\n$$\nf(x)=\\log(1+\\exp(x))\n$$\n\n## Learning Process\n\n### Forward Propagation\n\nThe calculation process from input to output:\n\n$$\n\\hat{\\mathbf y}=f_{NN}(x;\\theta)=f_{out}\\circ f_n\\circ f_{n-1}\\circ...\\circ f_1(\\mathbf W_1\\mathbf x+\\mathbf b_1)\n$$\n\n### Loss Function Calculation\n\nThe process of calculating the error using a loss function based on the output and target data. Examples include Mean Squared Error (MSE) and Cross-Entropy Loss.\n\n$$\n{\\cal L}=Loss(\\mathbf y,\\hat{\\mathbf y})\n$$\n\n### Backpropagation\n\nThe process of updating parameters based on the error using gradient descent.\n\n$$\n\\mathbf W_i\\leftarrow\\mathbf W_i-\\eta\\frac{\\partial{\\cal L}}{\\partial\\mathbf W_i},\\quad\\mathbf b_i\\leftarrow\\mathbf b_i-\\eta\\frac{\\partial{\\cal L}}{\\partial\\mathbf b_i}\\quad\n\\left\\{\n\\begin{aligned}\n&\\frac{\\partial{\\cal L}}{\\partial\\mathbf W_i}=\\frac{\\partial{\\cal L}}{\\partial\\hat{\\mathbf y}}\\cdot\\frac{\\partial\\hat{\\mathbf y}}{\\partial\\mathbf h_i}\\cdot\\frac{\\partial\\mathbf h_i}{\\partial\\mathbf W_i}\\\\\n&\\frac{\\partial{\\cal L}}{\\partial\\mathbf b_i}=\\frac{\\partial{\\cal L}}{\\partial\\hat{\\mathbf y}}\\cdot\\frac{\\partial\\hat{\\mathbf y}}{\\partial\\mathbf h_i}\\cdot\\frac{\\partial\\mathbf h_i}{\\partial\\mathbf b_i}\n\\end{aligned}\n\\right.\n$$\n\nThis process ensures the gradients guide the parameters toward lower error values. It allows for efficient updates, especially when far from the minimum.\n\n> ğŸ’¡ The reason \\( f'(x)=0 \\) is not directly computed is that it is computationally difficult for computers. Instead, gradient descent is used since it is easier to compute the derivative numerically.\n\n[Why Use Gradient Descent in Machine Learning](https://www.tomotaku.com/machine-learning-gradient-descent/)\n\n## Optimization Algorithms\n\n### Standard Gradient Descent\n\n$$\n\\theta_{t+1}=\\theta_t-\\eta\\nabla_\\theta{\\cal L}(\\theta_t)\n\\left\\{\n\\begin{aligned}\n\\theta_t:&\\text{parameters at time } t\\\\\n\\eta:&\\text{learning rate}\\\\\n\\nabla_\\theta{\\cal L}(\\theta_t):&\\text{gradient of the loss function at time } t\n\\end{aligned}\n\\right.\n$$\n\nStop when $||\\nabla_\\theta{\\cal}(\\theta_t)||<\\epsilon$, or use another stopping criterion.\n\n### Adam\n\nAdam is more suited to deep learning, as it converges faster than standard gradient descent.\n\n1. Compute the first moment: the moving average of the gradients (using exponential smoothing).\n\n   $$\n   m_t=\\beta_1m_{t-1}+(1-\\beta_1)\\nabla_\\theta{\\cal L}(\\theta_t)\n   $$\n\n2. Compute the second moment: the moving average of the squared gradients.\n\n   $$\n   v_t=\\beta_2v_{t-1}+(1-\\beta_2)(\\nabla_\\theta{\\cal L}(\\theta_t))^2\n   $$\n\n3. Bias correction:\n\n   $$\n   \\hat m_t=\\frac{m_t}{1-\\beta_1^t},~\\hat v_t=\\frac{v_t}{1-\\beta_2^t}\n   $$\n\n4. Update parameters:\n\n   $$\n   \\theta_{t+1}=\\theta_t-\\eta\\frac{\\hat m_t}{\\sqrt{\\hat v_t}+\\epsilon}\n   $$\n",
    "createdAt": "2025-07-11T13:23:19.958Z",
    "updatedAt": "2025-07-11T13:23:19.958Z"
  },
  {
    "title": "Understanding XGBoost",
    "summary": "I explained XGBoost in a university lecture!",
    "tags": [
      "AI",
      "Machine Learning",
      "Mathematics",
      "Explanation"
    ],
    "slug": "Machine-Learning/understanding-XGBoost",
    "folder": "Machine-Learning",
    "content": "\n# Introduction to XGBoost\n\n## Overview of XGBoost (eXtreme Gradient Boosting)\n\n- An ensemble learning method combining boosting and decision trees.\n- **Boosting**: A technique that iteratively creates weak models (weak learners), with each subsequent learner correcting the errors of the previous one, thereby improving performance.\n- Shallow decision trees are created, each of which performs well only on a portion of the data. Boosting improves their overall performance.\n- Although sensitive to parameter tuning, XGBoost can outperform Random Forest when configured correctly.\n- Despite the term \"regression tree,\" it can be used for both regression and classification tasks.\n\n---\n\n## Review: Decision Trees\n\nA method that learns conditional branching, often illustrated by games like Akinator.\n\n### Prerequisite Knowledge\n\n#### Information\n\nThe less frequent (rarer) an event, the greater its \"information content\":\n\n$$\ni(x) = -\\log_2 p(x)\n$$\n\n#### Impurity\n\n- **Entropy (Average Information Content)**  \n  A measure of randomness or disorder. It uses the expected value of information content based on occurrence probabilities:\n\n  $$\n  I_H(t) = -\\sum_{i=1}^c p(i|t) \\log_2 p(i|t) \\quad \\left(p(i|t) = \\frac{n_i}{N}: \\text{Probability of class } i \\text{ at node } t\\right)\n  $$\n\n- **Gini Impurity**  \n  Borrowed from econometrics:\n\n  $$\n  I_G(t) = 1 - \\sum_{i=1}^c p(i|t)^2\n  $$\n\n  A higher value indicates more mixed classes, i.e., **higher impurity** â†’ poor classification. Other metrics like misclassification rate can also be used.\n\n#### Gain\n\nThe difference in impurity between nodes before and after splitting. Higher gain indicates a greater reduction in impurity.\n\n##### Decision Tree Learning Using Gain\n\n1. For each feature, consider the midpoints of adjacent data points as threshold candidates.\n2. Compute the impurity after splitting at each candidate threshold.\n3. Split at the threshold that reduces impurity the most.\n4. Repeat recursively.\n5. Stop when a node contains too few data points or further splitting is not possible.\n\n$$\n\\Delta I_H(t) = I_H(t_B) - \\sum_{i=1}^b w_i I_{H_i}(t_{A_i})\n$$\n\n$$\n\\left(I_H(t_B): \\text{Impurity before branching, } \\sum_{i=1}^b w_i I_H(t_{A_i}): \\text{Weighted average impurity after branching}\\right)\n$$\n\n---\n\n# Ensemble Methods for Improved Generalization Performance\n\n**Ensemble Methods** combine multiple machine learning models to achieve better predictive performance than any single model.\n\nBy integrating predictions from different models, ensemble methods compensate for individual weaknesses, improving overall predictive accuracy and generalization performance.\n\n### Generalization Performance\n\nIndicates a model's ability to make accurate predictions on unseen data, not just the training data.\n\n#### Overfitting\n\n- A phenomenon where the model performs well on training data but poorly on test data.\n- Occurs when the model \"memorizes\" the training data, becoming unable to generalize to new data.\n- Analogous to scoring high on regular tests but poorly on mock or entrance exams.\n\n#### Weak Learners\n\nModels with low predictive accuracy that are prone to overfitting, such as shallow decision trees.\n\nFor example, if a model is trained to identify cats as animals with pointy ears, it might fail to recognize cats with rounded ears.\n\n#### Strong Learners\n\nModels with higher predictive accuracy than weak learners. Boosting transforms weak learners into a single strong learner system.\n\nFor instance, to identify cats, a weak learner that predicts based on pointy ears can be combined with another that identifies eye shape. By refining predictions iteratively, the overall system improves accuracy.\n\n---\n\n## Bagging\n\nAn ensemble technique designed to address overfitting. Multiple weak learners are created, and their predictions are aggregated using majority voting (for classification) or averaging (for regression) to enhance generalization performance.\n\n### Examples\n\n- RandomForest\n- BaggingClassifier/Regressor\n\n---\n\n## Boosting\n\n- Combines multiple weak learners.\n- Adjusts the weights of data points so that subsequent models focus more on previously misclassified points.\n- Each model reduces errors iteratively.\n\n### Examples of Boosting Models\n\n#### AdaBoost\n\nA general boosting method. Repeatedly creates weak learners, emphasizing misclassified points by adjusting their weights. Final predictions are made using a weighted majority vote of all weak learners.\n\n#### GBDT (Gradient Boosting Decision Tree)\n\nMinimizes the error between predicted values and true labels iteratively, gradually transforming weak learners into strong learners. The final model's output is the combined prediction of all learners.\n\n#### XGBoost (eXtreme Gradient Boosting)\n\nAn enhanced version of GBDT with features like regularization and parallel computation for improved performance.\n\n# Ensemble Methods Usage Guide\n\n| Ensemble Method | Model Examples              | Use Cases                                                                                                  | Priority                                             |\n| :-------------- | :-------------------------- | :--------------------------------------------------------------------------------------------------------- | :--------------------------------------------------- |\n| Bagging         | RandomForest                | When avoiding overfitting and at the initial stage of a project where useful features are not well-defined | First choice for bagging                             |\n|                 | BaggingClassifier/Regressor |                                                                                                            | For non-decision-tree models                         |\n| Boosting        | XGBoost, GradientBoosting   | When aiming for high accuracy, typically after EDA reveals useful features                                 | Often the first choice due to overfitting prevention |\n|                 | AdaBoost                    |                                                                                                            | For non-decision-tree models                         |\n| No Ensemble     | Single Model                | When interpretability of results is critical                                                               |                                                      |\n\n# Theory Behind XGBoost\n\n## AdaBoost\n\nA drawback of decision trees is that they can overfit or underfit if tree size is incorrectly chosen, making them a sensitive model.\n\n- **Idea**: Instead of building the entire tree at once, why not incrementally grow it?\n- Use a combination of weak learners.\n- Assign higher weights to misclassified data and lower weights to correctly classified data after each iteration.\n- Combine all nodes to create a robust tree.\n\n**Reference**: [Ensembles (4): AdaBoost](https://www.youtube.com/watch?v=ix6IvwbVpw0)\n\n## Gradient Boosting Decision Trees (GBDT)\n\n### Issues with AdaBoost\n\n1. Assigning high weights to misclassified data can also amplify noise, potentially causing overfitting.\n2. Simply adjusting weights without leveraging a loss function does not explicitly solve a minimization problem, which may not be optimal.\n\n### GBDT's Approach\n\nGBDT explicitly defines a loss function and solves its minimization problem.\n\n#### Key Concepts\n\n- **Loss Function**: Measures prediction error (e.g., Mean Squared Error or Cross-Entropy Loss).\n  $$\n  \\mathcal{L}(y, \\hat{y}) = \\frac{1}{n} \\sum_{i=1}^n (y_i - \\hat{y})^2\n  $$\n- **Gradient Descent**: Optimizes model parameters by minimizing the loss.\n  $$\n  \\theta^* = \\arg\\min_{\\theta} \\mathcal{L}(y, f_{\\theta}(\\mathbf{x})) \\equiv \\theta - \\eta \\frac{\\partial \\mathcal{L}(y, f_\\theta(\\mathbf{x}))}{\\partial \\theta}\n  $$\n\n#### Procedure\n\n1. Initialize predictions with a constant that minimizes the loss:\n   $$\n   F_0(\\mathbf{x}) = \\arg\\min_{\\hat{y}_0} \\sum_{i=1}^n \\mathcal{L}(y_i, \\hat{y}_0)\n   $$\n   For MSE:\n   $$\n   \\hat{y}_0 = \\frac{1}{n} \\sum_{i=1}^n y_i\n   $$\n2. Iteratively improve predictions:\n   - Compute residuals (errors):\n     $$\n     \\tilde{y}_0 = -\\frac{\\partial \\mathcal{L}(y, F_0(\\mathbf{x}))}{\\partial F_0(\\mathbf{x})}\n     $$\n   - Train a weak learner (e.g., decision tree) to predict residuals.\n   - Update predictions with optimal step size:\n     $$\n     F_1(\\mathbf{x}) = F_0(\\mathbf{x}) + \\rho_0 h_{\\theta_0}(\\mathbf{x})\n     $$\n\nThe process minimizes the overall loss function:\n\n$$\n\\mathcal{L} = \\sum_{i=1}^n \\mathcal{L}(y_i, F_k)\n$$\n\n## XGBoost\n\nXGBoost enhances GBDT by incorporating second-order derivatives (Hessian) and regularization terms.\n\n### Regularization\n\nIntroduces regularization to control model complexity:\n\n$$\n\\mathcal{L}^{(t)} = \\sum_{i=1}^n l(y_i, \\hat{y}_i^{(t-1)} + f_k(\\mathbf{x}_i)) + \\Omega(f_t)\n$$\n\n$$\n\\Omega(f_t) = \\gamma T + \\frac{1}{2} \\lambda \\sum_{j=1}^T w_j^2\n$$\n\nWhere:\n\n- \\( T \\): Number of leaves\n- \\( w_j \\): Leaf weight\n- \\( \\gamma, \\lambda \\): Hyperparameters\n\n### Taylor Approximation\n\nUses second-order Taylor expansion to approximate the loss function:\n\n$$\n\\mathcal{L}^{(t)} \\approx \\sum_{i=1}^n \\left[ g_i f_t(\\mathbf{x}_i) + \\frac{1}{2} h_i f_t^2(\\mathbf{x}_i) \\right] + \\Omega(f_t)\n$$\n\nWhere:\n\n- \\( g_i = \\frac{\\partial l(y_i, \\hat{y}^{(t-1)})}{\\partial \\hat{y}^{(t-1)}} \\) (gradient)\n- \\( h_i = \\frac{\\partial^2 l(y_i, \\hat{y}^{(t-1)})}{\\partial \\hat{y}^{(t-1)^2}} \\) (Hessian)\n\n### Optimal Solution\n\nOptimal weight for a leaf:\n\n$$\nw_j^* = -\\frac{\\sum_{i \\in I_j} g_i}{\\sum_{i \\in I_j} h_i + \\lambda}\n$$\n\nOptimal loss:\n\n$$\n\\mathcal{L}^{(t)}(w_j^*) = -\\frac{1}{2} \\sum_{j=1}^T \\frac{\\left(\\sum_{i \\in I_j} g_i\\right)^2}{\\sum_{i \\in I_j} (h_i + \\lambda)} + \\gamma T\n$$\n\n### Tree Construction\n\nLeaf gain is calculated as:\n\n$$\n\\text{Gain} = \\frac{G_L^2}{H_L + \\lambda} + \\frac{G_R^2}{H_R + \\lambda} - \\frac{G^2}{H + \\lambda} - \\gamma\n$$\n\n### Final Algorithm\n\n1. **Greedy Method**:\n   - Scan all split points to find the best one. High accuracy but computationally expensive.\n2. **Approximate Method**:\n   - Use candidate split points to reduce computation cost at the expense of accuracy.\n\n## Simplified XGBoost: LightGBM\n\nLightGBM is a faster, simpler alternative to XGBoost, offering high generalization performance. While not available in Exploratory, it is widely supported in Python and often serves as the default choice.\n",
    "createdAt": "2025-07-11T13:23:19.958Z",
    "updatedAt": "2025-07-11T13:23:19.958Z"
  },
  {
    "title": "Welcome!",
    "summary": "Let me introduce myself and this site!",
    "tags": [
      "profile",
      "about",
      "self"
    ],
    "slug": "index",
    "folder": ".",
    "content": "\n# Introduction\n\nHay! I'm Marte, a univ student.\n\nI study computer science, especially I'm into web development and machine learning (AI) like deep learning, generative model and so on.\n\nSo, I gonna think out loud what I am studying about!\n\n## Links\n\n- [Github](https://github.com/keu-5)\n- [Qiita](https://qiita.com/keu5)\n",
    "createdAt": "2025-07-09T03:19:32.388Z",
    "updatedAt": "2025-07-12T04:27:53.297Z"
  },
  {
    "title": "ãƒ–ãƒ¼ã‚¹ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’C++ã§å®Ÿè£…ã—ã¦ã¿ãŸ",
    "summary": "äºŒé€²æ•°ã®æ›ã‘ç®—ã¯ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢å†…ã§ã©ã®ã‚ˆã†ã«è¡Œã‚ã‚Œã¦ã„ã‚‹ã®ã‹ã‚’ç¢ºèªã—ã¾ã—ãŸ",
    "tags": [
      "C++",
      "ãƒ–ãƒ¼ã‚¹ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ",
      "Algorithm"
    ],
    "slug": "algorithm/booth-cpp",
    "folder": "algorithm",
    "content": "\nãƒ–ãƒ¼ã‚¹ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ å®Ÿè£…ã—ãŸè¨˜äº‹ãŒè¦‹ã¤ã‹ã‚‰ãªã„ä¸Šã«ChatGPTã«èã„ã¦ã‚‚çš„å¤–ã‚Œãªã‚³ãƒ¼ãƒ‰ã—ã‹å‡ºæ¥ä¸ŠãŒã‚‰ãªã„ã®ã§è‡ªåˆ†ã§ä½œã£ã¦ã¿ã¾ã—ãŸï¼\n\n# ãƒ–ãƒ¼ã‚¹ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨ã¯ï¼Ÿ\n\nç¬¦å·ä»˜ãäºŒé€²æ•°ã®ä¹—ç®—ã‚’åŠ¹ç‡çš„ã«è¡Œã†æ‰‹æ³•ã§ã™ï¼åŠ ç®—å™¨ä½œã£ãŸãªã‚‰ã‚‚ã¡ã‚ã‚“ä¹—ç®—å™¨ã‚‚ä½œã‚ŠãŸããªã‚‹ã‚ˆã­ï¼Ÿã§ã‚‚åŠ ç®—ã‚’ä½•åº¦ã‚‚ã™ã‚‹ä¹—ç®—ã¯è¨ˆç®—ã«æ™‚é–“ãŒã‹ã‹ã£ã¦ã—ã¾ã†ã®ã§ï¼Œãƒ–ãƒ¼ã‚¹ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãŒç·¨ã¿å‡ºã•ã‚Œã¾ã—ãŸï¼\n\n## ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®æ¦‚è¦\n\nã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼\n\n1. è¢«ä¹—æ•°ã¨ä¹—æ•°ã‚’äºŒã®è£œæ•°è¡¨ç¾ã§ç”¨æ„ã—ã¾ã™ï¼(ä»Šå›ã¯4bitåˆ†ç”¨æ„ã—ã¦ã¿ã¾ã™)\n2. è¢«ä¹—æ•°ã«ã¤ã„ã¦ã¯ï¼Œç¬¦å·ã‚’å¤‰ãˆãŸã‚‚ã®ã‚‚ç”¨æ„ã—ã¦ãŠãã¾ã™ï¼(ã‚‚ã¡ã‚ã‚“è£œæ•°è¡¨ç¾ã‚’ä½¿ç”¨ã—ã¾ã™ãŒï¼Œã‚ã‹ã‚Šã‚„ã™ã„ã‚ˆã†ã«ä»¥é™ã¯ã€Œ-è¢«ä¹—æ•°ã€ã¨ã—ã¾ã™)\n3. $A$ã‚’ã€Œè¢«ä¹—æ•° + 00000ã€,$S$ã‚’ã€Œ-è¢«ä¹—æ•° + 00000ã€ã¨ã—ã¾ã™ï¼\n4. $P_0$ã‚’ã€Œ0000 + ä¹—æ•° + 0ã€ã¨ã—ã¾ã™ï¼\n5. æ¼¸åŒ–çš„ã«$P_n$ã‚’æ±‚ã‚ã¦ã„ãã¾ã™ï¼4bitåŒå£«ã®æ¼”ç®—ã®å ´åˆï¼Œ$P_4$ã¾ã§æ±‚ã‚ã¾ã™ï¼\n   - $P_{n}$ã®æœ«å°¾2bitãŒã€Œ00ã€ã‚ã‚‹ã„ã¯ã€Œ11ã€ã®å ´åˆï¼Œ$P_{n}$ã‚’ç®—è¡“å³ã‚·ãƒ•ãƒˆã—ãŸã‚‚ã®ã‚’$P_n$ã¨ã™ã‚‹\n   - æœ«å°¾ãŒã€Œ01ã€ã®å ´åˆï¼Œ$P_{n}$ã«$A$ã‚’åŠ ç®—ã—ãŸã†ãˆã§å³ã‚·ãƒ•ãƒˆã—ãŸã‚‚ã®ã‚’$P_{n+1}$ã¨ã™ã‚‹\n   - æœ«å°¾ãŒã€Œ10ã€ã®å ´åˆï¼Œ$P_{n}$ã«$S$ã‚’åŠ ç®—ã—ãŸã†ãˆã§å³ã‚·ãƒ•ãƒˆã—ãŸã‚‚ã®ã‚’$P_{n+1}$ã¨ã™ã‚‹\n6. $P_4$ã®ä¸Šä½8æ¡ãŒè§£ã¨ãªã‚Šã¾ã™ï¼\n\nè©³ã—ãã¯[ã‚·ãƒ•ãƒˆæ¼”ç®—ã¨ã¯ï¼Ÿè«–ç†ã‚·ãƒ•ãƒˆã¨ç®—è¡“ã‚·ãƒ•ãƒˆã®é•ã„ã‚’èª¿ã¹ã‚ˆã†ï¼](https://itmanabi.com/shift-operation/)ã‚’å‚è€ƒã«ã™ã‚‹ã¨è‰¯ã„ã§ã™ï¼\n\n# C++ã«ã‚ˆã‚‹å®Ÿè£…\n\nåˆ¥ã«Cã§ã‚‚æ›¸ã‘ã‚‹ã‚“ã§ã™ã‘ã©ï¼Œç·´ç¿’ã—ãŸã„ã®ã§C++ã§æ›¸ãã¾ã™ï¼\n\n## ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚„å®šæ•°ãªã©\n\n```cpp\n#include <iostream>\n#include <vector>\n\nconstexpr int BIT_SIZE = 4;\nconstexpr int TABLE_SIZE = 2 * BIT_SIZE + 1;\n\nusing namespace std;\n```\n\n## BoothAlgorithmã‚¯ãƒ©ã‚¹ã®æ§‹ç¯‰\n\nå¿…è¦ãªå¤‰æ•°ã¯\n\n1. è¢«ä¹—æ•°\n1. -è¢«ä¹—æ•°\n1. $P_0$\n\nã§ï¼Œå¿…è¦ãªé–¢æ•°ã¯ï¼Œ\n\n1. æ•´æ•°ã‚’äºŒé€²æ•°ã«å¤‰æ›ã™ã‚‹é–¢æ•°\n1. ç®—è¡“å³ã‚·ãƒ•ãƒˆã•ã›ã‚‹é–¢æ•°\n1. äºŒé€²æ•°åŠ ç®—ã•ã›ã‚‹é–¢æ•°\n1. $P_{n+1}$ã‚’æ±‚ã‚ã‚‹é–¢æ•°\n1. é…åˆ—ã‚’è¡¨ç¤ºã•ã›ã‚‹é–¢æ•°\n1. å†å¸°çš„ã«$P$ã‚’æ±‚ã‚ã‚‹é–¢æ•°\n\nã§ã™ï¼\n\n### ãƒ¡ãƒ³ãƒå¤‰æ•°\n\nã¾ãšã¯å¿…è¦ãªãƒ¡ãƒ³ãƒå¤‰æ•°ã‚’ç”¨æ„ã—ã¾ã™ï¼å…ˆã»ã©ã¨åŒæ§˜ã«$A$ã¯è¢«ä¹—æ•°ï¼Œ$S$ã¯-è¢«ä¹—æ•°ï¼Œ$P_0$ã‚’ä¹—æ•°ã¨ã—ã¾ã™ï¼\n\n```cpp\nclass BoothAlgorithm {\n  public:\n  private:\n   vector<int> A, S, P_0, Result;\n```\n\n### æ•´æ•°ã‚’äºŒé€²æ•°ã«å¤‰æ›ã™ã‚‹é–¢æ•°to_binary\n\n` binary[bit_size - 1 - i] = (x >> i) & 1;`ã¨ã™ã‚‹ã“ã¨ã§ï¼Œ10é€²æ•°ã®å€¤ã‚’2é€²æ•°ã«ã—ãŸã¨ãã«iæ¡ç›®ã®å€¤ã‚’å¯¾å¿œã™ã‚‹é…åˆ—ã«æ ¼ç´ã—ã¦ã„ãã¾ã™ï¼\n\n```cpp\n    vector<int> to_binary(int x, int bit_size) {\n      vector<int> binary(bit_size, 0);\n\n      for (int i = 0; i < bit_size; i++) {\n          binary[bit_size - 1 - i] = (x >> i) & 1;\n      }\n\n      return binary;\n    }\n```\n\n### ç®—è¡“ã‚·ãƒ•ãƒˆã•ã›ã‚‹é–¢æ•°right_shift\n\nç®—è¡“ã‚·ãƒ•ãƒˆã§ã™ã®ã§æœ€ä¸Šä½ãƒ“ãƒƒãƒˆã®å‡¦ç†ã«æ°—ã‚’ã¤ã‘ã¾ã™ï¼\n\n```cpp\n    void right_shift(vector<int>& vec) {\n      for (int i = vec.size() - 1; i > 0; --i) {\n        vec[i] = vec[i - 1];\n      }\n      vec[0] = vec[0] == 1 ? 1 : 0;\n    }\n```\n\n### äºŒé€²æ•°åŠ ç®—ã•ã›ã‚‹é–¢æ•°add_vectors\n\nå˜ç´”ã«è¦ç´ ã”ã¨ã«åŠ ç®—ã•ã›ã‚‹ã¨ï¼Œ10é€²æ•°ã¨ã—ã¦è¨ˆç®—ã—ã¦ã—ã¾ã†ãŸã‚ï¼ŒäºŒé€²æ•°ã¨ã—ã¦ã®ç¹°ã‚Šä¸ŠãŒã‚Šã‚’è€ƒæ…®ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼\n\n```cpp\n    vector<int> add_vectors(const vector<int>& vec1, const vector<int>& vec2) {\n      vector<int> result(vec1.size());\n      int carry = 0;\n\n      for (size_t i = vec1.size(); i-- > 0;) {\n        int sum = vec1[i] + vec2[i] + carry;\n        result[i] = sum % 2;\n        carry = sum / 2;\n      }\n\n      return result;\n    }\n```\n\n### $P_{n+1}$ã‚’æ±‚ã‚ã‚‹é–¢æ•°conditional_shift\n\n- $P_{n}$ã®æœ«å°¾2bitãŒã€Œ00ã€ã‚ã‚‹ã„ã¯ã€Œ11ã€ã®å ´åˆï¼Œ$P_{n}$ã‚’ç®—è¡“å³ã‚·ãƒ•ãƒˆã—ãŸã‚‚ã®ã‚’$P_n$ã¨ã™ã‚‹\n- æœ«å°¾ãŒã€Œ01ã€ã®å ´åˆï¼Œ$P_{n}$ã«$A$ã‚’åŠ ç®—ã—ãŸã†ãˆã§å³ã‚·ãƒ•ãƒˆã—ãŸã‚‚ã®ã‚’$P_{n+1}$ã¨ã™ã‚‹\n- æœ«å°¾ãŒã€Œ10ã€ã®å ´åˆï¼Œ$P_{n}$ã«$S$ã‚’åŠ ç®—ã—ãŸã†ãˆã§å³ã‚·ãƒ•ãƒˆã—ãŸã‚‚ã®ã‚’$P_{n+1}$ã¨ã™ã‚‹\n\nã¨ã„ã†æ¡ä»¶ã‚’ã‚‚ã¨ã«ã‚·ãƒ•ãƒˆã•ã›ã‚‹é–¢æ•°ã‚’ä½œã‚Šã¾ã™ï¼\n\n```cpp\n    vector<int> conditional_shift(const vector<int>& A, const vector<int>& S, const vector<int>& P) {\n      vector<int> result = P;\n\n      if (P[TABLE_SIZE - 2] == P[TABLE_SIZE - 1]) {\n        right_shift(result);\n      } else if (P[TABLE_SIZE - 2] == 0) {\n        result = add_vectors(result, A);\n\n        right_shift(result);\n      } else {\n        result = add_vectors(result, S);\n\n        right_shift(result);\n      }\n\n      return result;\n    }\n```\n\n### é…åˆ—ã‚’è¡¨ç¤ºã•ã›ã‚‹é–¢æ•°\n\nã‚ã‚‹ã¨ã‚ã‹ã‚Šã‚„ã™ã„ã­\n\n```cpp\n    void print_array(const vector<int>& arr) {\n      for (int i = 0; i < arr.size(); i++) {\n        cout << arr[i] << \" \";\n      }\n      cout << endl;\n    }\n```\n\n### å†å¸°çš„ã«$P$ã‚’æ±‚ã‚ã‚‹é–¢æ•°\n\nå…ˆã»ã©ä½œã£ãŸ`conditional_shift()`ã‚’ä½¿ã£ã¦$P_1\\sim P_4$ã¾ã§å†å¸°çš„ã«è¨ˆç®—ã•ã›ã¾ã™ï¼\n\n```cpp\n    vector<int> booth_algorithm(vector<int>& A, vector<int>& S, vector<int>& P, int count = BIT_SIZE) {\n      if (count > 0) {\n        P = conditional_shift(A, S, P);\n\n        cout << \"P_\" << BIT_SIZE - count + 1 << \": \";\n        print_array(P);\n\n        return booth_algorithm(A, S, P, count - 1);\n      } else {\n        vector<int> Result(TABLE_SIZE - 1, 0);\n\n        for (int i = 0; i < TABLE_SIZE - 1; i++) {\n          Result[i] = P[i];\n        }\n\n        return Result;\n      }\n    }\n```\n\n### ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãªã©\n\nã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§ã¯ï¼Œæ•´æ•°x, yã‚’å—ã‘å–ã‚Šï¼Œ2é€²æ•°ã«å¤‰æ›ã—ã¤ã¤é©åˆ‡ãªå½¢å¼ã«å¤‰æ›ã—ã¦ï¼Œå„ãƒ¡ãƒ³ãƒå¤‰æ•°ã«ä»£å…¥ã—ã¦ã„ãã¾ã™ï¼ã¾ãŸå®Ÿè¡Œã®ãŸã‚ã«é–¢æ•°runã‚’ç”¨æ„ã—ã¾ã™ï¼\n\n```cpp\n  public:\n    BoothAlgorithm(int x, int y) {\n      A.resize(TABLE_SIZE, 0);\n      S.resize(TABLE_SIZE, 0);\n      P_0.resize(TABLE_SIZE, 0);\n      Result.resize(TABLE_SIZE - 1, 0);\n\n      vector<int> binary_x = to_binary(x, BIT_SIZE);\n      vector<int> binary_minus_x = to_binary(-x, BIT_SIZE);\n      vector<int> binary_y = to_binary(y, BIT_SIZE);\n\n      for (int i = 0; i < BIT_SIZE; i++) {\n        A[i] = binary_x[i];\n        S[i] = binary_minus_x[i];\n        P_0[i + BIT_SIZE] = binary_y[i];\n      }\n    }\n\n    void run() {\n      cout << \"P_0: \";\n      print_array(P_0);\n\n      Result = booth_algorithm(A, S, P_0);\n\n      cout << \"Result: \";\n      print_array(Result);\n    }\n```\n\n## mainé–¢æ•°\n\nã‚ã¨ã¯mainé–¢æ•°ã‚’æ›¸ã‘ã°å®Œæˆã§ã™ï¼\n\n```cpp\nint main() {\n  int x, y;\n  cin >> x >> y;\n\n  BoothAlgorithm booth(x, y);\n  booth.run();\n\n  return 0;\n}\n```\n\n# å®Ÿéš›ã«å®Ÿè¡Œã—ã¦ã¿ã‚‹\n\n```zsh\nâ¯ cpp booth.cpp\n-6 5\nP_0: 0 0 0 0 0 1 0 1 0\nP_1: 0 0 1 1 0 0 1 0 1\nP_2: 1 1 1 0 1 0 0 1 0\nP_3: 0 0 1 0 0 1 0 0 1\nP_4: 1 1 1 0 0 0 1 0 0\nResult: 1 1 1 0 0 0 1 0\n\nâ¯ cpp booth.cpp\n5 -6\nP_0: 0 0 0 0 1 0 1 0 0\nP_1: 0 0 0 0 0 1 0 1 0\nP_2: 1 1 0 1 1 0 1 0 1\nP_3: 0 0 0 1 0 1 0 1 0\nP_4: 1 1 1 0 0 0 1 0 1\nResult: 1 1 1 0 0 0 1 0\n\nâ¯ cpp booth.cpp\n4 -3\nP_0: 0 0 0 0 1 1 0 1 0\nP_1: 1 1 1 0 0 1 1 0 1\nP_2: 0 0 0 1 0 0 1 1 0\nP_3: 1 1 1 0 1 0 0 1 1\nP_4: 1 1 1 1 0 1 0 0 1\nResult: 1 1 1 1 0 1 0 0\n```\n\nå®Ÿéš›ã«å®Ÿè¡Œã—ã¦ã¿ã‚‹ã¨ä¸Šè¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼ä¾‹ãˆã°ï¼Œ$5\\times -6$ã¨ã„ã†æ¼”ç®—ã‚’ãƒ–ãƒ¼ã‚¹ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§è§£ã„ãŸå ´åˆï¼Œ$P_4=(11100010)_2=(-30)_{10}$ã®ã‚ˆã†ã«ï¼Œç¢ºã‹ã«æ­£ã—ãè¨ˆç®—ã§ãã¦ã„ã¾ã™ï¼\n\nã¾ãŸï¼Œ$-6\\times 5$ã§ã‚‚åŒã˜ã‚ˆã†ãªçµæœã¨ãªã£ã¦ãŠã‚Šï¼Œä¹—æ³•ã®äº¤æ›å¾‹ã‚‚æˆã‚Šç«‹ã£ã¦ã„ã¾ã™ï¼\n\n$4\\times -3$ã‚‚åŒæ§˜ã«æ­£ã—ãè¨ˆç®—ã§ãã¦ã„ã¾ã™ï¼\n\n# ã‚³ãƒ¼ãƒ‰ã®å…¨ä½“åƒ\n\næœ€å¾Œã«ã‚³ãƒ¼ãƒ‰ã®å…¨ä½“åƒã‚’è²¼ã£ã¦ãŠãã¾ã™ï¼\n\n```cpp\n#include <iostream>\n#include <vector>\n\nconstexpr int BIT_SIZE = 4;\nconstexpr int TABLE_SIZE = 2 * BIT_SIZE + 1;\n\nusing namespace std;\n\nclass BoothAlgorithm {\n  public:\n    BoothAlgorithm(int x, int y) {\n      A.resize(TABLE_SIZE, 0);\n      S.resize(TABLE_SIZE, 0);\n      P_0.resize(TABLE_SIZE, 0);\n      Result.resize(TABLE_SIZE - 1, 0);\n\n      vector<int> binary_x = to_binary(x, BIT_SIZE);\n      vector<int> binary_minus_x = to_binary(-x, BIT_SIZE);\n      vector<int> binary_y = to_binary(y, BIT_SIZE);\n\n      for (int i = 0; i < BIT_SIZE; i++) {\n        A[i] = binary_x[i];\n        S[i] = binary_minus_x[i];\n        P_0[i + BIT_SIZE] = binary_y[i];\n      }\n    }\n\n    void run() {\n      cout << \"P_0: \";\n      print_array(P_0);\n\n      Result = booth_algorithm(A, S, P_0);\n\n      cout << \"Result: \";\n      print_array(Result);\n    }\n\n  private:\n    vector<int> A, S, P_0, Result;\n\n    void right_shift(vector<int>& vec) {\n      for (int i = vec.size() - 1; i > 0; --i) {\n        vec[i] = vec[i - 1];\n      }\n      vec[0] = vec[0] == 1 ? 1 : 0;\n    }\n\n    vector<int> add_vectors(const vector<int>& vec1, const vector<int>& vec2) {\n      vector<int> result(vec1.size());\n      int carry = 0;\n\n      for (size_t i = vec1.size(); i-- > 0;) {\n        int sum = vec1[i] + vec2[i] + carry;\n        result[i] = sum % 2;\n        carry = sum / 2;\n      }\n\n      return result;\n    }\n\n    vector<int> to_binary(int x, int bit_size) {\n      vector<int> binary(bit_size, 0);\n\n      for (int i = 0; i < bit_size; i++) {\n          binary[bit_size - 1 - i] = (x >> i) & 1;\n      }\n\n      return binary;\n    }\n\n    vector<int> conditional_shift(const vector<int>& A, const vector<int>& S, const vector<int>& P) {\n      vector<int> result = P;\n\n      if (P[TABLE_SIZE - 2] == P[TABLE_SIZE - 1]) {\n        right_shift(result);\n      } else if (P[TABLE_SIZE - 2] == 0) {\n        result = add_vectors(result, A);\n\n        right_shift(result);\n      } else {\n        result = add_vectors(result, S);\n\n        right_shift(result);\n      }\n\n      return result;\n    }\n\n    void print_array(const vector<int>& arr) {\n      for (int i = 0; i < arr.size(); i++) {\n        cout << arr[i] << \" \";\n      }\n      cout << endl;\n    }\n\n    vector<int> booth_algorithm(vector<int>& A, vector<int>& S, vector<int>& P, int count = BIT_SIZE) {\n      if (count > 0) {\n        P = conditional_shift(A, S, P);\n\n        cout << \"P_\" << BIT_SIZE - count + 1 << \": \";\n        print_array(P);\n\n        return booth_algorithm(A, S, P, count - 1);\n      } else {\n        vector<int> Result(TABLE_SIZE - 1, 0);\n\n        for (int i = 0; i < TABLE_SIZE - 1; i++) {\n          Result[i] = P[i];\n        }\n\n        return Result;\n      }\n    }\n};\n\nint main() {\n  int x, y;\n  cin >> x >> y;\n\n  BoothAlgorithm booth(x, y);\n  booth.run();\n\n  return 0;\n}\n```\n",
    "createdAt": "2025-07-11T15:08:41.126Z",
    "updatedAt": "2025-07-11T15:09:44.636Z"
  }
]