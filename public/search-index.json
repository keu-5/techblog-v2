[
  {
    "title": "Auth.jsã¨Ruby on Railsã«ã‚ˆã‚‹ãƒ¦ãƒ¼ã‚¶ç®¡ç†",
    "summary": "ã ã‚Œã‚‚è§£èª¬ã—ã¦ãã‚Œãªã„ã®ã§ãƒ¡ãƒ¢",
    "tags": [
      "Next.js",
      "Ruby on Rails",
      "èªè¨¼",
      "Auth.js"
    ],
    "slug": "ruby/auth-js-ror-user-management",
    "folder": "ruby",
    "content": "\nå‰å›ã®ç¶šãã§ã™ï¼\n[Auth.jsã®åŸºç¤ (Google OAuthã‚’ä½¿ç”¨)](https://techblog-notes.vercel.app/afdc23b5-ec55-4c5e-8763-6bc649124448)\n\n# JWTèªè¨¼ã®å°å…¥\n\n---\n\nä»Šå›ï¼ŒAuth.jsã«ã‚ˆã‚Šå–å¾—ã—ãŸãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ã‚’ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã«æ¸¡ã—ãƒ¦ãƒ¼ã‚¶ç®¡ç†ã™ã‚‹æ‰‹æ³•ã¨ã—ã¦ä»¥ä¸‹ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’è¦ã—ã¾ã™ï¼\n\n1. Googleã®èªè¨¼ãŒæˆåŠŸã™ã‚‹ã¨Auth.jsãŒaccount.id_tokenã‚’å—ã‘å–ã‚‹ï¼ã“ã®ID ãƒˆãƒ¼ã‚¯ãƒ³ã¯GoogleãŒç™ºè¡Œã™ã‚‹JWTã§ã‚ã‚‹ï¼\n1. account.id_tokenã¯jwtã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã§ token.idTokenã«ä¿å­˜ã™ã‚‹ï¼\n1. ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«IDãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä¿å­˜ã™ã‚‹ï¼\n1. ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‹ã‚‰IDãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ã—ï¼Œ`fetch()`ã‚’ç”¨ã„ã¦ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã«é€ä¿¡ï¼\n1. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§IDãƒˆãƒ¼ã‚¯ãƒ³ã‚’æ¤œè¨¼ï¼ŒæˆåŠŸå¾Œã«åˆã‚ã¦ãƒ‡ãƒ¼ã‚¿ã‚’å‡¦ç†ã§ãã‚‹ï¼\n\nã“ã®ã‚ˆã†ã«ï¼Œçµæ§‹é¢å€’ãªå‡¦ç†ã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼(ã‚³ãƒ¼ãƒ‰è‡ªä½“ã¯ãã“ã¾ã§æ›¸ã‹ãªã„æ°—ãŒã™ã‚‹)\n\n## å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã™ã‚‹\n\nAuth.jsã§ã¯ï¼Œaccount.id_tokenã¯å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã®ï¼Œtokenã¨sessionã«id_tokenã¯å®šç¾©ã•ã‚Œã¦ã„ã¾ã›ã‚“ï¼ã—ã‹ã—ãã‚Œã§ã‚‚id_tokenã‚’æ¸¡ã—ãŸã„ã®ã§ï¼Œå®šç¾©ã—ã¾ã™ï¼\n\n```ts\n// types/next-auth.d.ts\nimport \"next-auth/jwt\";\n\ndeclare module \"next-auth/jwt\" {\n  interface JWT {\n    idToken?: string;\n  }\n}\n\ndeclare module \"next-auth\" {\n  interface Session {\n    user: {\n      idToken?: string;\n    } & DefaultSession[\"user\"];\n  }\n}\n```\n\n> `session.idToken`ã§ã„ã„ã‹ãªã¨æ€ã£ã¦ã„ãŸã‘ã©ï¼ŒV5ã§ã¯`session.user.idToken`ã«ã™ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ãŸã®ã§ã“ã®ã‚ˆã†ã«ã—ã¦ã¾ã™ï¼\n\n## ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã‚’ç”¨æ„ã™ã‚‹\n\n```ts\nimport NextAuth from \"next-auth\";\nimport Google from \"next-auth/providers/google\";\n\nexport const { handlers, signIn, signOut, auth } = NextAuth({\n  providers: [Google],\n  callbacks: {\n    async jwt({ token, account }) {\n      if (account) {\n        token.idToken = account.id_token;\n      }\n\n      return token;\n    },\n    async session({ session, token }) {\n      session.user.idToken = token.idToken;\n\n      return session;\n    },\n  },\n});\n```\n\nã“ã†ã™ã‚‹ã“ã¨ã§ï¼Œ`auth()`ã‹ã‚‰`user.idToken`ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼\n\n## ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã«IDãƒˆãƒ¼ã‚¯ãƒ³ã‚’æ¸¡ã™\n\nãƒˆãƒ¼ã‚¯ãƒ³æƒ…å ±ã¯bodyã§ã¯ãªãheaderã«å«ã‚ã‚‹ã®ãŒä¸€èˆ¬çš„ã§ã™ï¼`http://localhost:3001/auth/google`ã«æ¸¡ã™ã‚ˆã†ã«è¨­å®šã—ã¾ã™ï¼\n\n```tsx\nimport { auth } from \"@/auth\";\nimport { redirect } from \"next/navigation\";\nimport React from \"react\";\n\nexport default async function DashboardLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const session = await auth();\n\n  if (session) {\n    const idToken = session.user.idToken;\n\n    if (idToken) {\n      await fetch(\"http://localhost:3001/auth/google\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${idToken}`,\n        },\n      });\n    }\n  } else {\n    redirect(\"/signin\");\n  }\n\n  return <>{children}</>;\n}\n```\n\n# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å‡¦ç†\n\n---\n\n## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ\n\n```bash\nrails new backend --api -T\n```\n\n### gemã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\nä»Šå›ä½¿ã†gemã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼\n\n```ruby\ngem 'rack-cors', require: 'rack/cors'\ngem \"google-id-token\"\ngem 'dotenv-rails'\n```\n\n`bundle install`ã‚’å¿˜ã‚Œãšã«å®Ÿè¡Œã—ã¾ã—ã‚‡ã†\n\n### corsã®è¨­å®š\n\n`http://localhost:3000`ã‚’è¨±å¯ã—ã¾ã—ã‚‡ã†\n\n```ruby\n# config/initializers/cors.rb\nRails.application.config.middleware.insert_before 0, Rack::Cors do\n  allow do\n    origins \"http://localhost:3000\"\n\n    resource \"*\",\n      headers: :any,\n      methods: [:get, :post, :put, :patch, :delete, :options, :head]\n  end\nend\n```\n\n### ãƒãƒ¼ãƒˆã®ä¿®æ­£\n\n3000ç•ªã¯æ—¢ã«ãƒ•ãƒ­ãƒ³ãƒˆå´ã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã®ã§ï¼Œãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ã¯3001ç•ªã«è¨­å®šã—ã¾ã™ï¼\n\n```ruby\n# config/puma.rb\nport ENV.fetch(\"PORT\", 3001)\n```\n\n## ãƒ¢ãƒ‡ãƒ«ã®ä½œæˆ\n\n`google_sub`ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«ä¸€æ„ãªIDã‚’ç¤ºã—ã¦ãŠã‚Šï¼ŒIDãƒˆãƒ¼ã‚¯ãƒ³ã®æ¤œè¨¼æ™‚ã«å–å¾—ã§ãã¾ã™(ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ã‚‚å–å¾—ã§ãã‚‹)ï¼\n\n```bash\nrails generate model User google_sub:string name:string email:string picture:string\n```\n\n`rails db:migrate`ã‚’å¿˜ã‚Œãšã«å®Ÿè¡Œã—ã¾ã—ã‚‡ã†\n\n### ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®šç¾©ã™ã‚‹\n\nä½œæˆã—ãŸ`User`ãƒ¢ãƒ‡ãƒ«ã®`google_sub`ã¨`email`ã«ã¤ã„ã¦ï¼Œãã‚Œãã‚Œå¿…é ˆã‹ã¤ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªå€¤ã«ãƒãƒªãƒ‡ãƒ¼ãƒˆã—ã¾ã™ï¼\n\n```ruby\nclass User < ApplicationRecord\n  validates :google_sub, presence: true, uniqueness: true\n  validates :email, presence: true, uniqueness: true\nend\n```\n\n## ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®ä½œæˆ\n\n```bash\nrails generate controller sessions\n```\n\nå®Ÿè¡Œã™ã‚‹ã¨ï¼Œ`sessions_controller.rb`ãŒç”Ÿæˆã•ã‚Œã‚‹ã®ã§ï¼Œãã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦ã„ãã¾ã™ï¼\n\n```ruby\nclass SessionsController < ApplicationController\n  # ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®èª­ã¿è¾¼ã¿\n  require \"google-id-token\"\n\n  def google_auth\n    auth_header = request.headers[\"Authorization\"]\n\n    # ãƒˆãƒ¼ã‚¯ãƒ³ãŒå­˜åœ¨ã—ãªã„å ´åˆã€ã¾ãŸã¯å½¢å¼ãŒä¸æ­£ãªå ´åˆï¼Œunauthorizedã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™\n    unless auth_header&.start_with?(\"Bearer \")\n      return render json: { error: \"Unauthorized\" }, status: :unauthorized\n    end\n\n    # Authorizationãƒ˜ãƒƒãƒ€ãƒ¼ã‹ã‚‰IDãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–ã‚Šå‡ºã™\n    token = auth_header.split(\"Bearer \").last\n\n    # ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼\n    begin\n      # IDãƒˆãƒ¼ã‚¯ãƒ³ã‚’æ¤œè¨¼ã™ã‚‹ãŸã‚ã®ãƒãƒªãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆ\n      validator = GoogleIDToken::Validator.new\n      payload = validator.check(token, ENV[\"GOOGLE_CLIENT_ID\"])\n\n      sub = payload[\"sub\"]\n      email = payload[\"email\"]\n      name = payload[\"name\"]\n      picture = payload[\"picture\"]\n\n      # ãƒ¦ãƒ¼ã‚¶ãŒè¦‹ã¤ã‹ã‚Œã°æ›´æ–°ï¼Œè¦‹ã¤ã‹ã‚‰ãªã‘ã‚Œã°ä½œæˆ\n      user = User.find_or_create_by(google_sub: sub) do |u|\n        u.name = name\n        u.email = email\n        u.picture = picture\n      end\n\n      render json: { message: \"Login successful\", user: user }\n    rescue StandardError => e\n      Rails.logger.error \"Google Auth Error: #{e.message}\"\n\n      render json: { error: \"Invalid ID token\" }, status: :unauthorized\n    end\n  end\nend\n```\n\n### ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®è¨­å®š\n\n`auth/google`ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã¨ãã«`SessionsController`ã‚¯ãƒ©ã‚¹ã®`google_auth`ãƒ¡ã‚½ãƒƒãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã‚ˆã†ã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã—ã¾ã™ï¼\n\n```ruby\nRails.application.routes.draw do\n  # Define your application routes per the DSL in https://guides.rubyonrails.org/routing.html\n\n  # Reveal health status on /up that returns 200 if the app boots with no exceptions, otherwise 500.\n  # Can be used by load balancers and uptime monitors to verify that the app is live.\n  get \"up\" => \"rails/health#show\", as: :rails_health_check\n\n  # Defines the root path route (\"/\")\n  # root \"posts#index\"\n\n  post \"auth/google\", to: \"sessions#google_auth\"\nend\n```\n\n# ãƒ†ã‚¹ãƒˆ\n\nå®Ÿéš›ã«`http://localhost:3000`ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ï¼Œã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆï¼Œãƒ­ã‚°ã‚¤ãƒ³ï¼Œãƒ­ã‚°ã‚¢ã‚¦ãƒˆã‚’æ¤œè¨¼ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼æƒ³å®šé€šã‚Šã®æŒ™å‹•ãŒã•ã‚Œã‚Œã°æˆåŠŸã§ã™ï¼\n",
    "createdAt": "2025-07-21T07:23:48.459Z",
    "updatedAt": "2025-07-21T07:23:48.459Z"
  },
  {
    "title": "Auth.jsã®åŸºç¤ (Google OAuthã‚’ä½¿ç”¨)",
    "summary": "æœ€æ–°ã®Auth.jsã®ä½¿ã„æ–¹ã‚’ãƒ¡ãƒ¢",
    "tags": [
      "Next.js",
      "èªè¨¼",
      "Auth.js"
    ],
    "slug": "Next.js/auth-js-tutorial",
    "folder": "Next.js",
    "content": "\n# ãƒãƒ¼ã‚¸ãƒ§ãƒ³\n\n---\n\n```json\n\"next\": \"15.1.7\",\n\"next-auth\": \"^5.0.0-beta.25\",\n\"react\": \"^19.0.0\",\n\"react-dom\": \"^19.0.0\"\n```\n\n# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ\n\n---\n\nApp routerã‚’ä½¿ã£ã¦ã„ãã¾ã™ï¼\n\n```bash\n$ npx create-next-app@latest\nâœ” What is your project named? â€¦ frontend\nâœ” Would you like to use TypeScript? â€¦ Yes\nâœ” Would you like to use ESLint? â€¦ Yes\nâœ” Would you like to use Tailwind CSS? â€¦ Yes\nâœ” Would you like your code inside a `src/` directory? â€¦ No\nâœ” Would you like to use App Router? (recommended) â€¦ Yes\nâœ” Would you like to use Turbopack for `next dev`? â€¦ Yes\nâœ” Would you like to customize the import alias (`@/*` by default)? â€¦ No\n```\n\n## Auth.jsã®è¨­å®š\n\nå…¬å¼ã‚µã‚¤ãƒˆã®ã‚„ã‚Šæ–¹ã«å‰‡ã‚Šã¾ã™ï¼\n[Auth.js | Installation](https://authjs.dev/getting-started/installation?framework=next-js)\n\n### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install next-auth@beta\n```\n\n### ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼ã®ä½œæˆ\n\nãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒãƒˆãƒ¼ã‚¯ãƒ³ã‚„ãƒ¡ãƒ¼ãƒ«èªè¨¼ç”¨ã®ãƒãƒƒã‚·ãƒ¥ã‚’æš—å·åŒ–ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã™ã‚‹ãƒ©ãƒ³ãƒ€ãƒ ãªå€¤ã‚’ç”Ÿæˆã—ï¼Œè‡ªå‹•ã§`.env`ã‚ã‚‹ã„ã¯`.env.local`ã«ä¿å­˜ã•ã‚Œã¾ã™ï¼\n\n```bash\n$ npx auth secret\nğŸ“ Created [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å ´æ‰€].env.local with `AUTH_SECRET`.\n```\n\n# ã‚¢ãƒ—ãƒªã®ä¸‹æº–å‚™\n\n---\n\n## `Auth.ts`ã®ä½œæˆ\n\nã“ã“ã§ã¯ä½¿ç”¨ã—ãŸã„èªè¨¼ãƒ—ãƒ­ãƒã‚¤ãƒ€ã®æŒ‡å®šã‚„ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®è¨­å®šãªã©ãŒã§ãã¾ã™ï¼ã“ã“ã§ã¯å˜ç´”ã«googleã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ã®ã¿ã‚’ä½¿ç”¨ã—ã¾ã™ï¼\n\n```ts\n// ./auth.ts\nimport NextAuth from \"next-auth\";\nimport Google from \"next-auth/providers/google\";\n\nexport const { handlers, signIn, signOut, auth } = NextAuth({\n  providers: [Google],\n});\n```\n\n## `routes.ts`ã®ä½œæˆ\n\nä»Šå¾Œã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ç”¨ã®é–¢æ•°ã‚’ä½¿ã†ãŸã‚ã«ï¼Œã‚ã‚‰ã‹ã˜ã‚ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼\n\n```ts\n// ./app/api/auth/[...nextauth]/route.ts\nimport { handlers } from \"@/auth\"; // Referring to the auth.ts we just created\nexport const { GET, POST } = handlers;\n```\n\nã“ã‚Œã‚’è¨­å®šã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒè‡ªå‹•ã§ä½œæˆã•ã‚Œã¾ã™\n\n- `/api/auth/signin`ï¼ˆã‚µã‚¤ãƒ³ã‚¤ãƒ³ï¼‰\n- `/api/auth/signout`ï¼ˆã‚µã‚¤ãƒ³ã‚¢ã‚¦ãƒˆï¼‰\n- `/api/auth/session`ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±å–å¾—ï¼‰\n- `/api/auth/callback/:provider`ï¼ˆOAuth ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰\n- `/api/auth/csrf`ï¼ˆCSRF ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—ï¼‰\n\nã“ã‚Œã‚‰ãŒä½œæˆã•ã‚Œã‚‹ã“ã¨ã«ã‚ˆã‚Šé©åˆ‡ã«Auth.jsãŒç”¨æ„ã—ãŸé–¢æ•°ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼\n\n## Googleã®OAuthã‚’ä½¿ã†\n\nGoogle Cloudã‹ã‚‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ï¼Œã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆIDã¨ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼ã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™\nhttps://console.cloud.google.com/\n\n### èªè¨¼æƒ…å ±ã®ä½œæˆ\n\n`ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ > APIã¨ã‚µãƒ¼ãƒ“ã‚¹ > èªè¨¼æƒ…å ±`ã«ç§»å‹•ã—ï¼Œ`èªè¨¼æƒ…å ±ã‚’ä½œæˆ`ã—ã¾ã™ï¼ç¨®é¡ã¯ OAuth ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ ID ã‚’é¸æŠã—ã¦ãã ã•ã„ï¼\n\n### ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆIDã®è¨­å®š\n\nOAuth ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ ID ã®ä½œæˆã¯ä»¥ä¸‹ã®ã‚ˆã†ã«è¨­å®šã—ã¦ãã ã•ã„ï¼\n\n- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ç¨®é¡ ... ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³\n- åå‰ ... ä»»æ„ã®åå‰\n- æ‰¿èªæ¸ˆã¿ã® JavaScript ç”Ÿæˆå…ƒ ... http://localhost:3000\n- æ‰¿èªæ¸ˆã¿ã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ URI ... http://localhost:3000/api/auth/callback/google\n\n> åŒæ„ç”»é¢ã‚’ä½œæˆã—ã¦ã„ãªã„å ´åˆã¯ï¼Œäº‹å‰ã«ä½œæˆã™ã‚‹ã“ã¨ã‚’ä¿ƒã•ã‚Œã¾ã™ï¼ã¾ãŸä½œæˆå¾Œï¼Œã‚µã‚¤ãƒˆã‚’å†èª­ã¿è¾¼ã¿ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼\n\n### `.env.local`ã®ç·¨é›†\n\nOAuth ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ IDã®ä½œæˆãŒã†ã¾ãã„ãã¨ï¼Œã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ ID ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’å–å¾—ã§ãã¾ã™ï¼ã“ã‚Œã‚‰ã‚’`.env.local`ã«è¿½åŠ ã—ã¦ãŠãã¾ã™ï¼\n\n```env\nAUTH_GOOGLE_ID={CLIENT_ID}\nAUTH_GOOGLE_SECRET={CLIENT_SECRET}\n```\n\n# å®Ÿè£…\n\n---\n\n## signin/signoutã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½œæˆ\n\n### `components/signin.tsx`\n\nä»Šå›ã¯ï¼Œã‚µã‚¤ãƒ³ã‚¤ãƒ³ã—ãŸã®ã¡ã«`/dashboard`ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ï¼\n\n```tsx\nimport { signIn } from \"@/auth\";\n\nexport default function SignIn() {\n  return (\n    <form\n      action={async () => {\n        \"use server\";\n        await signIn(\"google\", { redirectTo: \"/dashboard\" });\n      }}\n    >\n      <button\n        type=\"submit\"\n        className=\"w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600\"\n      >\n        Sign in with Google\n      </button>\n    </form>\n  );\n}\n```\n\n### `components/signout.tsx`\n\n```tsx\nimport { signOut } from \"@/auth\";\n\nexport function SignOut() {\n  return (\n    <form\n      action={async () => {\n        \"use server\";\n        await signOut({ redirectTo: \"/\" });\n      }}\n    >\n      <button\n        type=\"submit\"\n        className=\"w-full bg-red-500 text-white py-2 px-4 rounded hover:bg-red-600\"\n      >\n        Sign Out\n      </button>\n    </form>\n  );\n}\n```\n\n## ãƒ­ã‚°ã‚¤ãƒ³å°‚ç”¨ãƒšãƒ¼ã‚¸ã®è¨­å®š\n\n`/dashboard`ä»¥ä¸‹ã®éšå±¤ã§ã¯ãƒ­ã‚°ã‚¤ãƒ³ã—ãªã„ã¨å…¥ã‚Œãªã„ã‚ˆã†ãªä»•çµ„ã¿ã«ã—ã¾ã™ï¼`auth()`ã‹ã‚‰ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±ã‚’å–å¾—ã—ï¼Œãã®å†…å®¹ã§`signin`ãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã™ã‚‹ã‹ï¼Œãã®ã¾ã¾dashboardãƒšãƒ¼ã‚¸ã‚’é–‹ãã‹åˆ†å²ã•ã›ã¾ã™ï¼ãã®ãŸã‚ã«`/dashboard/layout.tsx`ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ç·¨é›†ã—ã¾ã™ï¼\n\n```tsx\nimport { auth } from \"@/auth\";\nimport { redirect } from \"next/navigation\";\nimport React from \"react\";\n\nexport default async function DashboardLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const session = await auth();\n\n  if (!session) {\n    redirect(\"/signin\");\n  }\n\n  return <>{children}</>;\n}\n```\n\n## ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã®ä½¿ç”¨\n\n### `app/signin/page.tsx`\n\n```tsx\nimport SignIn from \"@/components/signin\";\n\nexport default function SignInPage() {\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-gray-100\">\n      <div className=\"bg-white p-8 rounded shadow-md w-full max-w-md\">\n        <h1 className=\"text-2xl font-bold mb-6 text-center\">Sign In</h1>\n        <SignIn />\n      </div>\n    </div>\n  );\n}\n```\n\n### `app/dashboard/page.tsx`\n\n```tsx\nimport { SignOut } from \"@/components/sign-out\";\n\nexport default function DashboardPage() {\n  return (\n    <div className=\"flex flex-col items-center justify-center min-h-screen bg-gray-100\">\n      <div className=\"bg-white p-8 rounded shadow-md w-full max-w-2xl\">\n        <h1 className=\"text-3xl font-bold mb-6 text-center\">Dashboard</h1>\n        <p className=\"mb-4 text-center\">Welcome to your dashboard!</p>\n        <div className=\"flex justify-center\">\n          <SignOut />\n        </div>\n      </div>\n    </div>\n  );\n}\n```\n\n# ãƒ†ã‚¹ãƒˆ\n\n---\n\n- http://localhost:3000\n- http://localhost:3000/signin\n- http://localhost:3000/dashboard\n\nã“ã‚Œã‚‰ã®ãƒšãƒ¼ã‚¸ã‚’é–‹ã„ã¦ï¼Œãã‚Œãã‚Œã®æŒ™å‹•ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ï¼\n\næ¬¡å›ã¯ï¼Œãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ã®çµ±åˆã«ã¤ã„ã¦è§£èª¬ã—ã¦ã„ãã¾ã™ï¼\n[Auth.jsã¨Ruby on Railsã«ã‚ˆã‚‹ãƒ¦ãƒ¼ã‚¶ç®¡ç†](https://techblog-notes.vercel.app/174f1269-0c19-419b-a9f5-09a691e2f342)\n",
    "createdAt": "2025-07-21T07:23:48.457Z",
    "updatedAt": "2025-07-21T07:23:48.458Z"
  },
  {
    "title": "Consideration of a Generative Method Using a Gaussian Mixture Model",
    "summary": "We constructed a basic generative model using a Gaussian Mixture Model (GMM).",
    "tags": [
      "python",
      "Machine Learning",
      "Data Science",
      "Mathematical Optimization"
    ],
    "slug": "Generative-AI/GMM-gen-ai",
    "folder": "Generative-AI",
    "content": "\n# Gaussian Mixture Model (GMM)\n\n- A clustering method.\n- Can also be used as a generative model.\n- Represents a given dataset as a combination of multiple Gaussian distributions.\n- Provides a probability density function, which explains its use as a generative model.\n- Can automatically determine the number of clusters.\n- Reveals the prior distribution of explanatory variable X (latent variable).\n\n## Gaussian Distribution (can be visualized as a graph in a two-dimensional space of x and y)\n\n$$\nN(x|\\mu,\\sigma^2)=\\frac{1}{\\sqrt{2\\pi\\sigma^2}}\\exp\\left\\{-\\frac{1}{2\\sigma^2}(x-\\mu)^2\\right\\}\n$$\n\n## Multivariate Normal Distribution (Can be viewed as a graph in three or more dimensions such as x, y, z...)\n\n$$\nN(\\mathbf x|\\mathbf\\mu,\\Sigma)=\\frac{1}{(2\\pi)^\\frac{m}{2}}\\frac{1}{|\\Sigma|^{\\frac{1}{2}}}\\exp\\left\\{-\\frac{1}{2}(\\mathbf x-\\mathbf\\mu)^T\\Sigma^{-1}(\\mathbf x-\\mathbf\\mu)\\right\\}\\quad\\left(\\mathbf x:\nRandom~variable~vector,\\mathbf\\mu:Average~vector,\\Sigma:Covariance~matrix\\right)\n$$\n\n## Mixture of Gaussian Distribution (Multiple peaks are formed)\n\n$$\np(\\mathbf x)=\\sum_{k=1}^n\\pi_kN(\\mathbf x|\\mu_k,\\Sigma_k)\\quad\\left(n:n ~Gaussian~distributions,k:k-th~Gaussian~distribution,\\pi_k:Mixture~coefficient\\left(Weight~of~each~Gaussian~distribution,\\sum_{k=1}^n\\pi_k=1\\right)\\right)\n$$\n\nReference: https://datachemeng.com/wp-content/uploads/gaussianmixturemodel.pdf\n\n# Prior distribution of Mixture Gaussian Distribution\n\nThe prior distribution here is the distribution of \"which cluster a variable belongs to after receiving it.\" If we define the latent variable as $\\mathbf z$, then $\\mathbf z$ is\n\n- A vector (i.e., a matrix) with a one-hot vector that is 1 in one cluster and 0 in the others.\n- If there is no information about the sample, the probability that $\\mathbf z_k=1$ is set to follow the mixture coefficient.\n  $$\n  p(\\mathbf z_k=1)=\\pi_k\n  $$\n\nIf this is not introduced, the area will not be 1 in the mixture Gaussian distribution (it is obvious that the sum of probabilities will exceed 1 if simply added).\n\n## Finding the prior distribution\n\nUsing Bayes' theorem, the probability that a sample $\\mathbf x$ will be $z_k=1$ given is\n\n$$\np(z_k=1|\\mathbf x)=\\frac{p(z_k=1)p(\\mathbf x|z_k=1)}{\\sum_{i=1}^np(z_k=1)p(\\mathbf x|z_i=1)}=\\frac{\\pi_kp(\\mathbf x|z_k=1)}{\\sum_{i=1}^n\\pi_ip(\\mathbf x|z_i=1)}=\\frac{\\pi_kN(\\mathbf x|\\mu_k,\\Sigma_k)}{\\sum_{i=1}^n\\pi_iN(\\mathbf x|\\mu_i,\\Sigma_i)}\n$$\n\nFrom this,\n\n$$\nk^\\star=\\arg\\max_kp(z_k=1|\\mathbf x)\n$$\n\nBy doing so, the cluster at a certain point $\\mathbf x$ can be estimated.\n\n# Creating a Mixture Gaussian Distribution\n\n## Definition of probability density function\n\n```py\n# Multivariate normal distribution\ndef gaussian_densty(x, mu, sigma): # (1, n), (1, n), (n, n)\n  diff = x - mu\n  sigma_inv = np.linalg.inv(sigma)\n  sigma_det = np.linalg.det(sigma)\n  z = np.exp(-np.dot(diff.T, np.dot(sigma_inv, diff)) / 2)\n\n  return z / np.sqrt(np.power(2*np.pi, len(mu)) * sigma_det) # (1, n)\n\n# Mixture Gaussian distribution\ndef mixture_gaussian_densty(x, mu_list, sigma_list, pi_list): # (1, n), (k, n), (k, n, n), (1, k)\n  z = 0\n  for i in range(len(pi_list)):\n    z += pi_list[i] * gaussian_densty(x, mu_list[i], sigma_list[i])\n  return z # (1, n)\n```\n\n> Note that only the probability density function has been created, so the corresponding code is required to sample it.\n\n## Using NumPy's Official Multivariate Normal Distribution\n\n```py\n# Generate samples from a multivariate normal distribution\ndef sample_multivariate_gaussian(mu, sigma, num_samples=1):\n    return np.random.multivariate_normal(mu, sigma, num_samples)\n\n# Generate samples from a mixture Gaussian distribution\ndef sample_mixture_gaussian(mu_list, sigma_list, pi_list, num_samples=100):\n    samples = []\n    num_clusters = len(pi_list)\n\n    # Determine the number of samples in each cluster\n    cluster_sizes = np.random.multinomial(num_samples, pi_list) # Randomly determine the number of samples in each cluster using the mixture coefficients\n\n    for i in range(num_clusters):\n        # Generate samples for each cluster\n        cluster_samples = sample_multivariate_gaussian(mu_list[i], sigma_list[i], cluster_sizes[i])\n        samples.append(cluster_samples)\n\n    # Combine the samples and return them\n    return np.vstack(samples)\n```\n\n## Preparing the data\n\n```py\n# Prepare sample data\n# Create a Gaussian mixture distribution with random variable X = [x0, x1], Mu = [mu0, mu1], and latent variable Z = [z0, z1, z2].\n\n# Cluster 0\nmu0 = np.array([0, -0.5])\nsigma0 = np.array([[1.0, 0], [0, 1.0]])\n# Cluster 1\nmu1 = np.array([2.5, 2])\nsigma1 = np.array([[0.5, 0.3], [0.3, 0.7]])\n\n# Cluster 2\nmu2 = np.array([-2, 1.5])\nsigma2 = np.array([[1.2, 0.2], [0.2, 0.4]])\n\n# Combine data\nmu_list = [mu0, mu1, mu2]\nsigma_list = [sigma0, sigma1, sigma2]\npi_list = [0.45, 0.25, 0.3]\n\n# Number of sample data points\nNUM_DATA = 500\n\n# Generate samples from the Gaussian mixture distribution\nsamples = sample_mixture_gaussian(mu_list, sigma_list, pi_list, num_samples=NUM_DATA)\n\nsamples[:10]\n```\n\n## Plotting the Gaussian Mixture Distribution\n\n```py\ndef plot_mixture_gaussian(mu_list, sigma_list, pi_list, samples=None, figsize=(8,6)):\n    x_range = np.linspace(-5, 5, 100)\n    y_range = np.linspace(-5, 5, 100)\n    X, Y = np.meshgrid(x_range, y_range)\n    Z = np.zeros((len(x_range), len(y_range)))\n\n    # Calculate the probability density for each coordinate\n    for i in range(len(x_range)):\n        for j in range(len(y_range)):\n            x = np.array([x_range[i], y_range[j]])\n            Z[i, j] = mixture_gaussian_densty(x, mu_list, sigma_list, pi_list)\n\n    plt.figure(figsize=figsize)\n    if samples is not None:\n        plt.scatter(samples[:, 1], samples[:, 0], color='red', s=10, label='Samples')\n    plt.contour(X, Y, Z, cmap='viridis')\n    plt.colorbar(label='Density')\n    plt.xlabel('x')\n    plt.ylabel('y')\n    plt.title('Mixture Gaussian Distribution')\n    plt.show()\n\nplot_mixture_gaussian(mu_list, sigma_list, pi_list, samples)\n```\n\n# Estimating Clusters from Samples\n\n`To be considered later`\n\n# Estimating Parameters of the Mixture Gaussian Distribution from Samples\n\n## Maximum Likelihood Estimation\n\n\"Likelihood maximization\" is one of the methods to estimate the distribution from the sample data.\n\n$$\nLikelihood~function:{\\cal L}(\\theta;\\mathbf x)=\\prod_{i=1}^nP(x_i;\\theta),\\quad Maximum~likelihood~estimator:\\theta^\\star=\\arg\\max_\\theta{\\cal L}(\\theta;\\mathbf x)\\quad(n:Number~of~samples)\n$$\n\nReference: https://cochineal19.hatenablog.com/entry/2021/11/08/003751\n\n## Define the log likelihood function\n\nIt's hard to calculate the likelihood function directly because it's a product of many probabilities. Therefore, it is common to use the log likelihood function.\n\nThere is no effect on the maximum value of the function because the logarithm is a monotonically increasing function.\n\n$$\n{\\cal L}(\\mu,\\Sigma,\\pi;\\mathbf x)=\\prod_{i=1}^np(\\mathbf x;\\mu,\\Sigma,\\pi)=\\prod_{i=1}^n\\sum_{k=1}^n\\pi_kN(\\mathbf x|\\mu_k,\\Sigma_k)\\\\\\to\\log{\\cal L}(\\mu,\\Sigma,\\pi;\\mathbf x)=\\log\\prod_{i=1}^n\\sum_{k=1}^n\\pi_kN(\\mathbf x|\\mu_k,\\Sigma_k)=\\sum_{i=1}^n\\log\\sum_{k=1}^n\\pi_kN(\\mathbf x|\\mu_k,\\Sigma_k)\n$$\n\n```py\ndef log_likelihood(mu_list, sigma_list, pi_list, sample):\n  log_likelihood = 0\n  for i in range(len(sample)):\n    log_likelihood += np.log(mixture_gaussian_densty(sample[i], mu_list, sigma_list, pi_list))\n\n  return log_likelihood\n```\n\n## Defining the Burden Rate\n\nSince we need to find the prior distribution \\( p(z|x) \\) of \\( p(x|z) \\), the prior probability of each cluster for a given data point \\( \\mathbf{x_i} \\) is expressed as follows:\n\n$$\np_{\\mu,\\Sigma,\\pi}(z_{ik}=1|\\mathbf{x_i}) = \\frac{\\pi_k{\\cal N}(\\mathbf{x_i};\\mu_k,\\Sigma_k)}{\\sum_{j=1}^K \\pi_j {\\cal N}(\\mathbf{x_i};\\mu_j,\\Sigma_j)} \\equiv \\gamma(z_{ik})\n$$\n\nIntuitively, we are calculating the probability that the distribution of each cluster fits the given data point.\n\n```py\ndef responsibility(data, mu_list, sigma_list, pi_list):\n    gamma = np.zeros((len(data), len(pi_list)))\n    for i in range(len(data)):\n        for j in range(len(pi_list)):\n            gamma[i, j] = pi_list[j] * gaussian_density(data[i], mu_list[j], sigma_list[j])\n        gamma[i] /= np.sum(gamma[i])\n    return gamma\n```\n\n### Classifying Using the Burden Rate\n\nTo perform classification, we need to find:\n\n$$\nz^\\star = \\argmax_{z_{ik}} \\gamma(z_{ik})\n$$\n\nThis gives us the cluster with the highest responsibility for each data point.\n\n```python\ndf = pd.DataFrame(samples[:, [1, 0]], columns=['x', 'y'])\ngamma = responsibility(samples, mu_list, sigma_list, pi_list)\ndf['gamma0'] = gamma[:, 0]\ndf['gamma1'] = gamma[:, 1]\ndf['gamma2'] = gamma[:, 2]\ndf['z_star'] = df[['gamma0', 'gamma1', 'gamma2']].idxmax(axis=1)\n\nx_range = np.linspace(-5, 5, 100)\ny_range = np.linspace(-5, 5, 100)\nX, Y = np.meshgrid(x_range, y_range)\nZ = np.zeros((len(x_range), len(y_range)))\n\n# Calculate probability density for each coordinate\nfor i in range(len(x_range)):\n    for j in range(len(y_range)):\n        x = np.array([x_range[i], y_range[j]])\n        Z[i, j] = mixture_gaussian_density(x, mu_list, sigma_list, pi_list)\n\nsns.scatterplot(x='x', y='y', hue='z_star', data=df, palette='viridis')\nplt.contour(X, Y, Z, cmap='viridis')\nplt.colorbar(label='Density')\nplt.xlabel('x')\nplt.ylabel('y')\nplt.title('Mixture Gaussian Distribution')\nplt.show()\n```\n\n## Learning\n\nTo maximize the log-likelihood, we need to solve:\n\n$$\n\\argmax_{\\mu,\\Sigma,\\pi} \\log {\\cal L}(\\mu, \\Sigma, \\pi; \\mathbf{x}) = \\argmax_{\\mu,\\Sigma,\\pi} \\sum_{i=1}^n \\log \\sum_{k=1}^K \\pi_k N(\\mathbf{x} | \\mu_k, \\Sigma_k)\n$$\n\nIn this case, the log-sum part makes it difficult to solve analytically â†’ We optimize it using the Expectation-Maximization (EM) algorithm.\n\n### Initialize the parameters\n\nSet randomly\n\n### E-Step\n\nCalculate the responsibility for each data point at the current step:\n\n$$\np_{\\mu,\\Sigma,\\pi}(z_{ik}=1|\\mathbf x_i)=\\frac{\\pi_k{\\cal N}(\\mathbf x_i;\\mu_k,\\Sigma_k)}{\\sum_{j=1}^K\\pi_j{\\cal N}(\\mathbf x_i;\\mu_j,\\Sigma_j)}\\equiv\\gamma(z_{ik})\n$$\n\n### M-Step\n\nUpdate the parameters to maximize the likelihood using the responsibilities:\n\n$$\n\\begin{aligned}\n&\\frac{\\partial{\\cal L}}{\\partial\\mu_k}=0\\to\\mu_k=\\frac{1}{N_k}\\sum_{i=1}^n\\gamma(z_{ik})\\mathbf x_i\\\\\n&\\frac{\\partial{\\cal L}}{\\partial\\Sigma_k}=0\\to\\Sigma_k=\\frac{1}{N_k}\\sum_{i=1}^n\\gamma(z_{ik})(\\mathbf x_i-\\mu_k)(\\mathbf x_i-\\mu_k)^T\n\\end{aligned}\n\\quad\\left(N_k=\\sum_{i=1}^n\\gamma(z_{ik})\\right)\n$$\n\nFor $\\pi_k$, since $\\sum_{k=1}^K\\pi_k=1$, we use the Lagrange multiplier method to maximize the likelihood:\n\n$$\n\\frac{\\partial G}{\\partial\\pi_k}=0\\to\\pi_k=\\frac{N_k}{\\sum_{k=1}^KN_k}\\quad\\left(G={\\cal L}+\\lambda\\left(\\sum_{k=1}^K\\pi_k-1\\right)\\right)\n$$\n\n### Convergence Condition\n\nIf the change in the likelihood meets a predefined threshold $\\epsilon$:\n\n$$\n{\\cal L}_{new}-{\\cal L}_{old}<\\epsilon\n$$\n\nthen stop the iterations; otherwise, repeat the EM steps.\n\n```python\n# Number of clusters (You can use methods to find the optimal number)\nK = 3\n\n# Initialize random mean vectors (2D)\nmu_list = [np.random.randn(2) for _ in range(K)]\n\n# Initialize random covariance matrices (2x2)\nsigma_list = []\nfor _ in range(K):\n    A = np.random.randn(2, 2)\n    sigma = np.dot(A, A.T)  # Create symmetric and positive definite matrices\n    sigma_list.append(sigma)\n\n# Initialize random mixing coefficients and normalize\npi_list = np.random.rand(K)\npi_list = pi_list / np.sum(pi_list)\n\n# Display the results\nprint(\"mu_list:\", mu_list)\nprint(\"sigma_list:\", sigma_list)\nprint(\"pi_list:\", pi_list)\n\nn_iter = 0\n\nlikely = log_likelihood(mu_list, sigma_list, pi_list, samples) / NUM_DATA\nprint('Iteration: {0}, log_likelihood: {1}'.format(n_iter, likely))\nplot_mixture_gaussian(mu_list, sigma_list, pi_list, samples, figsize=(4,3))\n\nth = 0.0001\n\nwhile True:\n  n_iter += 1\n\n  # E-Step\n  gamma = responsibility(samples, mu_list, sigma_list, pi_list)\n  n_k = np.sum(gamma, axis=0)\n\n  # M-Step\n\n  # Update pi\n  pi_list_next = (n_k / n_k.sum()).tolist()\n\n  # Update mu\n  mu_list_next = list(((samples.T @ gamma) / n_k).T)\n\n  # Update Sigma\n  sigma_list_next = []\n  for k in range(len(pi_list)):\n    sigma_k = np.zeros_like(sigma_list[k], dtype=float)\n    for i in range(len(samples)):\n      sigma_k += gamma[i, k] * np.matmul(\n          (samples[i] - mu_list[k]).reshape(-1, 1),\n          (samples[i] - mu_list[k]).reshape(1, -1)\n      )\n\n    sigma_list_next.append(sigma_k/n_k[k])\n\n  # Why deepcopy here? (Possibly due to reference issues)\n  # Also, why is 'next' converted to regular lists for all?\n  mu_list = copy.deepcopy(mu_list_next)\n  sigma_list = copy.deepcopy(sigma_list_next)\n  pi_list = copy.deepcopy(pi_list_next)\n\n  # Convergence condition\n  likely_before = likely\n  likely = log_likelihood(mu_list, sigma_list, pi_list, samples) / NUM_DATA\n  print('Iteration: {0}, log_likelihood: {1}'.format(n_iter, likely))\n  plot_mixture_gaussian(mu_list, sigma_list, pi_list, samples, figsize=(4,3))\n\n  delta = likely - likely_before\n  if delta < th:\n    break\n\n# Display results\nprint(\"mu_list:\", mu_list)\nprint(\"sigma_list:\", sigma_list)\nprint(\"pi_list:\", pi_list)\n```\n",
    "createdAt": "2025-07-21T07:23:48.457Z",
    "updatedAt": "2025-07-21T07:23:48.457Z"
  },
  {
    "title": "CSSã®åŸºç¤",
    "summary": "HTMLã‚’ã‹ã£ã“ã„ã„ãƒ‡ã‚¶ã‚¤ãƒ³ã«ã™ã‚‹ï¼",
    "tags": [
      "Web",
      "CSS",
      "HTML",
      "åŸºç¤"
    ],
    "slug": "html-css/basic-css",
    "folder": "html-css",
    "content": "\n# ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ããŸã‚ã®æº–å‚™\n\n---\n\n## é–‹ç™ºç’°å¢ƒãŒãªã„å ´åˆ\n\n1. ãƒ–ãƒ©ã‚¦ã‚¶ã§ _code pen_ ã¨æ¤œç´¢\n   [CodePen: Online Code Editor and Front End Web Developer ...](https://codepen.io/)\n1. ä¸€ç•ªä¸Šã®ã‚µã‚¤ãƒˆã‚’é–‹ã\n1. å·¦å´ã«ã‚ã‚‹ã€ŒStart Codingã€ã‚’æŠ¼ã™\n1. htmlã¨cssã‚’è©¦ã™ã“ã¨ãŒã§ãã‚‹ï¼\n\n# HTMLã¨ã¯\n\n1. **Hyper Text Markup Language**ã®ç•¥\n1. æ–‡ç« ã‚’æ›¸ãã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«ä¸Šã’ã‚‹ã“ã¨ãŒã§ãã‚‹\n1. ã€Œã‚¿ã‚°ã€ã«ã‚ˆã£ã¦æ–‡å­—ã«å½¹å‰²ã‚’ä¸ãˆã‚‹ã“ã¨ãŒã§ãã‚‹\n1. ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’å¤‰ãˆãŸã‚Šï¼Œå‹•ãã‚’ä¸ãˆã‚‹ã“ã¨ã¯HTMLã ã‘ã§ã¯ã»ã¼ä¸å¯èƒ½\n\n```HTML\n<!DOCTYPE html>\n<html>\n  <head>\n    <title>My First HTML</title>\n  </head>\n  <body>\n    <h1>My First Heading</h1>\n    <p>My first paragraph.</p>\n    <a href=\"#\">This is a link</a>\n  </body>\n</html>\n```\n\n## ã‚¿ã‚°ã®ç¨®é¡\n\n| ã‚¿ã‚°            | æ¦‚è¦                                             |\n| --------------- | ------------------------------------------------ |\n| `<html></html>` | htmlã®å¤–æ®»                                       |\n| `<head></head>` | ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ã‚¿ã‚¤ãƒˆãƒ«ã‚„æ–‡å­—ã‚³ãƒ¼ãƒ‰ãªã©æ±ºã‚ã‚‹å ´æ‰€ |\n| `<body></body>` | ã‚µã‚¤ãƒˆã®å†…å®¹ã‚’æ›¸ãå ´æ‰€                           |\n| `<h1></h1>`     | è¦‹å‡ºã—                                           |\n\nã»ã‹ã«ã‚‚ã‚ã¡ã‚ƒãã¡ã‚ƒã‚ã‚‹ï¼\n\n# CSSã¨ã¯\n\n---\n\n1. **Cascading Style Sheets** ã®ç•¥\n1. HTMLã«ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’æŒ‡å®šã§ãã‚‹\n\n# ãƒœãƒƒã‚¯ã‚¹ãƒ¢ãƒ‡ãƒ«ã‚’çŸ¥ã‚ã†ï¼\n\n---\n\n## WEBãƒšãƒ¼ã‚¸ã¯ãƒ–ãƒ­ãƒƒã‚¯ã®é›†ã¾ã‚Š\n\n### ãƒœãƒƒã‚¯ã‚¹ãƒ¢ãƒ‡ãƒ«ã¨ã¯ï¼Ÿ\n\nHTMLã®è¦ç´ ã¯ã™ã¹ã¦å››è§’å½¢ã®é ˜åŸŸã§æ§‹æˆã•ã‚Œã¦ã„ã‚‹ã¨ã„ã†è€ƒãˆæ–¹\n\n### ãƒšãƒ¼ã‚¸ã®æ§‹é€ \n\nWEBã‚µã‚¤ãƒˆã¯ãƒœãƒƒã‚¯ã‚¹ã‚’ä¸¦ã¹ãŸã‚Šï¼Œæ ¼ç´ã—ãŸã‚Šï¼Œé‡ã­ã¦ã„ã‚‹ã ã‘\n\n### ãƒ–ãƒ­ãƒƒã‚¯ã¨ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³\n\nãƒœãƒƒã‚¯ã‚¹ã¯ãƒ–ãƒ­ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã¨ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ãƒœãƒƒã‚¯ã‚¹ã«åˆ†ã‘ã‚‰ã‚Œã‚‹ (è©³ã—ãã¯åˆ¥ã®å›ã§)\n\n## é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ãƒšãƒ¼ã‚¸ã®æ§‹é€ ã‚’è¦‹ã¦ã¿ã‚ˆã†ï¼\n\n1. webãƒšãƒ¼ã‚¸ã‚’é–‹ã\n   [https://google.com](https://google.com)\n1. `f12`ã‚­ãƒ¼ã‚’æŠ¼ã™\n1. ã”ã¡ã‚ƒã”ã¡ã‚ƒã—ãŸç”»é¢ãŒå‡ºã¦ããŸã‚‰æˆåŠŸï¼\n\n## æ˜ç¤ºçš„ã«ãƒœãƒƒã‚¯ã‚¹ã‚’ã¤ãã‚ã†ï¼\n\n`<div>`ã‚¿ã‚°ã¯å­è¦ç´ ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ã¦ãã‚Œã‚‹ã‚ˆï¼\n\n```HTML\n<!DOCTYPE html>\n<html lang=\"ja\">\n\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>â—‹â—‹ãƒ†ãƒƒã‚¯è¬›åº§</title>\n  </head>\n\n  <body>\n\n    <div>\n      <h1>â—‹â—‹ãƒ†ãƒƒã‚¯è¬›åº§</h1>\n      <p>Webã‚µã‚¤ãƒˆã‚’ã¤ãã‚ã†ï¼</p>\n    </div>\n\n    <div>\n      <h2>æ´»å‹•å†…å®¹</h2>\n      <div>\n        <div>\n          <p>1. HTMLã¨CSSã®åŸºæœ¬ã‚’å­¦ã¶</p>\n          <p>2. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’ä½œæˆã™ã‚‹</p>\n        </div>\n        <div>\n          <p>3. JavaScriptã‚’ä½¿ã£ãŸã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªæ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹</p>\n          <p>4. Gitã¨GitHubã®ä½¿ã„æ–¹ã‚’ç¿’å¾—ã™ã‚‹</p>\n        </div>\n      </div>\n      <div>\n        <div>\n          <p>5. Rubyã‚’å­¦ã³ã€Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã™ã‚‹</p>\n          <p>6. ãƒãƒ¼ãƒ é–‹ç™ºã‚’ä½“é¨“ã™ã‚‹</p>\n        </div>\n        <div>\n          <p>7. ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚’ä½œæˆã™ã‚‹</p>\n          <p>8. ã‚‚ãã‚‚ãä¼šã‚’é–‹å‚¬ã™ã‚‹</p>\n        </div>\n    </div>\n\n    <div>\n      <div>\n        <h3>ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼</h3>\n        <div>\n          <p>ãƒ¡ãƒ³ãƒãƒ¼1: å±±ç”°å¤ªéƒ</p>\n          <p>ãƒ¡ãƒ³ãƒãƒ¼2: ä½è—¤èŠ±å­</p>\n        </div>\n        <div>\n          <p>ãƒ¡ãƒ³ãƒãƒ¼3: éˆ´æœ¨ä¸€éƒ</p>\n          <p>ãƒ¡ãƒ³ãƒãƒ¼4: ä¸­æ‘å¹¸å­</p>\n        </div>\n      </div>\n      <div>\n        <h3>ãŠå•ã„åˆã‚ã›</h3>\n        <div>\n          <p>ãƒ¡ãƒ¼ãƒ«: contact@example.com</p>\n          <p>é›»è©±: 03-1234-5678</p>\n        </div>\n      </div>\n    </div>\n\n  </body>\n\n</html>\n```\n\né–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ä»¥ä¸‹ã®äºŒç‚¹ã‚’ç¢ºèªã—ã‚ˆã†ï¼\n\n- divã‚¿ã‚°ã¯æ™®é€šç›®ã«ã¯è¦‹ãˆãªã„\n- divã‚¿ã‚°ã«ã‚ˆã£ã¦ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã•ã‚Œã¦ã„ã‚‹\n\n# è¦ç´ ã«åå‰ã‚’ã¤ã‘ã‚ˆã†ï¼\n\n---\n\n## è¦ç´ ã«åå‰ã‚’ã¤ã‘ã‚‹ã£ã¦ï¼Ÿï¼Ÿ\n\nè¦ç´ ã‚’ä¸¦ã¹ã‚‹ã¨ãã«ï¼Œ\n\n- ã€ŒåŒã˜ã‚¿ã‚°ã‚’åŒºåˆ¥ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€\n- ã€Œä»–ã¨ã¯é•ã†è¦ç´ ã ã¨ç¤ºã—ãŸã„ã€\n- ã€Œè¦ç´ ã‚’ã‚°ãƒ«ãƒ¼ãƒ—ã«åˆ†ã‘ãŸã„ã€\n- ã€Œåå‰ã‚’ã¤ã‘ã¦èª­ã¿ã‚„ã™ãã—ãŸã„ã€\n\nãªã©ã®å ´åˆã«ï¼Œåå‰ã‚’ä»˜ã‘ã¾ã™ï¼ã¤ã‘ãŸåå‰ã¯ï¼ŒCSSã‚„JavaScriptã§ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ï¼ãã®è¦ç´ ã ã‘ãŒæŒã¤ã€Œidã€ã¨æ‰€å±ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ç¤ºã™ã€Œclassã€ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼\n\n```html\n<!DOCTYPE html>\n<html>\n  <head>\n    <title>My First HTML</title>\n  </head>\n  <body>\n    <div id=\"title\">\n      {/*idã‚’æŒ‡å®š*/}\n      <h1>My First HTML</h1>\n      <p>Welcome to my first HTML page.</p>\n    </div>\n    <div id=\"foods\" class=\"menu\">\n      {/*idã¨classã‚’æŒ‡å®š*/}\n      <h2>My Favorite Foods</h2>\n      <ul>\n        <li>Pizza</li>\n        <li>Ice Cream</li>\n        <li>Chocolate</li>\n      </ul>\n    </div>\n    <div id=\"movies\" class=\"menu\">\n      {/*idã¨classã‚’æŒ‡å®š*/}\n      <h2>My Favorite Movies</h2>\n      <ol>\n        <li>Star Wars</li>\n        <li>Indiana Jones</li>\n        <li>Back to the Future</li>\n      </ol>\n    </div>\n  </body>\n</html>\n```\n\n## idã¨classã®é•ã„\n\n### class\n\n```html\n<è¦ç´ å class=â€œã‚¯ãƒ©ã‚¹åâ€>\n```\n\nã»ã‹ã®è¦ç´ ã«ã‚‚åŒã˜ã‚¯ãƒ©ã‚¹åã‚’ã¤ã‘ã¦ã‚ˆã„ï¼ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã‚’ã™ã‚‹ã®ãŒä¸»ãªç›®çš„\n\n### id\n\n```html\n<è¦ç´ å id=â€œidâ€>\n```\n\nclassã¨ã¯é•ã„ä¸€æ„ã®å€¤ã§ãªã‘ã‚Œã°ãªã‚‰ãªã„ã¨ã„ã†è¦å‰‡ãŒã‚ã‚‹\n\n## å„è¦ç´ ã«åå‰ã‚’ã¤ã‘ã‚ˆã†\n\n```html\n<!DOCTYPE html>\n<html lang=\"ja\">\n\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>â—‹â—‹ãƒ†ãƒƒã‚¯è¬›åº§</title>\n    <link rel=\"stylesheet\" href=\"stylesheet.css\">\n  </head>\n\n  <body>\n\n    <div id=\"header\">\n      <h1>â—‹â—‹ãƒ†ãƒƒã‚¯è¬›åº§</h1>\n      <p>Webã‚µã‚¤ãƒˆã‚’ã¤ãã‚ã†ï¼</p>\n    </div>\n\n    <div id=\"activities\">\n      <h2>æ´»å‹•å†…å®¹</h2>\n      <div id=\"first-semister\" class=\"activity-list\">\n        <div>\n          <p>1. HTMLã¨CSSã®åŸºæœ¬ã‚’å­¦ã¶</p>\n          <p>2. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’ä½œæˆã™ã‚‹</p>\n        </div>\n        <div>\n          <p>3. JavaScriptã‚’ä½¿ã£ãŸã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªæ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹</p>\n          <p>4. Gitã¨GitHubã®ä½¿ã„æ–¹ã‚’ç¿’å¾—ã™ã‚‹</p>\n        </div>\n      </div>\n      <div id=\"second-semister\" class=\"activity-list\">\n        <div>\n          <p>5. Rubyã‚’å­¦ã³ã€Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã™ã‚‹</p>\n          <p>6. ãƒãƒ¼ãƒ é–‹ç™ºã‚’ä½“é¨“ã™ã‚‹</p>\n        </div>\n        <div>\n          <p>7. ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚’ä½œæˆã™ã‚‹</p>\n          <p>8. ã‚‚ãã‚‚ãä¼šã‚’é–‹å‚¬ã™ã‚‹</p>\n        </div>\n    </div>\n\n    <div id=\"team-contact\">\n      <div class=\"team-section\">\n        <h3>ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼</h3>\n        <div>\n          <p>ãƒ¡ãƒ³ãƒãƒ¼1: å±±ç”°å¤ªéƒ</p>\n          <p>ãƒ¡ãƒ³ãƒãƒ¼2: ä½è—¤èŠ±å­</p>\n        </div>\n        <div>\n          <p>ãƒ¡ãƒ³ãƒãƒ¼3: éˆ´æœ¨ä¸€éƒ</p>\n          <p>ãƒ¡ãƒ³ãƒãƒ¼4: ä¸­æ‘å¹¸å­</p>\n        </div>\n      </div>\n      <div class=\"contact-section\">\n        <h3>ãŠå•ã„åˆã‚ã›</h3>\n        <div>\n          <p>ãƒ¡ãƒ¼ãƒ«: contact@example.com</p>\n          <p>é›»è©±: 03-1234-5678</p>\n        </div>\n      </div>\n    </div>\n\n  </body>\n\n</html>\n```\n\nã§ãã‚ãŒã£ãŸã‚‰Live-serverã§ã‚µã‚¤ãƒˆã‚’ç«‹ã¡ä¸Šã’ï¼Œf12ã§æ¢ç´¢ã—ã‚ˆã†ï¼\né–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ä»¥ä¸‹ã®ä¸€ç‚¹ã‚’ç¢ºèªã—ã‚ˆã†ï¼\n\n- ã€Œelementsã€ã‚¿ãƒ–ã«è¡¨ç¤ºã•ã‚Œã‚‹å„è¦ç´ ã«åå‰ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹\n\n# CSSã®æ›¸ãæ–¹\n\n---\n\n## ä¸‰ç¨®é¡ã®æ›¸ãæ–¹\n\n### ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«\n\nç‰¹å®šã®è¦ç´ ã«å¯¾ã—ã¦ç›´æ¥ã‚¹ã‚¿ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹æ‰‹æ³•\n\nç›´æ„Ÿçš„ã ãŒï¼ŒåŒã˜ã‚³ãƒ¼ãƒ‰ã‚’ä½•åº¦ã‚‚æ›¸ãå¿…è¦ãŒã‚ã‚‹å ´åˆãŒå­˜åœ¨ã™ã‚‹\n\n### å†…éƒ¨ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ\n\nHTMLãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­ã«CSSã‚’æ›¸ãæ¬„ã‚’è¨­ã‘ï¼Œã‚»ãƒ¬ã‚¯ã‚¿ã«ã‚ˆã£ã¦ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å‰²ã‚Šå½“ã¦ã‚‹æ‰‹æ³•ï¼\n\nå¤–éƒ¨ãƒ•ã‚¡ã‚¤ãƒ«ãŒã„ã‚‰ãªã„ãŒï¼Œã»ã‹ã®ãƒšãƒ¼ã‚¸ã§ã‚³ãƒ¼ãƒ‰ã®å†åˆ©ç”¨ãŒã§ããªã„\n\n### å¤–éƒ¨ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ\n\nCSSã‚’è¨˜è¿°ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”¨æ„ã—ï¼Œã‚»ãƒ¬ã‚¯ã‚¿ã«ã‚ˆã£ã¦ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å‰²ã‚Šå½“ã¦ã‚‹æ‰‹æ³•ï¼\n\nã‚¹ã‚¿ã‚¤ãƒ«ã®å…±é€šåŒ–ãŒã§ãï¼Œç®¡ç†ã‚‚ã—ã‚„ã™ã„\n\n## åŸºæœ¬æ–‡æ³•\n\n1. ã‚»ãƒ¬ã‚¯ã‚¿ã§å¯¾è±¡ã®è¦ç´ ã‚’æŒ‡å®šã™ã‚‹\n1. ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§è¨­å®šã—ãŸã„ã‚¹ã‚¿ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹\n1. ãƒãƒªãƒ¥ãƒ¼ã§ã‚¹ã‚¿ã‚¤ãƒ«ã®æ•°å€¤ã‚’é©ç”¨ã™ã‚‹\n\n## ã‚»ãƒ¬ã‚¯ã‚¿ã«ã‚ˆã‚‹è¦ç´ ã®æŒ‡å®šæ–¹æ³•ä¾‹\n\n| ã‚»ãƒ¬ã‚¯ã‚¿                      | æ§‹æ–‡ä¾‹                 | æ¦‚è¦                                   |\n| ----------------------------- | ---------------------- | -------------------------------------- |\n| è¦ç´ ã‚»ãƒ¬ã‚¯ã‚¿                  | `div`                  | æŒ‡å®šã®ã‚¿ã‚°ã‚’æŒã¤è¦ç´ ã«é©ç”¨             |\n| ã‚¯ãƒ©ã‚¹ã‚»ãƒ¬ã‚¯ã‚¿                | `.hogeHope`            | æŒ‡å®šã®ã‚¯ãƒ©ã‚¹ã‚’æŒã¤è¦ç´ ã«é©ç”¨           |\n| IDã‚»ãƒ¬ã‚¯ã‚¿                    | `#fuga_fuga`           | æŒ‡å®šã®IDã‚’æŒã¤è¦ç´ ã«é©ç”¨               |\n| IDã‚»ãƒ¬ã‚¯ã‚¿ and ã‚¯ãƒ©ã‚¹ã‚»ãƒ¬ã‚¯ã‚¿ | `#fuga_fuga .hogeHope` | è¦ªè¦ç´ ãŒæŒ‡å®šã•ã‚ŒãŸä¸­ã®æŒ‡å®šã‚¯ãƒ©ã‚¹ã«é©ç”¨ |\n| è¦ç´ ã‚»ãƒ¬ã‚¯ã‚¿ or è¦ç´ ã‚»ãƒ¬ã‚¯ã‚¿  | `div, h1`              | è¤‡æ•°ç¨®é¡ã®ã‚¿ã‚°ã«é©ç”¨                   |\n\nã»ã‹ã«ã‚‚ãŸãã•ã‚“ã®ã‚»ãƒ¬ã‚¯ãƒˆæ‰‹æ³•ãŒã‚ã‚‹ã‚ˆï¼\n\n## ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ä¾‹\n\n| ã‚°ãƒ«ãƒ¼ãƒ—     | ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£         | æ¦‚è¦                               |\n| ------------ | ------------------ | ---------------------------------- |\n| ãƒ†ã‚­ã‚¹ãƒˆé–¢é€£ | `color`            | ãƒ†ã‚­ã‚¹ãƒˆã®è‰²ã‚’å¤‰æ›´ã™ã‚‹             |\n|              | `font-size`        | ãƒ†ã‚­ã‚¹ãƒˆã®ã‚µã‚¤ã‚ºã‚’å¤‰æ›´ã™ã‚‹         |\n|              | `text-align`       | å·¦æƒãˆã€ä¸­å¤®æƒãˆã€å³æƒãˆã‚’æŒ‡å®šã™ã‚‹ |\n| ãƒœãƒƒã‚¯ã‚¹é–¢é€£ | `padding`          | ãƒœãƒƒã‚¯ã‚¹å†…å´ã®ä½™ç™½ã®å¹…ã‚’æŒ‡å®šã™ã‚‹   |\n|              | `margin`           | ãƒœãƒƒã‚¯ã‚¹å¤–å´ã®ä½™ç™½ã®å¹…ã‚’æŒ‡å®šã™ã‚‹   |\n|              | `border`           | ãƒœãƒƒã‚¯ã‚¹ã®æ ç·šã‚’è¨­å®šã™ã‚‹           |\n| èƒŒæ™¯é–¢é€£     | `background-color` | èƒŒæ™¯è‰²ã‚’å¤‰æ›´ã™ã‚‹                   |\n| é…ç½®é–¢é€£     | `display`          | æ¨ªä¸¦ã³ã«ã—ãŸã‚Šç¸¦ä¸¦ã³ã«ã—ãŸã‚Šã™ã‚‹   |\n\nã»ã‹ã«ã‚‚ãŸãã•ã‚“ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒã‚ã‚‹ã‚ˆï¼\n\n## ãƒãƒªãƒ¥ãƒ¼ã®ä¾‹\n\n| ã‚°ãƒ«ãƒ¼ãƒ— | ãƒãƒªãƒ¥ãƒ¼ä¾‹       | æ¦‚è¦                                                   |\n| -------- | ---------------- | ------------------------------------------------------ |\n| ã‚µã‚¤ã‚º   | `1024px`         | 1ãƒ”ã‚¯ã‚»ãƒ«=0.26mm                                       |\n|          | `16rem`          | 1rem=ãƒ«ãƒ¼ãƒˆã®è¦ç´ ã®ãƒ†ã‚­ã‚¹ãƒˆã‚µã‚¤ã‚ºï¼ˆæ¨å¥¨ï¼‰              |\n|          | `100vw, 100vh`   | 100vw=æ¨ªå¹…ã®ã‚µã‚¤ã‚ºã€100vh=ç¸¦å¹…ã®ã‚µã‚¤ã‚º                 |\n| è‰²       | `red`            | åå‰                                                   |\n|          | `#ff0000`        | 16é€²æ•°                                                 |\n|          | `rgb(255, 0, 0)` | rgbè¡¨ç¾                                                |\n| ãã®ä»–   | `flex`           | `display: flex`ã®ã‚ˆã†ã«ä½¿ã†ã€‚å­è¦ç´ ã‚’æ¨ªä¸¦ã³ã«ã§ãã‚‹    |\n| é…ç½®é–¢é€£ | `none`           | `border: none`ã®ã‚ˆã†ã«ä½¿ã†ã€‚æ ç·šã‚’å–ã‚Šæ¶ˆã™ã“ã¨ãŒã§ãã‚‹ |\n\nã»ã‹ã«ã‚‚ãŸãã•ã‚“ã®ãƒãƒªãƒ¥ãƒ¼ãŒã‚ã‚‹ã‚ˆï¼\n\n# CSSã‚’é©ç”¨ã™ã‚‹ä¸€é€£ã®æµã‚Œ\n\nä¸€æ—¦æ•´ç†ã—ã‚ˆã†\n\n---\n\n## 1. index.htmlã‚’æ›¸ã\n\n1. headéƒ¨åˆ†ãªã©åŸºç›¤ã‚’ä½œã‚‹\n1. bodyå†…ã«è¡¨ç¤ºã™ã‚‹å†…å®¹ã‚’æ›¸ã\n1. é©å®œclassã‚„idã‚’è¦ç´ ã«ä¸ãˆã‚‹\n1. ä»Šå›ã¯ã•ã£ãä½œã£ãŸhtmlãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ã£ã¡ã‚ƒãŠã†ï¼\n\n## 2. cssãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ãï¼Œindex.htmlã§cssãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹\n\n1. index.htmlã¨åŒã˜å ´æ‰€ã«ã€Œstylesheet.cssã€ã‚’é…ç½®ï¼\n1. æ¬¡ã«ï¼Œindex.htmlãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã\n1. `<head>`å†…ã«`<link rel=â€œstylesheetâ€ href=â€œstylesheet.cssâ€>`ã‚’è¿½åŠ ï¼\n\n```html\n<head>\n  <meta charset=\"UTF-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n  <title>â—‹â—‹ãƒ†ãƒƒã‚¯è¬›åº§</title>\n  <link rel=\"stylesheet\" href=\"stylesheet.css\" />\n</head>\n```\n\nã“ã‚Œã§htmlãƒ•ã‚¡ã‚¤ãƒ«ã¨cssã‚’ã¤ãªã’ã‚‹ã“ã¨ãŒã§ããŸï¼\n\n## 3. cssã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã\n\n1.  ã‚»ãƒ¬ã‚¯ã‚¿ã‚’ä½¿ã£ã¦é©ç”¨ã™ã‚‹è¦ç´ ã‚’æŒ‡å®šã™ã‚‹\n1.  ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æ›¸ãï¼Œãƒ‡ã‚¶ã‚¤ãƒ³ã™ã‚‹\n1.  ã‚»ãƒ¬ã‚¯ã‚¿Ã—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®çµ„ã‚’ä¸¦ã¹ã¦ã„ã\n\nã²ã¨ã¾ãšbodyè¦ç´ ã«cssã‚’é©ç”¨ã—ã¦ï¼Œã©ã®ã‚ˆã†ã«ãƒ‡ã‚¶ã‚¤ãƒ³ãŒå¤‰ã‚ã‚‹ã‹ç¢ºèªã—ã¦ã¿ã‚ˆã†ï¼\n\n```css\nbody {\n  font-family: Arial, sans-serif; /*ãƒ•ã‚©ãƒ³ãƒˆã‚’æŒ‡å®š*/\n  line-height: 1.6; /*è¡Œé–“ã‚’1.6å€ã«*/\n  margin: 0; /*ãƒšãƒ¼ã‚¸ã®å¤–å´ã®ä½™ç™½ã‚’0ã«*/\n  padding: 0; /*ãƒšãƒ¼ã‚¸ã®å†…å´ã®ä½™ç™½ã‚’0ã«*/\n  background-color: #f9f9f9; /*èƒŒæ™¯è‰²ã‚’æŒ‡å®š*/\n  color: #333; /*æ–‡å­—è‰²ã‚’æŒ‡å®š*/\n}\n```\n\n> CSSã¯è¦šãˆã‚ˆã†ã¨ã™ã‚‹ã¨é ­çˆ†ç™ºã—ã¾ã™ï¼å®Ÿè·µã‚ã‚‹ã®ã¿ï¼\n\n# 4. æ¼”ç¿’\n\nèª¬æ˜ã—ã¦ã„ãªã„ã‚»ãƒ¬ã‚¯ã‚¿ã‚„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãªã©ãŒãŸãã•ã‚“å‡ºã¦ãã‚‹ã®ã§ãœã²èª¿ã¹ãªãŒã‚‰æ›¸ã„ã¦ãã ã•ã„ï¼\n\n---\n\n## ç¾æ™‚ç‚¹ã®htmlã‚³ãƒ¼ãƒ‰\n\n```html\n<!DOCTYPE html>\n<html lang=\"ja\">\n\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>â—‹â—‹ãƒ†ãƒƒã‚¯è¬›åº§</title>\n    <link rel=\"stylesheet\" href=\"stylesheet.css\">\n  </head>\n\n  <body>\n\n    <div id=\"header\">\n      <h1>â—‹â—‹ãƒ†ãƒƒã‚¯è¬›åº§</h1>\n      <p>Webã‚µã‚¤ãƒˆã‚’ã¤ãã‚ã†ï¼</p>\n    </div>\n\n    <div id=\"activities\">\n      <h2>æ´»å‹•å†…å®¹</h2>\n      <div id=\"first-semister\" class=\"activity-list\">\n        <div>\n          <p>1. HTMLã¨CSSã®åŸºæœ¬ã‚’å­¦ã¶</p>\n          <p>2. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’ä½œæˆã™ã‚‹</p>\n        </div>\n        <div>\n          <p>3. JavaScriptã‚’ä½¿ã£ãŸã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªæ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹</p>\n          <p>4. Gitã¨GitHubã®ä½¿ã„æ–¹ã‚’ç¿’å¾—ã™ã‚‹</p>\n        </div>\n      </div>\n      <div id=\"second-semister\" class=\"activity-list\">\n        <div>\n          <p>5. Rubyã‚’å­¦ã³ã€Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã™ã‚‹</p>\n          <p>6. ãƒãƒ¼ãƒ é–‹ç™ºã‚’ä½“é¨“ã™ã‚‹</p>\n        </div>\n        <div>\n          <p>7. ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚’ä½œæˆã™ã‚‹</p>\n          <p>8. ã‚‚ãã‚‚ãä¼šã‚’é–‹å‚¬ã™ã‚‹</p>\n        </div>\n    </div>\n\n    <div id=\"team-contact\">\n      <div class=\"team-section\">\n        <h3>ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼</h3>\n        <div>\n          <p>ãƒ¡ãƒ³ãƒãƒ¼1: å±±ç”°å¤ªéƒ</p>\n          <p>ãƒ¡ãƒ³ãƒãƒ¼2: ä½è—¤èŠ±å­</p>\n        </div>\n        <div>\n          <p>ãƒ¡ãƒ³ãƒãƒ¼3: éˆ´æœ¨ä¸€éƒ</p>\n          <p>ãƒ¡ãƒ³ãƒãƒ¼4: ä¸­æ‘å¹¸å­</p>\n        </div>\n      </div>\n      <div class=\"contact-section\">\n        <h3>ãŠå•ã„åˆã‚ã›</h3>\n        <div>\n          <p>ãƒ¡ãƒ¼ãƒ«: contact@example.com</p>\n          <p>é›»è©±: 03-1234-5678</p>\n        </div>\n      </div>\n    </div>\n\n  </body>\n\n</html>\n```\n\n## ã‚¿ã‚°ã«å¯¾ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°\n\nå„ã‚¿ã‚°ã«å¯¾ã—é©ç”¨\n\n```CSS\nbody {\n  font-family: Arial, sans-serif; /*ãƒ•ã‚©ãƒ³ãƒˆã‚’æŒ‡å®š*/\n  line-height: 1.6; /*è¡Œé–“ã‚’1.6å€ã«*/\n  margin: 0; /*ãƒšãƒ¼ã‚¸ã®å¤–å´ã®ä½™ç™½ã‚’0ã«*/\n  padding: 0; /*ãƒšãƒ¼ã‚¸ã®å†…å´ã®ä½™ç™½ã‚’0ã«*/\n  background-color: #f9f9f9; /*èƒŒæ™¯è‰²ã‚’æŒ‡å®š*/\n  color: #333; /*æ–‡å­—è‰²ã‚’æŒ‡å®š*/\n}\n\ndiv {\n  padding: 20px; /*è¦ç´ ã®å†…å´ã®ä½™ç™½ã‚’20pxã«*/\n  max-width: 800px; /*è¦ç´ ã®æœ€å¤§å¹…ã‚’800pxã«*/\n  margin: 20px auto; /*è¦ç´ ã‚’ä¸­å¤®å¯„ã›ã«*/\n  background-color: #fff; /*èƒŒæ™¯è‰²ã‚’æŒ‡å®š*/\n  border-radius: 8px; /*è§’ä¸¸ã‚’8pxã«*/\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) /*å½±ã‚’æŒ‡å®š*/;\n}\n\nh1, h2, h3 { /*h1, h2, h3ã‚¿ã‚°ã‚’æŒ‡å®š*/\n  color: #444; /*è¦‹å‡ºã—ã®æ–‡å­—è‰²ã‚’æŒ‡å®š*/\n}\n\nh1 {\n  font-size: 2.5em; /*è¦‹å‡ºã—ã®æ–‡å­—ã‚µã‚¤ã‚ºã‚’2.5emã«*/\n  margin-bottom: 10px; /*è¦‹å‡ºã—ã®ä¸‹ã®ä½™ç™½ã‚’10pxã«*/\n}\n\nh2 {\n  font-size: 1.8em; /*è¦‹å‡ºã—ã®æ–‡å­—ã‚µã‚¤ã‚ºã‚’1.8emã«*/\n  margin-top: 20px; /*è¦‹å‡ºã—ã®ä¸Šã®ä½™ç™½ã‚’20pxã«*/\n  border-bottom: 2px solid #e1e1e1; /*è¦‹å‡ºã—ã®ä¸‹ã«2pxã®ç·šã‚’å¼•ã*/\n  padding-bottom: 5px; /*è¦‹å‡ºã—ã®ä¸‹ã®ä½™ç™½ã‚’5pxã«*/\n}\n\nh3 {\n  font-size: 1.5em; /*è¦‹å‡ºã—ã®æ–‡å­—ã‚µã‚¤ã‚ºã‚’1.5emã«*/\n  margin-top: 15px; /*è¦‹å‡ºã—ã®ä¸Šã®ä½™ç™½ã‚’15pxã«*/\n}\n```\n\n## idã«å¯¾ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°\n\nå„idã‚„ãã‚Œã«ä»˜éšã™ã‚‹ã‚¯ãƒ©ã‚¹ï¼Œã‚¿ã‚°ã«å¯¾ã—é©ç”¨\n\n```css\n#header {\n  text-align: center; /*ãƒ†ã‚­ã‚¹ãƒˆã‚’ä¸­å¤®å¯„ã›ã«*/\n}\n\n#header p {\n  /*è¦ªè¦ç´ ã®idãŒheaderã§ã‚ã‚‹pã‚¿ã‚°ã‚’æŒ‡å®š*/\n  font-size: 1.2em; /*æ–‡å­—ã‚µã‚¤ã‚ºã‚’1.2emã«*/\n  color: #555; /*æ–‡å­—è‰²ã‚’æŒ‡å®š*/\n  margin-top: 5px; /*ä¸Šã®ä½™ç™½ã‚’5pxã«*/\n}\n\n#activities {\n  margin-top: 30px; /*ä¸Šã®ä½™ç™½ã‚’30pxã«*/\n}\n\n#activities .activity-list div {\n  /* è¦ªè¦ç´ ã®idãŒactivitiesã§ã€ã‚¯ãƒ©ã‚¹ãŒactivity-listã®divã‚¿ã‚°ã‚’æŒ‡å®š */\n  margin-bottom: 15px; /*ä¸‹ã®ä½™ç™½ã‚’15pxã«*/\n}\n\n#activities .activity-list p {\n  /* è¦ªè¦ç´ ã®idãŒactivitiesã§ã€ã‚¯ãƒ©ã‚¹ãŒactivity-listã®pã‚¿ã‚°ã‚’æŒ‡å®š */\n  padding-left: 15px; /*å·¦ã®ä½™ç™½ã‚’15pxã«*/\n  text-indent: -15px; /*ãƒ†ã‚­ã‚¹ãƒˆã‚’å·¦ã«15pxãšã‚‰ã™*/\n  list-style: inside disc; /*ãƒªã‚¹ãƒˆã®ãƒãƒ¼ã‚«ãƒ¼ã‚’æŒ‡å®š*/\n}\n\n#team-contact {\n  /*idãŒteam-contactã®è¦ç´ ã‚’æŒ‡å®š*/\n  display: flex; /*è¦ç´ ã‚’æ¨ªä¸¦ã³ã«*/\n  flex-wrap: wrap; /*è¦ç´ ã‚’æŠ˜ã‚Šè¿”ã—è¡¨ç¤º*/\n  gap: 20px; /*è¦ç´ é–“ã®é–“éš”ã‚’20pxã«*/\n}\n```\n\n## ã‚¯ãƒ©ã‚¹ã«å¯¾ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°\n\nå„ã‚¯ãƒ©ã‚¹ã‚„ãã‚Œã«ä»˜éšã™ã‚‹ã‚¿ã‚°ã«å¯¾ã—é©ç”¨\n\n```css\n.team-section,\n.contact-section {\n  /*ã‚¯ãƒ©ã‚¹ãŒteam-sectionã€contact-sectionã®è¦ç´ ã‚’æŒ‡å®š*/\n  flex: 1; /*è¦ç´ ã‚’å‡ç­‰ã«åºƒã’ã‚‹*/\n  min-width: 200px; /*è¦ç´ ã®æœ€å°å¹…ã‚’200pxã«*/\n}\n\n.team-section div,\n.contact-section div {\n  /*ã‚¯ãƒ©ã‚¹ãŒteam-sectionã€contact-sectionã®divã‚¿ã‚°ã‚’æŒ‡å®š*/\n  margin-bottom: 10px; /*ä¸‹ã®ä½™ç™½ã‚’10pxã«*/\n}\n\n.team-section p,\n.contact-section p {\n  /*ã‚¯ãƒ©ã‚¹ãŒteam-sectionã€contact-sectionã®pã‚¿ã‚°ã‚’æŒ‡å®š*/\n  margin: 8px 0; /*ä¸Šä¸‹ã®ä½™ç™½ã‚’8pxã«*/\n}\n\n.contact-section {\n  background-color: #eef6f9; /*èƒŒæ™¯è‰²ã‚’æŒ‡å®š*/\n  border-left: 4px solid #0aa; /*å·¦å´ã«4pxã®ç·šã‚’å¼•ã*/\n}\n```\n\n> ã²ã¨ã¤ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’è¨­å®šã™ã‚‹ã”ã¨ã«ï¼Œã©ã®ã‚ˆã†ã«ãƒ‡ã‚¶ã‚¤ãƒ³ãŒå¤‰ã‚ã£ãŸã‹ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†\n>\n> \\\n> ã‚³ãƒ¡ãƒ³ãƒˆã¯æ›¸ã„ã¦ã‚‚æ›¸ã‹ãªãã¦ã‚‚ã‚ˆã„ã§ã™\n\nå®Œæˆã—ãŸã‚‰ç¢ºèªã—ã¾ã—ã‚‡ã†ï¼\n\n# ã¾ã¨ã‚\n\nã¨ã‚Šã‚ãˆãš\n\n1. `index.html`ã‚’ä½œã‚Šã‚¿ã‚°ã‚’é§†ä½¿ã—ã¦æ–‡ç« ã‚’æ›¸ã\n1. `head`å†…ã«`<link rel=\"stylesheet\" href=\"stylesheet.css\">`ã‚’è¿½åŠ ã™ã‚‹\n1. åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«`stylesheet.css`ã‚’ä½œã‚‹\n1. `stylesheet.css`ã§ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’æŒ‡å®šã™ã‚‹\n\nã“ã®ãƒ—ãƒ­ã‚»ã‚¹ã•ãˆã‚ã‹ã‚Œã°ååˆ†ã§ã™ï¼ãŠç–²ã‚Œã•ã¾ã§ã—ãŸï¼\n",
    "createdAt": "2025-07-21T07:23:48.458Z",
    "updatedAt": "2025-07-21T07:23:48.459Z"
  },
  {
    "title": "GitHubãƒ»Next.jsãƒ»Vercelãƒ»Markdownã§ä½œã‚‹æŠ€è¡“ãƒ–ãƒ­ã‚°",
    "summary": "GitHubé€£æºã¨Markdownç®¡ç†ã§ã€è‡ªåˆ†å°‚ç”¨ã®æŠ€è¡“ãƒ–ãƒ­ã‚°ã‚’æ§‹ç¯‰ã™ã‚‹æ‰‹é †ã‚’è§£èª¬ã€‚Next.jsãƒ»Tailwindãƒ»Vercelã‚’ä½¿ã£ã¦ã€ã‚³ãƒ¼ãƒ‰ã¨è¨˜äº‹ã‚’çµ±åˆç®¡ç†ã§ãã‚‹é–‹ç™ºè€…å‘ã‘ãƒ–ãƒ­ã‚°ã‚’ä½œã‚Šã¾ã™ã€‚",
    "tags": [
      "Next.js",
      "Markdown",
      "Vercel",
      "GitHub",
      "æŠ€è¡“ãƒ–ãƒ­ã‚°"
    ],
    "slug": "Next.js/techblog-making",
    "folder": "Next.js",
    "content": "\n## ğŸ§­ 1. ã¯ã˜ã‚ã«\n\nå€‹äººã®å­¦ç¿’è¨˜éŒ²ã‚„æŠ€è¡“ãƒ¡ãƒ¢ã‚’ã¾ã¨ã‚ã‚‹ã¨ãã€\nã€Œ**Qiitaã‚„Zennã«æŠ•ç¨¿ã™ã‚‹ã»ã©ã˜ã‚ƒãªã„ã‘ã©ã€ãã¡ã‚“ã¨å½¢ã«æ®‹ã—ãŸã„**ã€\nãã‚“ãªå ´é¢ã¯å¤šã„ã¨æ€ã„ã¾ã™ã€‚\n\nã“ã®è¨˜äº‹ã§ã¯ã€**GitHubãƒ»Next.jsãƒ»Vercelãƒ»Markdown** ã®4ã¤ã‚’çµ„ã¿åˆã‚ã›ã¦ã€\n**è‡ªåˆ†å°‚ç”¨ã®æŠ€è¡“ãƒ–ãƒ­ã‚°ã‚µã‚¤ãƒˆ**ã‚’ã‚¼ãƒ­ã‹ã‚‰æ§‹ç¯‰ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚\n\n---\n\n### ğŸ”§ æœ¬è¨˜äº‹ã®ã‚´ãƒ¼ãƒ«\n\nå®Œæˆå½¢ã¯ã€ã“ã‚“ãªç‰¹å¾´ã‚’æŒã¤ã‚·ãƒ³ãƒ—ãƒ«ãªæŠ€è¡“ãƒ–ãƒ­ã‚°ã§ã™ï¼š\n\n- è¨˜äº‹ã¯ã™ã¹ã¦ **Markdownãƒ•ã‚¡ã‚¤ãƒ«** (`content/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…)\n- è‡ªå‹•ã§ **è¨˜äº‹ä¸€è¦§ãƒ»æ¤œç´¢ãƒ»ã‚¿ã‚°æ©Ÿèƒ½** ãŒç”Ÿæˆã•ã‚Œã‚‹\n- ãƒ‡ãƒ—ãƒ­ã‚¤ã¯ **Vercelé€£æºã ã‘ã§è‡ªå‹•åæ˜ **\n- ãƒ‡ã‚¶ã‚¤ãƒ³ã¯ **Tailwind CSS** + **ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ**\n- ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã™ã¹ã¦ **GitHubã§ç®¡ç†**\n\nå®Ÿéš›ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦ã¯ã€Zennã‚„TechBlogã®ã‚ˆã†ãª\nã€Œ**è‡ªåˆ†ã®çŸ¥è­˜ã‚’ç©ã¿é‡ã­ã¦ã„ãã‚¹ãƒˆãƒƒã‚¯å‹ãƒ–ãƒ­ã‚°**ã€ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚\n\n---\n\n### ğŸ§° ä½¿ç”¨æŠ€è¡“ã¨æ§‹æˆ\n\n| æŠ€è¡“                         | ç”¨é€”                   | è£œè¶³                                 |\n| ---------------------------- | ---------------------- | ------------------------------------ |\n| **Next.js 14 (App Router)**  | ã‚µã‚¤ãƒˆæœ¬ä½“ã®å®Ÿè£…       | ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ»ãƒ“ãƒ«ãƒ‰ãƒ»SEOå¯¾å¿œ        |\n| **Markdown + gray-matter**   | è¨˜äº‹ãƒ‡ãƒ¼ã‚¿ã®ç®¡ç†       | ã‚¿ã‚¤ãƒˆãƒ«ã‚„ã‚¿ã‚°ã‚’Frontmatterã§å®šç¾©    |\n| **Tailwind CSS + shadcn/ui** | UIãƒ‡ã‚¶ã‚¤ãƒ³             | ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ     |\n| **Fuse.js**                  | è¨˜äº‹æ¤œç´¢               | `search-index.json` ã«åŸºã¥ãå…¨æ–‡æ¤œç´¢ |\n| **Vercel**                   | ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° | GitHubé€£æºã§è‡ªå‹•æ›´æ–°                 |\n| **GitHub**                   | ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ç®¡ç†       | mainãƒ–ãƒ©ãƒ³ãƒã«pushã§å³åæ˜            |\n\n---\n\n### ğŸ’¡ ãªãœMarkdownã§æ›¸ãã®ã‹ï¼Ÿ\n\nMarkdownã‚’ä½¿ã†æœ€å¤§ã®ãƒ¡ãƒªãƒƒãƒˆã¯ã€**ã€Œé–‹ç™ºç’°å¢ƒã¨åŒã˜ãƒªã‚ºãƒ ã§æ›¸ã‘ã‚‹ã€** ã“ã¨ã§ã™ã€‚\nVSCodeã‚„Neovimãªã©è‡ªåˆ†ã®ã‚¨ãƒ‡ã‚£ã‚¿ã§è¨˜äº‹ã‚’æ›¸ãã€Git commitã§å±¥æ­´ã‚’æ®‹ã—ã€\npushã™ã‚‹ã ã‘ã§è‡ªå‹•çš„ã«ã‚µã‚¤ãƒˆãŒæ›´æ–°ã•ã‚Œã¾ã™ã€‚\n\nCMSã‚„ç®¡ç†ç”»é¢ã‚’ç”¨æ„ã™ã‚‹å¿…è¦ã‚‚ãªãã€\nã€Œ**ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒè‡ªåˆ†ã®æ€è€ƒã‚’ã‚³ãƒ¼ãƒ‰ã¨åŒã˜ã‚ˆã†ã«ç®¡ç†ã§ãã‚‹**ã€ã®ãŒé­…åŠ›ã§ã™ã€‚\n\n---\n\n### ğŸš€ å¯¾è±¡èª­è€…\n\n- è‡ªåˆ†ã®æŠ€è¡“ãƒ–ãƒ­ã‚°ã‚’ **ç„¡æ–™ã§ãƒ»ç°¡å˜ã«ãƒ»é•·ãé‹ç”¨ã—ãŸã„äºº**\n- Next.js / React / Tailwind ã®åŸºæœ¬ãŒã‚ã‹ã‚‹äºº\n- CMSã‚’ä½¿ã‚ãšã€**Markdownä¸­å¿ƒã®é™çš„ãƒ–ãƒ­ã‚°**ã‚’ä½œã‚ŠãŸã„äºº\n\n---\n\n### ğŸ“¦ å®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸\n\næ§‹ç¯‰å¾Œã¯ä»¥ä¸‹ã®ã‚ˆã†ãªæµã‚Œã§æ›´æ–°ã§ãã¾ã™ï¼š\n\n```bash\n# 1. æ–°ã—ã„è¨˜äº‹ã‚’ä½œæˆ\n$ touch content/articles/nextjs-intro.md\n\n# 2. Markdownã§è¨˜äº‹ã‚’æ›¸ã\n# ---\n# title: \"Next.jsã®åŸºæœ¬\"\n# tags: [\"Next.js\", \"React\"]\n# summary: \"Next.jsã®åŸºç¤ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚\"\n# ---\n\n# 3. commit & push\n$ git add .\n$ git commit -m \"Add new article\"\n$ git push origin main\n```\n\nã™ã‚‹ã¨ã€VercelãŒè‡ªå‹•ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦\nã‚ãªãŸã®ãƒ–ãƒ­ã‚°ã«æ–°ã—ã„è¨˜äº‹ãŒã™ãåæ˜ ã•ã‚Œã¾ã™ã€‚\n\n---\n\n## ğŸ—ï¸ 2. å…¨ä½“æ§‹æˆã®æ¦‚è¦\n\nã“ã®ç« ã§ã¯ã€**ãƒ–ãƒ­ã‚°å…¨ä½“ã®æ§‹æˆ**ã¨**ãƒ‡ãƒ¼ã‚¿ã®æµã‚Œ**ã‚’æ•´ç†ã—ã¾ã™ã€‚\næœ¬ã‚µã‚¤ãƒˆã€Œ**techblog**ã€ã¯ã€ä»¥ä¸‹ã®4ã¤ã®æŠ€è¡“ã§ã‚·ãƒ³ãƒ—ãƒ«ã«æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ï¼š\n\n- **GitHub**ï¼šã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¨è¨˜äº‹ã‚’ä¸€å…ƒç®¡ç†\n- **Next.js**ï¼šé™çš„ãƒ–ãƒ­ã‚°ã‚’ç”Ÿæˆãƒ»è¡¨ç¤ºã™ã‚‹Webã‚¢ãƒ—ãƒª\n- **Markdown**ï¼šè¨˜äº‹ãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ã†è»½é‡ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—è¨€èª\n- **Vercel**ï¼šãƒ‡ãƒ—ãƒ­ã‚¤ã¨ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ï¼ˆCI/CDä¸€ä½“å‹ï¼‰\n\n---\n\n### ğŸ”„ å…¨ä½“ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n\n```mermaid\ngraph LR\n    A[ğŸ“„ Markdownãƒ•ã‚¡ã‚¤ãƒ«<br/>ï¼ˆcontent/ï¼‰] -->|gray-matterã§è§£æ| B[ğŸ§© Next.js ãƒ“ãƒ«ãƒ‰å‡¦ç†]\n    B -->|è¨˜äº‹ãƒ‡ãƒ¼ã‚¿ã‚’JSONåŒ–| C[ğŸ—‚ï¸ search-index.json]\n    C -->|Fuse.jsã§å…¨æ–‡æ¤œç´¢| D[ğŸ” æ¤œç´¢UIï¼ˆNext.jsï¼‰]\n    B -->|é™çš„HTMLç”Ÿæˆ| E[ğŸŒ Vercel]\n    F[ğŸ’» GitHubãƒªãƒã‚¸ãƒˆãƒª] -->|pushæ™‚ã«è‡ªå‹•ãƒ“ãƒ«ãƒ‰| E\n    E -->|å…¬é–‹URLã«åæ˜ | G[ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé–²è¦§]\n    A -->|å¤‰æ›´æ¤œçŸ¥| H[ğŸ§  watch-search-index.ts]\n    H -->|å†ç”Ÿæˆ| C\n```\n\n> `watch-search-index.ts` ãŒãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºä¸­ã®**ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰**ã‚’å®Ÿç¾ã€‚\n> Markdownãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°ã™ã‚‹ã¨ã€å³åº§ã« `search-index.json` ãŒå†ç”Ÿæˆã•ã‚Œã€\n> Next.js ã®HMRï¼ˆHot Module Replacementï¼‰ã«ã‚ˆã£ã¦ãƒ–ãƒ©ã‚¦ã‚¶ãŒè‡ªå‹•æ›´æ–°ã•ã‚Œã¾ã™ã€‚\n\n---\n\n### ğŸ§± ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆã®å…¨ä½“åƒ\n\nNext.jsã‚’ä¸­å¿ƒã«ã€ã€Œ**é™çš„ã‚µã‚¤ãƒˆç”Ÿæˆï¼ˆSSGï¼‰ï¼‹ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ¤œç´¢ï¼‹ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰**ã€ã§æ§‹ç¯‰ã—ã¦ã„ã¾ã™ã€‚\nã“ã®è¨­è¨ˆã«ã‚ˆã‚Šã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’æŒãŸãšã«**è»½é‡ã§å³æ™‚åæ˜ ã•ã‚Œã‚‹ãƒ–ãƒ­ã‚°ç’°å¢ƒ**ã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚\n\n| å±¤                              | å½¹å‰²                                     | ä¸»ãªãƒ•ã‚©ãƒ«ãƒ€ / ãƒ•ã‚¡ã‚¤ãƒ«                                   |\n| ------------------------------- | ---------------------------------------- | --------------------------------------------------------- |\n| **Presentation (UIå±¤)**         | ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ã®UIï¼ˆTailwind / shadcn/uiï¼‰ | `/app`, `/components`, `/features`                        |\n| **Content (ãƒ‡ãƒ¼ã‚¿å±¤)**          | Markdownè¨˜äº‹ã¨ãƒ¡ã‚¿æƒ…å ±ã‚’æ‰±ã†             | `/content`, `/scripts/generate-search-index.ts`           |\n| **Watcher (é–‹ç™ºè£œåŠ©å±¤)**        | Markdownå¤‰æ›´ã‚’æ¤œçŸ¥ã—ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’å†ç”Ÿæˆ | `/scripts/watch-search-index.ts`, `/lib/force-refresh.ts` |\n| **Infrastructure (ãƒ‡ãƒ—ãƒ­ã‚¤å±¤)** | GitHub & Vercel ã«ã‚ˆã‚‹CI/CD              | GitHubãƒªãƒã‚¸ãƒˆãƒª, Vercelé€£æºè¨­å®š                          |\n| **Utilityå±¤**                   | å…±é€šé–¢æ•°ã‚„å‹å®šç¾©ã€æ¤œç´¢æ©Ÿèƒ½               | `/lib`, `/features/searchResults`                         |\n\n---\n\n### ğŸ’¡ è¨­è¨ˆæ–¹é‡ã®ãƒã‚¤ãƒ³ãƒˆ\n\n1. **ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã¯ãƒ•ã‚¡ã‚¤ãƒ«å˜ä½ï¼ˆGitã§å®Œçµï¼‰**\n   è¨˜äº‹ã¯ `content/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã®Markdownã¨ã—ã¦ç®¡ç†ã€‚\n   ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚„ãƒ¬ãƒ“ãƒ¥ãƒ¼å±¥æ­´ãŒGitä¸Šã§è¿½è·¡ã§ãã€å±¥æ­´ãŒãã®ã¾ã¾è³‡ç”£ã«ãªã‚‹ã€‚\n\n2. **Next.jsã®SSGã§SEOã¨è¡¨ç¤ºé€Ÿåº¦ã‚’ä¸¡ç«‹**\n   ãƒ“ãƒ«ãƒ‰æ™‚ã«é™çš„HTMLã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã€è¡¨ç¤ºãŒé€Ÿãã€æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã«ã‚‚å¼·ã„ã€‚\n\n3. **Fuse.jsã«ã‚ˆã‚‹ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰æ¤œç´¢**\n   è¨˜äº‹ãƒ¡ã‚¿æƒ…å ±ã‚’ `search-index.json` ã«ã¾ã¨ã‚ã€ãƒ–ãƒ©ã‚¦ã‚¶å†…ã§å…¨æ–‡æ¤œç´¢ã‚’å®Ÿç¾ã€‚\n   å¤–éƒ¨APIã‚„DBã‚’ä½¿ã‚ãšã€è»½é‡ã‹ã¤ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ãŒé«˜ã„ã€‚\n\n4. **ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰å¯¾å¿œã§å³æ™‚åæ˜ **\n   `watch-search-index.ts` ãŒMarkdownã®å¤‰æ›´ã‚’ç›£è¦–ã—ã€\n   è‡ªå‹•ã§ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’å†ç”Ÿæˆãƒ»å†ãƒ“ãƒ«ãƒ‰ã€‚\n   è¨˜äº‹ã‚’ä¿å­˜ã—ãŸç¬é–“ã«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¸åæ˜ ã•ã‚Œã‚‹ã€‚\n\n5. **Vercelã«ã‚ˆã‚‹è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤**\n   GitHubã«pushã™ã‚‹ã ã‘ã§ã€VercelãŒãƒ“ãƒ«ãƒ‰ã‹ã‚‰å…¬é–‹ã¾ã§è‡ªå‹•åŒ–ã€‚\n   ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã¨æœ¬ç•ªç’°å¢ƒã®å·®ç•°ãŒç”Ÿã¾ã‚Œã«ãã„æ§‹æˆã€‚\n\n---\n\n### ğŸ“Š å®Ÿéš›ã®å‡¦ç†ãƒ•ãƒ­ãƒ¼\n\n```mermaid\nflowchart TD\n    subgraph Local[\"ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ\"]\n        M[âœï¸ Markdownè¨˜äº‹ä½œæˆ<br/>content/*.md]\n        W[ğŸ‘€ watch-search-index.tsã§å¤‰æ›´ç›£è¦–]\n        S[ğŸ§  generate-search-index.ts<br/>â†’ search-index.jsonå†ç”Ÿæˆ]\n        R[âš¡ force-refresh.tsæ›´æ–°ã§Next.js HMRç™ºç«]\n        N[âš›ï¸ ãƒ–ãƒ©ã‚¦ã‚¶ã§è‡ªå‹•ãƒªãƒ­ãƒ¼ãƒ‰]\n    end\n\n    subgraph Remote[\"æœ¬ç•ªç’°å¢ƒï¼ˆVercelï¼‰\"]\n        G[ğŸ“¦ GitHub push]\n        B[âš™ï¸ Vercelãƒ“ãƒ«ãƒ‰<br/>Next.js SSGç”Ÿæˆ]\n        H[ğŸŒ å…¬é–‹ã‚µã‚¤ãƒˆï¼ˆé™çš„HTMLï¼‰]\n    end\n\n    M --> W --> S --> R --> N\n    N --> G --> B --> H\n```\n\n---\n\n### ğŸ§© ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆï¼ˆæŠœç²‹ï¼‰\n\n```bash\ntechblog/\nâ”œâ”€â”€ app/                      # Next.js App Routeræ§‹æˆ\nâ”‚   â”œâ”€â”€ page.tsx              # ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸\nâ”‚   â””â”€â”€ articles/[slug]/      # è¨˜äº‹ãƒšãƒ¼ã‚¸\nâ”œâ”€â”€ content/                  # Markdownè¨˜äº‹ã‚’é…ç½®\nâ”‚   â””â”€â”€ sample.md\nâ”œâ”€â”€ features/searchResults/   # æ¤œç´¢æ©Ÿèƒ½ï¼ˆFuse.jsï¼‰\nâ”œâ”€â”€ lib/                      # å…±é€šé–¢æ•°ãƒ»è¨­å®š\nâ”‚   â”œâ”€â”€ utils.ts\nâ”‚   â”œâ”€â”€ constants.ts\nâ”‚   â””â”€â”€ force-refresh.ts      # HMRãƒˆãƒªã‚¬ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«\nâ”œâ”€â”€ scripts/                  # ãƒ“ãƒ«ãƒ‰ãƒ»ç›£è¦–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ\nâ”‚   â”œâ”€â”€ generate-search-index.ts\nâ”‚   â”œâ”€â”€ watch-search-index.ts\nâ”‚   â””â”€â”€ generate-sitemap.ts\nâ”œâ”€â”€ public/                   # å…¬é–‹ãƒ•ã‚¡ã‚¤ãƒ«ç¾¤ï¼ˆfavicon, sitemapï¼‰\nâ””â”€â”€ tailwind.config.ts\n```\n\n---\n\n### ğŸ” ã“ã®æ§‹æˆã§å¾—ã‚‰ã‚Œã‚‹ãƒ¡ãƒªãƒƒãƒˆ\n\n- **å®Œå…¨ãªãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹æ§‹æˆ**ã§å‹•ä½œ\n- è¨˜äº‹ã‚’ä¿å­˜ã—ãŸç¬é–“ã«è‡ªå‹•æ›´æ–°ã•ã‚Œã‚‹**å¿«é©ãªé–‹ç™ºä½“é¨“**\n- GitHubé€£æºã«ã‚ˆã‚Šã€**è¨˜äº‹ã®å¤‰æ›´ãŒãã®ã¾ã¾å±¥æ­´ç®¡ç†**ã«ãªã‚‹\n- **Vercelã®è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤**ã«ã‚ˆã£ã¦å¸¸ã«æœ€æ–°çŠ¶æ…‹ã‚’å…¬é–‹\n- **Markdownãƒ™ãƒ¼ã‚¹ã®æŸ”è»Ÿãªæ‹¡å¼µæ€§**ï¼ˆZenné¢¨ãƒ»ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªåŒ–ãªã©ã«ã‚‚å¿œç”¨å¯èƒ½ï¼‰\n\n---\n\næ¬¡ç« ã§ã¯ã€`gray-matter` ã¨ `react-markdown` ã‚’ä½¿ã£ã¦\nMarkdownãƒ•ã‚¡ã‚¤ãƒ«ã‚’HTMLã¨ã—ã¦ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã€\nã€Œãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§è¨˜äº‹ãƒšãƒ¼ã‚¸ãŒç”Ÿæˆã•ã‚Œã‚‹ã€ä»•çµ„ã¿ã‚’å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚\n\n---\n\n## âš™ï¸ 3. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n\nã“ã“ã‹ã‚‰ã¯ã€å®Ÿéš›ã« **Next.js + TypeScript + Tailwind CSS** ã‚’ä½¿ã£ã¦\nãƒ–ãƒ­ã‚°ã‚’å‹•ã‹ã™ãŸã‚ã®é–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¦ã„ãã¾ã™ã€‚\n\n---\n\n### ğŸ§© 3.1 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ\n\nã¾ãšã¯ã€Next.jsã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚\nä»Šå›ã¯ TypeScript ã‚’å‰æã«ã—ãŸæ§‹æˆã§ã™ã€‚\n\n```bash\n# Next.jsã®æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ\nnpx create-next-app@latest techblog --typescript\n```\n\nã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ™‚ã®é¸æŠè‚¢ã¯æ¬¡ã®ã‚ˆã†ã«å›ç­”ã—ã¾ã™ï¼š\n\n| è³ªå•                                                  | æ¨å¥¨å›ç­”         |\n| ----------------------------------------------------- | ---------------- |\n| Would you like to use ESLint?                         | âœ… Yes           |\n| Would you like to use Tailwind CSS?                   | âœ… Yes           |\n| Would you like to use src/ directory?                 | ä»»æ„ï¼ˆå¥½ã¿ã§OKï¼‰ |\n| Use App Router (recommended)?                         | âœ… Yes           |\n| Would you like to customize the default import alias? | âœ… Yes â†’ `@/*`   |\n\n---\n\n### ğŸ§± 3.2 ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã‚’æ•´ç†\n\nä½œæˆå¾Œã®æ§‹æˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€å¾Œã§ä½¿ç”¨ã™ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã‚’è¿½åŠ ã—ã¾ã™ã€‚\n\n```bash\ncd techblog\nmkdir -p content scripts features lib\n```\n\næœ€çµ‚çš„ã«ä»¥ä¸‹ã®ã‚ˆã†ãªæ§‹æˆã‚’ç›®æŒ‡ã—ã¾ã™ğŸ‘‡\n\n```bash\ntechblog/\nâ”œâ”€â”€ app/                     # Next.js App Routeræ§‹æˆ\nâ”‚   â”œâ”€â”€ layout.tsx\nâ”‚   â””â”€â”€ page.tsx\nâ”œâ”€â”€ content/                 # Markdownè¨˜äº‹ã‚’æ ¼ç´\nâ”‚   â””â”€â”€ sample.md\nâ”œâ”€â”€ features/                # æ¤œç´¢ãªã©ã®æ©Ÿèƒ½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«\nâ”œâ”€â”€ lib/                     # å…±é€šé–¢æ•°ãƒ»è¨­å®š\nâ”œâ”€â”€ public/                  # ç”»åƒãƒ»æ¤œç´¢indexãªã©\nâ”œâ”€â”€ scripts/                 # ãƒ“ãƒ«ãƒ‰æ™‚ã‚¹ã‚¯ãƒªãƒ—ãƒˆ\nâ”œâ”€â”€ tailwind.config.ts\nâ””â”€â”€ tsconfig.json\n```\n\n---\n\n### ğŸ’… 3.3 Tailwind CSS è¨­å®š\n\nTailwindã¯ `create-next-app` ã§è‡ªå‹•è¨­å®šã•ã‚Œã¾ã™ãŒã€\nãƒ†ãƒ¼ãƒæ‹¡å¼µã‚’å°‘ã—èª¿æ•´ã—ã¦ãŠãã¨ä¾¿åˆ©ã§ã™ã€‚\n`tailwind.config.ts` ã‚’æ¬¡ã®ã‚ˆã†ã«ç·¨é›†ã—ã¾ã™ï¼š\n\n```ts\nimport type { Config } from \"tailwindcss\";\n\nconst config: Config = {\n  darkMode: [\"class\"],\n  content: [\n    \"./app/**/*.{ts,tsx}\",\n    \"./components/**/*.{ts,tsx}\",\n    \"./features/**/*.{ts,tsx}\",\n    \"./content/**/*.{md,mdx}\",\n  ],\n  theme: {\n    extend: {\n      colors: {\n        background: \"hsl(var(--background))\",\n        foreground: \"hsl(var(--foreground))\",\n      },\n    },\n  },\n  plugins: [],\n};\n\nexport default config;\n```\n\nã“ã®è¨­å®šã«ã‚ˆã‚Šã€Markdownç”±æ¥ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ã‚‚TailwindãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚\nï¼ˆå¾Œã§ `react-markdown` ã§è¨˜äº‹ã‚’HTMLåŒ–ã™ã‚‹ãŸã‚ã«å¿…è¦ã§ã™ï¼‰\n\n---\n\n### ğŸ§° 3.4 é–‹ç™ºæ™‚ã«ä¾¿åˆ©ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¿½åŠ \n\n```bash\nnpm install gray-matter react-markdown remark-gfm rehype-highlight rehype-raw fuse.js\nnpm install --save-dev eslint-plugin-simple-import-sort prettier-plugin-tailwindcss\n```\n\n| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸                      | å½¹å‰²                                           |\n| ------------------------------- | ---------------------------------------------- |\n| **gray-matter**                 | Markdownã®Frontmatterï¼ˆtitle, tagsãªã©ï¼‰ã‚’è§£æ |\n| **react-markdown**              | Markdownã‚’Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«å¤‰æ›            |\n| **remark-gfm**                  | GFMï¼ˆè¡¨ãƒ»ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆãªã©ï¼‰å¯¾å¿œ              |\n| **rehype-highlight**            | ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆ         |\n| **rehype-raw**                  | HTMLã‚¿ã‚°ã‚’å®‰å…¨ã«è§£é‡ˆ                           |\n| **fuse.js**                     | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æ¤œç´¢ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª                 |\n| **prettier-plugin-tailwindcss** | Tailwindã‚¯ãƒ©ã‚¹ã®è‡ªå‹•æ•´åˆ—                       |\n\n---\n\n### ğŸ§ª 3.5 ESLintã¨Prettierã®çµ±åˆ\n\nã‚³ãƒ¼ãƒ‰å“è³ªã¨æ•´å½¢ãƒ«ãƒ¼ãƒ«ã‚’çµ±ä¸€ã—ã¦ã€ä¿å®ˆæ€§ã‚’é«˜ã‚ã¾ã™ã€‚\n`.eslintrc.json` ã®ä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚\n\n```json\n{\n  \"extends\": [\n    \"next/core-web-vitals\",\n    \"eslint:recommended\",\n    \"plugin:prettier/recommended\"\n  ],\n  \"plugins\": [\"simple-import-sort\"],\n  \"rules\": {\n    \"simple-import-sort/imports\": \"error\",\n    \"simple-import-sort/exports\": \"error\"\n  }\n}\n```\n\n---\n\n### ğŸ§± 3.6 Markdownãƒ†ã‚¹ãƒˆç”¨ã®ã‚µãƒ³ãƒ—ãƒ«ã‚’è¿½åŠ \n\n`content/hello-world.md` ã‚’ä½œæˆï¼š\n\n````md\n---\ntitle: \"Hello World\"\nsummary: \"åˆã‚ã¦ã®Markdownè¨˜äº‹ã§ã™\"\ntags: [\"Next.js\", \"Markdown\"]\n---\n\n# Hello World ğŸ‘‹\n\nã“ã‚Œã¯ãƒ†ãƒƒã‚¯ãƒ–ãƒ­ã‚°ã®æœ€åˆã®è¨˜äº‹ã§ã™ã€‚  \nã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚‚OKã€‚\n\n```ts\nconsole.log(\"Hello from Markdown!\");\n```\n````\n\n---\n\n### ğŸš€ 3.7 é–‹ç™ºã‚µãƒ¼ãƒã‚’èµ·å‹•\n\nä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‚‰ã€é–‹ç™ºã‚µãƒ¼ãƒã‚’èµ·å‹•ã—ã¾ã™ã€‚\n\n```bash\nnpm install\nnpm run dev\n```\n\nãƒ–ãƒ©ã‚¦ã‚¶ã§ [http://localhost:3000](http://localhost:3000) ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€\nNext.jsã®åˆæœŸãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚Œã°OKã§ã™ã€‚\n\n---\n\n### ğŸ“ˆ 3.8 ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã®æµã‚Œï¼ˆMermaidï¼‰\n\n```mermaid\nflowchart TD\n    A[ğŸ§± create-next-appã§ç”Ÿæˆ] --> B[âš™ï¸ TypeScript + Tailwindæ§‹æˆ]\n    B --> C[ğŸ“ content/ ã«Markdownè¨˜äº‹ä½œæˆ]\n    C --> D[ğŸ§© gray-matterã§Frontmatterè§£æ]\n    D --> E[âš›ï¸ react-markdownã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°]\n    E --> F[ğŸŒ localhost:3000ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼]\n```\n\n---\n\n### ğŸ¯ ã“ã“ã¾ã§ã§å¾—ã‚‰ã‚Œã‚‹ã“ã¨\n\n- è‡ªåˆ†ã®ãƒ–ãƒ­ã‚°ã‚’ **å®Œå…¨ã«ãƒ­ãƒ¼ã‚«ãƒ«ã§ç®¡ç†ã§ãã‚‹åŸºç›¤** ãŒæ•´ã†\n- **ãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆTailwindï¼‰ãƒ»è¨˜äº‹æ§‹é€ ï¼ˆMarkdownï¼‰ãƒ»ã‚³ãƒ¼ãƒ‰å“è³ªï¼ˆESLintï¼‰** ãŒçµ±ä¸€\n- ä»Šå¾Œã®ç« ã§å®Ÿè£…ã™ã‚‹ **æ¤œç´¢æ©Ÿèƒ½ãƒ»ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ãƒ»è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤** ã«å‚™ãˆãŸæ§‹æˆãŒå®Œæˆ\n\n---\n\næ¬¡ç« ã§ã¯ã€`gray-matter` ã¨ `react-markdown` ã‚’ä½¿ã£ã¦\nMarkdownãƒ•ã‚¡ã‚¤ãƒ«ã‚’HTMLã¨ã—ã¦ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã€\nè¨˜äº‹ã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§è‡ªå‹•çš„ã«ãƒšãƒ¼ã‚¸ãŒç”Ÿæˆã•ã‚Œã‚‹ä»•çµ„ã¿ã‚’å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚\n\n---\n\n## ğŸ“ 4. Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æ§‹ç¯‰\n\nã“ã“ã‹ã‚‰ã¯ã€å®Ÿéš›ã« `content/` é…ä¸‹ã® Markdown ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ã€\n**è¨˜äº‹ä¸€è¦§ã‚„è¨˜äº‹ãƒšãƒ¼ã‚¸ã‚’è‡ªå‹•ç”Ÿæˆ** ã™ã‚‹ä»•çµ„ã¿ã‚’å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚\n\nã•ã‚‰ã«ã€é–‹ç™ºä¸­ã«è¨˜äº‹ã‚’ç·¨é›†ã™ã‚‹ã¨å³æ™‚åæ˜ ã•ã‚Œã‚‹ã‚ˆã†ã€\n**ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰å¯¾å¿œ** ã®ä»•çµ„ã¿ã‚‚çµ„ã¿è¾¼ã¿ã¾ã™ã€‚\n\n---\n\n### ğŸ§© 4.1 Markdownã®èª­ã¿è¾¼ã¿\n\nã¾ãšã¯ã€Markdownã‚’èª­ã¿å–ã£ã¦è¨˜äº‹ãƒ‡ãƒ¼ã‚¿ã«å¤‰æ›ã™ã‚‹é–¢æ•°ã‚’ä½œã‚Šã¾ã™ã€‚\n`gray-matter` ã‚’ä½¿ã£ã¦ Frontmatterï¼ˆã‚¿ã‚¤ãƒˆãƒ«ãƒ»ã‚¿ã‚°ãªã©ï¼‰ã‚’è§£æã—ã¾ã™ã€‚\n\n`lib/articles.ts`ï¼š\n\n```ts\nimport fs from \"fs\";\nimport path from \"path\";\nimport matter from \"gray-matter\";\n\nconst CONTENT_DIR = path.join(process.cwd(), \"content\");\n\n/**\n * è¨˜äº‹ä¸€è¦§ã‚’å–å¾—\n */\nexport function getAllArticles() {\n  const files = fs.readdirSync(CONTENT_DIR);\n\n  return files\n    .filter((file) => file.endsWith(\".md\"))\n    .map((file) => {\n      const filePath = path.join(CONTENT_DIR, file);\n      const content = fs.readFileSync(filePath, \"utf-8\");\n      const { data, content: body } = matter(content);\n\n      return {\n        slug: file.replace(/\\.md$/, \"\"),\n        title: data.title || \"Untitled\",\n        summary: data.summary || \"\",\n        tags: data.tags || [],\n        date: data.date || \"\",\n        content: body,\n      };\n    });\n}\n\n/**\n * ç‰¹å®šè¨˜äº‹ã‚’å–å¾—\n */\nexport function getArticleBySlug(slug: string) {\n  const filePath = path.join(CONTENT_DIR, `${slug}.md`);\n  const content = fs.readFileSync(filePath, \"utf-8\");\n  const { data, content: body } = matter(content);\n\n  return {\n    slug,\n    title: data.title || \"Untitled\",\n    summary: data.summary || \"\",\n    tags: data.tags || [],\n    date: data.date || \"\",\n    content: body,\n  };\n}\n```\n\n---\n\n### âš›ï¸ 4.2 Markdownã‚’HTMLã«å¤‰æ›ã—ã¦è¡¨ç¤º\n\næ¬¡ã«ã€`react-markdown` ã‚’ä½¿ã£ã¦HTMLã¨ã—ã¦ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã¾ã™ã€‚\nã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚‚ `rehype-highlight` ã§å¯¾å¿œã—ã¾ã™ã€‚\n\n`app/articles/[slug]/page.tsx`ï¼š\n\n```tsx\nimport { getArticleBySlug, getAllArticles } from \"@/lib/articles\";\nimport ReactMarkdown from \"react-markdown\";\nimport rehypeHighlight from \"rehype-highlight\";\nimport remarkGfm from \"remark-gfm\";\n\ntype Props = {\n  params: { slug: string };\n};\n\nexport async function generateStaticParams() {\n  const articles = getAllArticles();\n  return articles.map((article) => ({ slug: article.slug }));\n}\n\nexport default function ArticlePage({ params }: Props) {\n  const article = getArticleBySlug(params.slug);\n\n  return (\n    <article className=\"prose dark:prose-invert mx-auto p-8\">\n      <h1>{article.title}</h1>\n      <p className=\"text-sm text-gray-500\">{article.summary}</p>\n\n      <ReactMarkdown\n        remarkPlugins={[remarkGfm]}\n        rehypePlugins={[rehypeHighlight]}\n      >\n        {article.content}\n      </ReactMarkdown>\n    </article>\n  );\n}\n```\n\nã“ã‚Œã§ `content/hello-world.md` ãŒ\nè‡ªå‹•çš„ã« `/articles/hello-world` ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n\n---\n\n### ğŸ—‚ï¸ 4.3 è¨˜äº‹ä¸€è¦§ãƒšãƒ¼ã‚¸ã®ç”Ÿæˆ\n\nãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ãªã©ã§ä¸€è¦§ã‚’è¡¨ç¤ºã—ãŸã„å ´åˆã¯ã€\nåŒã˜ã `getAllArticles()` ã‚’ä½¿ã£ã¦ä¸€è¦§ã‚’ä½œã‚Šã¾ã™ã€‚\n\n`app/page.tsx`ï¼š\n\n```tsx\nimport Link from \"next/link\";\nimport { getAllArticles } from \"@/lib/articles\";\n\nexport default function HomePage() {\n  const articles = getAllArticles();\n\n  return (\n    <main className=\"max-w-3xl mx-auto p-8\">\n      <h1 className=\"text-3xl font-bold mb-6\">ğŸ“š Articles</h1>\n\n      <ul className=\"space-y-6\">\n        {articles.map((article) => (\n          <li key={article.slug}>\n            <Link\n              href={`/articles/${article.slug}`}\n              className=\"block group hover:opacity-80 transition\"\n            >\n              <h2 className=\"text-xl font-semibold\">{article.title}</h2>\n              <p className=\"text-gray-500\">{article.summary}</p>\n              <div className=\"mt-1 flex gap-2\">\n                {article.tags.map((tag: string) => (\n                  <span\n                    key={tag}\n                    className=\"text-sm bg-gray-100 dark:bg-gray-800 rounded px-2 py-0.5\"\n                  >\n                    #{tag}\n                  </span>\n                ))}\n              </div>\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </main>\n  );\n}\n```\n\n---\n\n### ğŸ”„ 4.4 ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ã®ä»•çµ„ã¿\n\né–‹ç™ºä¸­ã«Markdownã‚’å¤‰æ›´ã—ãŸã¨ãã€\nå³åº§ã«Next.jså´ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¸åæ˜ ã•ã›ã‚‹ãŸã‚ã«\n**`watch-search-index.ts`** ã¨ã„ã†ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½¿ã„ã¾ã™ã€‚\n\n`scripts/watch-search-index.ts`ï¼š\n\n```ts\nimport chokidar from \"chokidar\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport matter from \"gray-matter\";\n\nconst contentDir = path.join(process.cwd(), \"content\");\nconst indexPath = path.join(process.cwd(), \"public\", \"search-index.json\");\n\nfunction generateSearchIndex() {\n  const files = fs.readdirSync(contentDir).filter((f) => f.endsWith(\".md\"));\n  const index = files.map((file) => {\n    const filePath = path.join(contentDir, file);\n    const raw = fs.readFileSync(filePath, \"utf-8\");\n    const { data, content } = matter(raw);\n    return {\n      slug: file.replace(/\\.md$/, \"\"),\n      title: data.title || \"\",\n      summary: data.summary || \"\",\n      tags: data.tags || [],\n      content,\n    };\n  });\n\n  fs.writeFileSync(indexPath, JSON.stringify(index, null, 2));\n  triggerRerender();\n}\n\nfunction triggerRerender() {\n  const refreshFile = path.join(process.cwd(), \"lib\", \"force-refresh.ts\");\n  fs.writeFileSync(\n    refreshFile,\n    `// refreshed at ${new Date().toISOString()}\\n`,\n  );\n  console.log(\"ğŸ” search-index regenerated & HMR triggered\");\n}\n\nchokidar\n  .watch(contentDir, { ignoreInitial: true })\n  .on(\"add\", generateSearchIndex)\n  .on(\"change\", generateSearchIndex)\n  .on(\"unlink\", generateSearchIndex);\n\nconsole.log(\"ğŸ‘€ Watching Markdown files...\");\ngenerateSearchIndex();\n```\n\nã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’åˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§èµ·å‹•ã—ã¦ãŠãã¨ã€\nMarkdownã®è¿½åŠ ãƒ»å¤‰æ›´ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§åæ˜ ã•ã‚Œã¾ã™ğŸ‘‡\n\n```bash\nnpx tsx scripts/watch-search-index.ts\n```\n\n---\n\n### âš™ï¸ 4.5 è‡ªå‹•èµ·å‹•ã®è¨­å®šï¼ˆpackage.jsonï¼‰\n\n`package.json` ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ ã—ã¦ã€\né–‹ç™ºæ™‚ã«Next.jsã¨ã‚¦ã‚©ãƒƒãƒãƒ£ãƒ¼ã‚’åŒæ™‚ã«èµ·å‹•ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\n\n```json\n{\n  \"scripts\": {\n    \"dev\": \"concurrently \\\"next dev\\\" \\\"npx tsx scripts/watch-search-index.ts\\\"\"\n  },\n  \"devDependencies\": {\n    \"concurrently\": \"^8.2.2\"\n  }\n}\n```\n\n```bash\nnpm install --save-dev concurrently\n```\n\nã“ã‚Œã§ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚Œã°OKã§ã™ã€‚\n\n```bash\nnpm run dev\n```\n\nâ†’ Next.jsã‚µãƒ¼ãƒãƒ¼ã¨ã‚¦ã‚©ãƒƒãƒãƒ£ãƒ¼ãŒä¸¦è¡Œã§å‹•ä½œã—ã€\nMarkdownã‚’ä¿å­˜ã—ãŸç¬é–“ã«ãƒ–ãƒ©ã‚¦ã‚¶ãŒè‡ªå‹•æ›´æ–°ã•ã‚Œã¾ã™ã€‚\n\n---\n\n### ğŸ“Š 4.6 ãƒ•ãƒ­ãƒ¼å…¨ä½“ã®ã‚¤ãƒ¡ãƒ¼ã‚¸\n\n```mermaid\nflowchart TD\n    A[âœï¸ content/*.mdã‚’ç·¨é›†] --> B[ğŸ‘€ watch-search-index.tsãŒå¤‰æ›´æ¤œçŸ¥]\n    B --> C[ğŸ§  gray-matterã§å†è§£æ]\n    C --> D[ğŸ—‚ï¸ search-index.jsonã‚’å†ç”Ÿæˆ]\n    D --> E[âš¡ force-refresh.tsæ›´æ–°ã§HMRç™ºç«]\n    E --> F[ğŸ–¥ï¸ ãƒ–ãƒ©ã‚¦ã‚¶ãŒè‡ªå‹•æ›´æ–°]\n```\n\n---\n\n### ğŸ¯ ã¾ã¨ã‚\n\n- `gray-matter` ã§ Markdown ã®ãƒ¡ã‚¿æƒ…å ±ã‚’è§£æ\n- `react-markdown` ã§è¨˜äº‹ã‚’HTMLã¨ã—ã¦è¡¨ç¤º\n- `watch-search-index.ts` ã«ã‚ˆã‚Šã€è¨˜äº‹ã‚’ä¿å­˜ã—ãŸç¬é–“ã«UIã¸åæ˜ \n- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãªã—ã§ã€Œç·¨é›† â†’ å³åæ˜ ã€ã®é–‹ç™ºä½“é¨“ã‚’å®Ÿç¾\n\n---\n\n## ğŸ” 5. è¨˜äº‹ãƒ‡ãƒ¼ã‚¿ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–\n\nã“ã“ã§ã¯ã€Markdownã§æ›¸ã‹ã‚ŒãŸè¨˜äº‹ãƒ‡ãƒ¼ã‚¿ã‚’\n**æ¤œç´¢ã—ã‚„ã™ã„å½¢å¼ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼‰ã«å¤‰æ›ã™ã‚‹å‡¦ç†**ã‚’å®Ÿè£…ã—ã¾ã™ã€‚\n\nNext.jsã®ãƒ“ãƒ«ãƒ‰æ™‚ã« `content/` ä»¥ä¸‹ã®ã™ã¹ã¦ã®Markdownã‚’è§£æã—ã€\n`public/search-index.json` ã«ã¾ã¨ã‚ã¦å‡ºåŠ›ã—ã¾ã™ã€‚\nã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€å¾Œã§å®Ÿè£…ã™ã‚‹å…¨æ–‡æ¤œç´¢æ©Ÿèƒ½ï¼ˆFuse.jsï¼‰ã§ä½¿ç”¨ã—ã¾ã™ã€‚\n\n---\n\n### ğŸ§  5.1 ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç”Ÿæˆã®ç›®çš„\n\n- ã‚µã‚¤ãƒˆä¸Šã®è¨˜äº‹ã‚’**å³åº§ã«æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹**\n- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§æ¤œç´¢ã‚’å®Œçµã•ã›ã€**ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ä¸è¦**ã«ã™ã‚‹\n- Vercelä¸Šã§ã‚‚**é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦é…ä¿¡å¯èƒ½**ã«ã™ã‚‹\n\nã¤ã¾ã‚Šã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¯ã€Œè»½é‡ãªæ¤œç´¢ç”¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã€ã¨ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚\n\n---\n\n### ğŸ—‚ï¸ 5.2 ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ä½œæˆ\n\næ¬¡ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ `scripts/generate-search-index.ts` ã«è¿½åŠ ã—ã¾ã™ã€‚\nã“ã‚Œã¯ **ãƒ“ãƒ«ãƒ‰æ™‚** ã‚„ **watcherèµ·å‹•æ™‚** ã«è‡ªå‹•å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†ã§ã™ã€‚\n\n```ts\nimport fs from \"fs\";\nimport path from \"path\";\nimport matter from \"gray-matter\";\n\nconst CONTENT_DIR = path.join(process.cwd(), \"content\");\nconst OUTPUT_FILE = path.join(process.cwd(), \"public\", \"search-index.json\");\n\nfunction generateSearchIndex() {\n  const files = fs.readdirSync(CONTENT_DIR).filter((f) => f.endsWith(\".md\"));\n  const articles = files.map((file) => {\n    const filePath = path.join(CONTENT_DIR, file);\n    const raw = fs.readFileSync(filePath, \"utf-8\");\n    const { data, content } = matter(raw);\n\n    return {\n      slug: file.replace(/\\.md$/, \"\"),\n      title: data.title || \"Untitled\",\n      summary: data.summary || \"\",\n      tags: data.tags || [],\n      date: data.date || \"\",\n      content,\n    };\n  });\n\n  fs.writeFileSync(OUTPUT_FILE, JSON.stringify(articles, null, 2));\n  console.log(`âœ… search-index.json generated (${articles.length} articles)`);\n}\n\ngenerateSearchIndex();\n```\n\n---\n\n### âš™ï¸ 5.3 npmã‚¹ã‚¯ãƒªãƒ—ãƒˆã«è¿½åŠ \n\nã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç°¡å˜ã«å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã€`package.json` ã«ç™»éŒ²ã—ã¦ãŠãã¾ã™ã€‚\n\n```json\n{\n  \"scripts\": {\n    \"build:index\": \"npx tsx scripts/generate-search-index.ts\"\n  }\n}\n```\n\nå®Ÿè¡Œä¾‹ï¼š\n\n```bash\nnpm run build:index\n```\n\n`public/search-index.json` ãŒç”Ÿæˆã•ã‚Œã‚Œã°æˆåŠŸã§ã™ã€‚\n\n---\n\n### ğŸ“¦ 5.4 ç”Ÿæˆã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ã®æ§‹é€ \n\nç”Ÿæˆã•ã‚ŒãŸ `search-index.json` ã¯æ¬¡ã®ã‚ˆã†ãªæ§‹é€ ã«ãªã‚Šã¾ã™ï¼š\n\n```json\n[\n  {\n    \"slug\": \"hello-world\",\n    \"title\": \"Hello World\",\n    \"summary\": \"åˆã‚ã¦ã®Markdownè¨˜äº‹ã§ã™\",\n    \"tags\": [\"Next.js\", \"Markdown\"],\n    \"date\": \"2025-10-01\",\n    \"content\": \"# Hello World ğŸ‘‹ ...\"\n  }\n]\n```\n\nã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ãˆã°ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§ `title` ã‚„ `tags`ã€`content` ã‚’å¯¾è±¡ã«\nFuse.jsã§æŸ”è»Ÿãªæ¤œç´¢ã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n\n---\n\n### ğŸ§© 5.5 Next.jsã¨ã®é€£æºï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰\n\n`search-index.json` ã¯ã€**é–‹ç™ºæ™‚ãƒ»ãƒ“ãƒ«ãƒ‰æ™‚ã®ã©ã¡ã‚‰ã§ã‚‚è‡ªå‹•ç”Ÿæˆ**ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\n\n`next.config.mjs` ã«ä»¥ä¸‹ã‚’è¿½åŠ ã—ã¾ã™ï¼š\n\n```js\n// next.config.mjs\nimport { execSync } from \"child_process\";\n\nconst config = {\n  webpack: (config) => {\n    // ãƒ“ãƒ«ãƒ‰å‰ã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ç”Ÿæˆ\n    execSync(\"npm run build:index\", { stdio: \"inherit\" });\n    return config;\n  },\n};\n\nexport default config;\n```\n\nã“ã‚Œã§ `npm run build` ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€\nè‡ªå‹•çš„ã« `search-index.json` ãŒä½œã‚‰ã‚Œã€\nå¸¸ã«æœ€æ–°ã®çŠ¶æ…‹ã§ãƒ“ãƒ«ãƒ‰ãŒè¡Œã‚ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n\n---\n\n### ğŸ“ˆ 5.6 å‡¦ç†ãƒ•ãƒ­ãƒ¼ã®ã‚¤ãƒ¡ãƒ¼ã‚¸\n\n```mermaid\nflowchart TD\n    A[ğŸ“„ content/*.md] --> B[gray-matterã§è§£æ]\n    B --> C[ğŸ—‚ï¸ JSONåŒ– â†’ search-index.jsonç”Ÿæˆ]\n    C --> D[ğŸ’¾ public/ ã«ä¿å­˜]\n    D --> E[ğŸ” Fuse.jsã§åˆ©ç”¨]\n```\n\n---\n\n### ğŸ’¡ 5.7 ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æ–¹å¼ã®è¨­è¨ˆæ„å›³\n\n| é …ç›®               | æ–¹é‡                       | ç†ç”±                                     |\n| ------------------ | -------------------------- | ---------------------------------------- |\n| **ä¿å­˜å ´æ‰€**       | `public/search-index.json` | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§ç›´æ¥å–å¾—ã§ãã‚‹       |\n| **æ›´æ–°ã‚¿ã‚¤ãƒŸãƒ³ã‚°** | ãƒ“ãƒ«ãƒ‰æ™‚ãƒ»watcherèµ·å‹•æ™‚    | ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã¨æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤ã®ä¸¡æ–¹ã‚’ã‚«ãƒãƒ¼ |\n| **å½¢å¼**           | ãƒ•ãƒ©ãƒƒãƒˆãªJSONé…åˆ—         | Fuse.jsãŒæœ€é©ã«å‡¦ç†ã§ãã‚‹æ§‹é€             |\n| **ä¾å­˜é–¢ä¿‚**       | gray-matter                | Markdownã®Frontmatterè§£æãŒç°¡å˜ã§é«˜é€Ÿ    |\n\n---\n\n### ğŸ¯ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–ã¾ã¨ã‚\n\n- `content/` å†…ã®Markdownã‚’è§£æã—ã¦ **search-index.json** ã‚’è‡ªå‹•ç”Ÿæˆ\n- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ä¸è¦**ã§ã€æ¤œç´¢ç”¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ãƒ•ãƒ­ãƒ³ãƒˆã«åŸ‹ã‚è¾¼ã‚ã‚‹\n- Next.jsãƒ“ãƒ«ãƒ‰æ™‚ã«ã‚‚è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ãŸã‚ã€**å¸¸ã«æœ€æ–°ã®çŠ¶æ…‹ã‚’ç¶­æŒ**\n\n---\n\næ¬¡ç« ã§ã¯ã€ã“ã® `search-index.json` ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§èª­ã¿è¾¼ã¿ã€\n**Fuse.jsã‚’ç”¨ã„ãŸå…¨æ–‡æ¤œç´¢æ©Ÿèƒ½** ã‚’å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚\n\n---\n\n## ğŸ“° 6. è¨˜äº‹ãƒšãƒ¼ã‚¸ã¨ä¸€è¦§ãƒšãƒ¼ã‚¸ã®å®Ÿè£…\n\nã“ã‚Œã¾ã§ã«æ§‹ç¯‰ã—ãŸ\n\n- Markdownã®èª­ã¿è¾¼ã¿ï¼ˆ`lib/articles.ts`ï¼‰\n- è¨˜äº‹ãƒ‡ãƒ¼ã‚¿ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–ï¼ˆ`search-index.json`ï¼‰\n\nã‚’ã‚‚ã¨ã«ã€**è¨˜äº‹ä¸€è¦§ãƒšãƒ¼ã‚¸**ã¨**è¨˜äº‹è©³ç´°ãƒšãƒ¼ã‚¸**ã‚’å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚\nã“ã‚Œã§ã€ãƒ–ãƒ­ã‚°ã¨ã—ã¦ã®åŸºæœ¬çš„ãªé–²è¦§æ©Ÿèƒ½ãŒå®Œæˆã—ã¾ã™ã€‚\n\n---\n\n### ğŸ—‚ï¸ 6.1 è¨˜äº‹ä¸€è¦§ãƒšãƒ¼ã‚¸\n\nãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã§ã¯ã€`getAllArticles()` ã§å–å¾—ã—ãŸè¨˜äº‹ä¸€è¦§ã‚’\nã‚¿ã‚¤ãƒˆãƒ«ãƒ»æ¦‚è¦ãƒ»ã‚¿ã‚°ä»˜ãã§è¡¨ç¤ºã—ã¾ã™ã€‚\n\n`app/page.tsx`ï¼š\n\n```tsx\nimport Link from \"next/link\";\nimport { getAllArticles } from \"@/lib/articles\";\n\nexport default function HomePage() {\n  const articles = getAllArticles();\n\n  return (\n    <main className=\"max-w-3xl mx-auto p-8\">\n      <h1 className=\"text-3xl font-bold mb-8\">ğŸ“š Articles</h1>\n\n      <ul className=\"space-y-6\">\n        {articles.map((article) => (\n          <li key={article.slug}>\n            <Link\n              href={`/articles/${article.slug}`}\n              className=\"block group hover:opacity-80 transition\"\n            >\n              <h2 className=\"text-xl font-semibold group-hover:underline\">\n                {article.title}\n              </h2>\n              {article.summary && (\n                <p className=\"text-gray-500 dark:text-gray-400 mt-1\">\n                  {article.summary}\n                </p>\n              )}\n              {article.tags?.length > 0 && (\n                <div className=\"mt-2 flex flex-wrap gap-2\">\n                  {article.tags.map((tag: string) => (\n                    <span\n                      key={tag}\n                      className=\"text-sm bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded px-2 py-0.5\"\n                    >\n                      #{tag}\n                    </span>\n                  ))}\n                </div>\n              )}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </main>\n  );\n}\n```\n\nã“ã®ãƒšãƒ¼ã‚¸ã§ã¯ã€`/content` é…ä¸‹ã®Markdownãƒ•ã‚¡ã‚¤ãƒ«ãŒ\nè‡ªå‹•çš„ã«è¨˜äº‹ä¸€è¦§ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\n\n---\n\n### ğŸ“„ 6.2 è¨˜äº‹ãƒšãƒ¼ã‚¸\n\nå€‹åˆ¥è¨˜äº‹ãƒšãƒ¼ã‚¸ã§ã¯ã€`slug`ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«åï¼‰ã‚’ã‚‚ã¨ã«\nMarkdownã‚’èª­ã¿è¾¼ã¿ã€`react-markdown` ã§HTMLã¨ã—ã¦æç”»ã—ã¾ã™ã€‚\n\n`app/articles/[slug]/page.tsx`ï¼š\n\n```tsx\nimport { getAllArticles, getArticleBySlug } from \"@/lib/articles\";\nimport ReactMarkdown from \"react-markdown\";\nimport rehypeHighlight from \"rehype-highlight\";\nimport remarkGfm from \"remark-gfm\";\n\ntype Props = {\n  params: { slug: string };\n};\n\nexport async function generateStaticParams() {\n  const articles = getAllArticles();\n  return articles.map((article) => ({ slug: article.slug }));\n}\n\nexport default function ArticlePage({ params }: Props) {\n  const article = getArticleBySlug(params.slug);\n\n  return (\n    <article className=\"prose dark:prose-invert mx-auto p-8\">\n      <h1>{article.title}</h1>\n      {article.date && (\n        <p className=\"text-sm text-gray-500 mb-4\">{article.date}</p>\n      )}\n\n      <ReactMarkdown\n        remarkPlugins={[remarkGfm]}\n        rehypePlugins={[rehypeHighlight]}\n      >\n        {article.content}\n      </ReactMarkdown>\n\n      {article.tags?.length > 0 && (\n        <div className=\"mt-6 flex flex-wrap gap-2\">\n          {article.tags.map((tag: string) => (\n            <span\n              key={tag}\n              className=\"text-sm bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded px-2 py-0.5\"\n            >\n              #{tag}\n            </span>\n          ))}\n        </div>\n      )}\n    </article>\n  );\n}\n```\n\nãƒã‚¤ãƒ³ãƒˆï¼š\n\n- **`generateStaticParams()`** ã«ã‚ˆã‚Šã€è¨˜äº‹ã‚’SSGï¼ˆé™çš„ç”Ÿæˆï¼‰\n- **`rehype-highlight`** ã§ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆå¯¾å¿œ\n- **`remark-gfm`** ã§è¡¨ã‚„ãƒªã‚¹ãƒˆã€ãƒªãƒ³ã‚¯ãªã©ã®æ‹¡å¼µMarkdownæ§‹æ–‡ã‚’æœ‰åŠ¹åŒ–\n\n---\n\n### ğŸ§± 6.3 ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹æˆã®çµ±ä¸€\n\nå…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ `app/layout.tsx` ã«è¨­å®šã—ã¦ãŠãã¨ã€\nã©ã®ãƒšãƒ¼ã‚¸ã§ã‚‚ãƒ˜ãƒƒãƒ€ãƒ¼ã‚„ãƒ†ãƒ¼ãƒãŒçµ±ä¸€ã•ã‚Œã¾ã™ã€‚\n\n`app/layout.tsx`ï¼š\n\n```tsx\nimport \"./globals.css\";\nimport { Inter } from \"next/font/google\";\n\nconst inter = Inter({ subsets: [\"latin\"] });\n\nexport const metadata = {\n  title: \"techblog\",\n  description: \"å€‹äººã®æŠ€è¡“ãƒ–ãƒ­ã‚°ã‚µã‚¤ãƒˆ\",\n};\n\nexport default function RootLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  return (\n    <html lang=\"ja\" className=\"dark\">\n      <body className={`${inter.className} bg-background text-foreground`}>\n        <header className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\n          <h1 className=\"text-2xl font-semibold\">techblog</h1>\n        </header>\n        <main>{children}</main>\n      </body>\n    </html>\n  );\n}\n```\n\nã“ã®ã‚ˆã†ã«ã€**ã‚·ãƒ³ãƒ—ãƒ«ã§è»½é‡ãªUI** ã«ã—ã¦ãŠãã¨ã€\nå¾Œã§ `shadcn/ui` ãªã©ã‚’å°å…¥ã—ã¦ã‚‚æ‹¡å¼µã—ã‚„ã™ããªã‚Šã¾ã™ã€‚\n\n---\n\n### ğŸŒ 6.4 ãƒšãƒ¼ã‚¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ§‹é€ \n\nNext.jsã®App Routerã§ã¯ã€\nãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆãã®ã‚‚ã®ãŒãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¨ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚\n\n```bash\napp/\nâ”œâ”€â”€ page.tsx               # ä¸€è¦§ãƒšãƒ¼ã‚¸ï¼ˆ/ï¼‰\nâ””â”€â”€ articles/\n    â””â”€â”€ [slug]/\n        â””â”€â”€ page.tsx       # è¨˜äº‹ãƒšãƒ¼ã‚¸ï¼ˆ/articles/[slug]ï¼‰\n```\n\nã¤ã¾ã‚Šã€`content/hello-world.md` ã¯\nè‡ªå‹•çš„ã« `/articles/hello-world` ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\n\n---\n\n### ğŸ“ˆ 6.5 ãƒ•ãƒ­ãƒ¼å›³ï¼ˆMermaidï¼‰\n\n```mermaid\nflowchart TD\n    a[\"ğŸ“„ content/*.md\"] --> b[\"ğŸ§  getAllArticles() ã§ä¸€è¦§ç”Ÿæˆ\"]\n    a --> c[\"ğŸ“š getArticleBySlug() ã§å€‹åˆ¥å–å¾—\"]\n    b --> d[\"ğŸ  /page.tsx â†’ ä¸€è¦§ãƒšãƒ¼ã‚¸\"]\n    c --> e[\"ğŸ“° /articles/[slug]/page.tsx â†’ è¨˜äº‹ãƒšãƒ¼ã‚¸\"]\n    d --> f[\"ğŸŒ Next.js SSGãƒ“ãƒ«ãƒ‰\"]\n    e --> f\n```\n\n---\n\n### ğŸ¯ ãƒšãƒ¼ã‚¸ä½œæˆã¾ã¨ã‚\n\n- è¨˜äº‹ä¸€è¦§ã¨è©³ç´°ãƒšãƒ¼ã‚¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’App Routerã§è‡ªå‹•ç”Ÿæˆ\n- Markdownã‚’ `gray-matter` + `react-markdown` ã§HTMLåŒ–\n- ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ©ã‚¤ãƒˆãƒ»ã‚¿ã‚°è¡¨ç¤ºãƒ»æ—¥ä»˜ãªã©ã®ãƒ¡ã‚¿æƒ…å ±ã‚‚è¡¨ç¤ºå¯èƒ½\n- SSGï¼ˆé™çš„ç”Ÿæˆï¼‰ã«ã‚ˆã‚Šã€é«˜é€Ÿã‹ã¤SEOã«å¼·ã„ãƒ–ãƒ­ã‚°æ§‹æˆãŒå®Œæˆ\n\n---\n\n## ğŸ¨ 7. UIãƒ‡ã‚¶ã‚¤ãƒ³ã¨ãƒ†ãƒ¼ãƒ\n\nã“ã®ç« ã§ã¯ã€**Tailwind CSS** ã¨ **shadcn/ui** ã‚’ç”¨ã„ãŸ\nUIãƒ‡ã‚¶ã‚¤ãƒ³ã®æ§‹ç¯‰ã¨ãƒ†ãƒ¼ãƒï¼ˆãƒ©ã‚¤ãƒˆï¼ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œï¼‰ã‚’å®Ÿè£…ã—ã¾ã™ã€‚\n\n---\n\n### ğŸŒˆ 7.1 ãƒ‡ã‚¶ã‚¤ãƒ³æ–¹é‡\n\næœ¬ãƒ–ãƒ­ã‚°ã¯ã€Œ**èª­ã¿ã‚„ã™ããƒ»æ•´ã£ã¦ã„ã¦ãƒ»å£Šã‚Œã«ãã„UI**ã€ã‚’é‡è¦–ã—ã¦ã„ã¾ã™ã€‚\nç‰¹ã«æ¬¡ã®3ç‚¹ã‚’è¨­è¨ˆã®æŸ±ã¨ã—ã¾ã—ãŸã€‚\n\n1. **ä½™ç™½ã¨æ–‡å­—ã‚µã‚¤ã‚ºã®çµ±ä¸€** â€” Tailwindã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã§å…¨ä½“ã®ãƒãƒ©ãƒ³ã‚¹ã‚’æƒãˆã‚‹\n2. **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†é›¢** â€” è¨˜äº‹ã‚«ãƒ¼ãƒ‰ãƒ»ã‚¿ã‚°ãƒ»ãƒœã‚¿ãƒ³ãªã©ã‚’å†åˆ©ç”¨å¯èƒ½ã«\n3. **ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ** â€” `class` ãƒ™ãƒ¼ã‚¹ã®åˆ‡ã‚Šæ›¿ãˆã§çµ±ä¸€æ„Ÿã‚’ç¶­æŒ\n\n---\n\n### ğŸ’… 7.2 Tailwind CSS ã®ãƒ†ãƒ¼ãƒæ‹¡å¼µ\n\n`tailwind.config.ts` ã«ãƒ†ãƒ¼ãƒå¤‰æ•°ã‚’å®šç¾©ã—ã¦ãŠãã¨ã€\nãƒ‡ã‚¶ã‚¤ãƒ³å¤‰æ›´ã‚„ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆãŒã‚¹ãƒ ãƒ¼ã‚ºã«ãªã‚Šã¾ã™ã€‚\n\n```ts\nimport type { Config } from \"tailwindcss\";\n\nconst config: Config = {\n  darkMode: [\"class\"],\n  theme: {\n    extend: {\n      colors: {\n        background: \"hsl(var(--background))\",\n        foreground: \"hsl(var(--foreground))\",\n        primary: \"hsl(var(--primary))\",\n        secondary: \"hsl(var(--secondary))\",\n        muted: \"hsl(var(--muted))\",\n      },\n      fontFamily: {\n        sans: [\"Inter\", \"system-ui\", \"sans-serif\"],\n      },\n    },\n  },\n  plugins: [],\n};\n\nexport default config;\n```\n\n---\n\n### ğŸ§© 7.3 shadcn/ui ã®å°å…¥\n\nTailwindãƒ™ãƒ¼ã‚¹ã®UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé›†ã§ã‚ã‚‹ [**shadcn/ui**](https://ui.shadcn.com/) ã‚’å°å…¥ã—ã¾ã™ã€‚\nã“ã‚Œã«ã‚ˆã‚Šã€ãƒœã‚¿ãƒ³ã‚„ã‚«ãƒ¼ãƒ‰ãªã©ã‚’é«˜å“è³ªãªãƒ‡ã‚¶ã‚¤ãƒ³ã§çµ±ä¸€ã§ãã¾ã™ã€‚\n\n```bash\nnpx shadcn-ui@latest init\nnpx shadcn-ui@latest add button card badge input\n```\n\nè¿½åŠ ã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ `/components/ui/` ã«é…ç½®ã•ã‚Œã¾ã™ã€‚\nä¾‹ã¨ã—ã¦ `Button` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ´»ç”¨ã—ãŸã‚·ãƒ³ãƒ—ãƒ«ãªä¾‹ğŸ‘‡\n\n```tsx\nimport { Button } from \"@/components/ui/button\";\n\nexport default function Example() {\n  return (\n    <div className=\"p-6\">\n      <Button variant=\"default\">è¨˜äº‹ã‚’èª­ã‚€</Button>\n    </div>\n  );\n}\n```\n\n---\n\n### ğŸŒ™ 7.4 ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ\n\n`class` ãƒ™ãƒ¼ã‚¹ã®ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆã‚’æ¡ç”¨ã—ã¾ã™ã€‚\n`next-themes` ã‚’å°å…¥ã—ã¦ã€ãƒ©ã‚¤ãƒˆï¼ãƒ€ãƒ¼ã‚¯ã®çŠ¶æ…‹ã‚’ç®¡ç†ã—ã¾ã—ã‚‡ã†ã€‚\n\n```bash\nnpm install next-themes\n```\n\n`app/providers.tsx` ã«è¨­å®šã‚’è¿½åŠ ï¼š\n\n```tsx\n\"use client\";\nimport { ThemeProvider } from \"next-themes\";\n\nexport function Providers({ children }: { children: React.ReactNode }) {\n  return (\n    <ThemeProvider attribute=\"class\" defaultTheme=\"system\" enableSystem>\n      {children}\n    </ThemeProvider>\n  );\n}\n```\n\nãã—ã¦ `app/layout.tsx` ã§ãƒ©ãƒƒãƒ—ã—ã¾ã™ğŸ‘‡\n\n```tsx\nimport \"./globals.css\";\nimport { Providers } from \"./providers\";\n\nexport default function RootLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  return (\n    <html lang=\"ja\" suppressHydrationWarning>\n      <body className=\"bg-background text-foreground transition-colors\">\n        <Providers>{children}</Providers>\n      </body>\n    </html>\n  );\n}\n```\n\nã“ã‚Œã§ã€OSãƒ†ãƒ¼ãƒã«åˆã‚ã›ã¦è‡ªå‹•ã§åˆ‡ã‚Šæ›¿ã‚ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nä»»æ„ã§ã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ã«ã€Œãƒ†ãƒ¼ãƒãƒˆã‚°ãƒ«ãƒœã‚¿ãƒ³ã€ã‚’è¿½åŠ ã™ã‚‹ã¨ä¾¿åˆ©ã§ã™ã€‚\n\n---\n\n### ğŸ§  7.5 è¨˜äº‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®ãƒ‡ã‚¶ã‚¤ãƒ³ä¾‹\n\nMarkdownè¨˜äº‹ã‚’`react-markdown`ã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ã¨ãã€\nè¦ç´ ã”ã¨ã«Tailwindã‚¯ãƒ©ã‚¹ã‚’æŒ‡å®šã—ã¦ã‚¹ã‚¿ã‚¤ãƒ«ã‚’çµ±ä¸€ã§ãã¾ã™ã€‚\n\n```tsx\nimport ReactMarkdown from \"react-markdown\";\n\nexport default function ArticleContent({ content }: { content: string }) {\n  return (\n    <article className=\"prose dark:prose-invert max-w-none\">\n      <ReactMarkdown>{content}</ReactMarkdown>\n    </article>\n  );\n}\n```\n\n`@tailwindcss/typography` ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’åˆ©ç”¨ã™ã‚Œã°ã€\nè¦‹å‡ºã—ã‚„ãƒªãƒ³ã‚¯ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¹ã‚¿ã‚¤ãƒ«ã‚‚æ•´ã„ã¾ã™ğŸ‘‡\n\n```bash\nnpm install @tailwindcss/typography\n```\n\n`tailwind.config.ts` ã«è¿½åŠ ï¼š\n\n```ts\nplugins: [require(\"@tailwindcss/typography\")],\n```\n\n---\n\n### ğŸ§­ 7.6 UIè¨­è¨ˆã®å…¨ä½“åƒ\n\n```mermaid\nflowchart TD\n    A[\"ğŸ§© shadcn/ui ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\"] --> B[\"ğŸ¨ Tailwindãƒ†ãƒ¼ãƒå¤‰æ•°\"]\n    B --> C[\"ğŸŒ— next-themes ã«ã‚ˆã‚‹ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰åˆ¶å¾¡\"]\n    C --> D[\"ğŸ“° Markdownè¨˜äº‹ã®ã‚¹ã‚¿ã‚¤ãƒ«çµ±ä¸€\"]\n    D --> E[\"âœ¨ ä¸€è²«ã—ãŸUXã¨ãƒ‡ã‚¶ã‚¤ãƒ³å†åˆ©ç”¨\"]\n```\n\n---\n\n### ğŸª¶ 7.7 ã¾ã¨ã‚\n\n- **Tailwind + shadcn/ui** ã§ãƒ‡ã‚¶ã‚¤ãƒ³åŸºç›¤ã‚’ç¢ºç«‹\n- **next-themes** ã«ã‚ˆã‚Šãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã‚’è‡ªç„¶ã«å®Ÿè£…\n- **@tailwindcss/typography** ã§Markdownã‚’ç¾ã—ãæ•´å½¢\n\nã“ã“ã¾ã§ã§ã€ãƒ–ãƒ­ã‚°å…¨ä½“ã®è¦‹ãŸç›®ã¨ãƒ†ãƒ¼ãƒãŒå®Œæˆã—ã¾ã—ãŸã€‚\næ¬¡ç« ã§ã¯ã€**Fuse.jsã‚’ä½¿ã£ãŸæ¤œç´¢æ©Ÿèƒ½**ã‚’è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚\n\n---\n\n## ğŸš€ 8. ã‚µã‚¤ãƒˆã®å…¬é–‹\n\nã“ã“ã¾ã§ã§ã€Markdownè¨˜äº‹ã‚’ã‚‚ã¨ã«å‹•ä½œã™ã‚‹æŠ€è¡“ãƒ–ãƒ­ã‚°ãŒå®Œæˆã—ã¾ã—ãŸã€‚\næœ€å¾Œã«ã€**Vercelã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆä¸Šã«å…¬é–‹**ã—ã¾ã—ã‚‡ã†ã€‚\n\nVercelã¯Next.jsé–‹ç™ºå…ƒãŒæä¾›ã™ã‚‹ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã§ã€\nGitHubã¨é€£æºã™ã‚‹ã ã‘ã§ **ãƒ“ãƒ«ãƒ‰ â†’ ãƒ‡ãƒ—ãƒ­ã‚¤ â†’ å…¬é–‹** ãŒã™ã¹ã¦è‡ªå‹•åŒ–ã•ã‚Œã¾ã™ã€‚\n\n---\n\n### ğŸŒ 8.1 GitHub ã¸ã®ãƒ—ãƒƒã‚·ãƒ¥\n\nã¾ãšã€ä½œæˆã—ãŸãƒ–ãƒ­ã‚°ã‚’GitHubã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚\n\n```bash\n# Gitãƒªãƒã‚¸ãƒˆãƒªã‚’åˆæœŸåŒ–\ngit init\ngit add .\ngit commit -m \"Initial commit: techblog\"\n\n# GitHubã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆï¼ˆä¾‹ï¼‰\ngh repo create techblog --public --source=. --remote=origin\n\n# ãƒ—ãƒƒã‚·ãƒ¥\ngit push -u origin main\n```\n\nã“ã‚Œã§GitHubä¸Šã«ã‚³ãƒ¼ãƒ‰ãŒã‚¢ãƒƒãƒ—ã•ã‚Œã¾ã—ãŸã€‚\nVercelã¯ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ç›£è¦–ã—ã¦ã€è‡ªå‹•çš„ã«æ›´æ–°ã‚’åæ˜ ã—ã¦ãã‚Œã¾ã™ã€‚\n\n---\n\n### â˜ï¸ 8.2 Vercel ã«ãƒ‡ãƒ—ãƒ­ã‚¤\n\n[Vercel Dashboard](https://vercel.com/) ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€\nGitHubã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ã€‚\n\n1. ã€Œ**New Project**ã€ã‚’ã‚¯ãƒªãƒƒã‚¯\n2. ã€Œ**Import Git Repository**ã€ã§ `techblog` ã‚’é¸æŠ\n3. Framework ã¯è‡ªå‹•ã§ **Next.js** ãŒæ¤œå‡ºã•ã‚Œã¾ã™\n4. Build Command ã‚’æ¬¡ã®ã‚ˆã†ã«å¤‰æ›´ğŸ‘‡\n\n   ```bash\n   npm run postbuild && npm run build\n   ```\n\n5. Output Directory ã¯è‡ªå‹•è¨­å®šï¼ˆ`/.next`ï¼‰\n6. Deploy ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n\næ•°åˆ†å¾Œã€`https://techblog.vercel.app` ã®ã‚ˆã†ãªURLã§å…¬é–‹ã•ã‚Œã¾ã™ ğŸ‰\n\n---\n\n### ğŸ”„ 8.3 è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆCI/CDï¼‰\n\nVercelã¯ã€**GitHubã®mainãƒ–ãƒ©ãƒ³ãƒã«pushã•ã‚Œã‚‹ãŸã³**ã«ä»¥ä¸‹ã‚’è‡ªå‹•å®Ÿè¡Œã—ã¾ã™ã€‚\n\n1. `npm install`\n2. `npm run postbuild`ï¼ˆè¨˜äº‹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ»ã‚µã‚¤ãƒˆãƒãƒƒãƒ—ç”Ÿæˆï¼‰\n3. `npm run build`ï¼ˆNext.jsé™çš„ãƒ“ãƒ«ãƒ‰ï¼‰\n4. ãƒ‡ãƒ—ãƒ­ã‚¤ï¼†å…¬é–‹\n\nã¤ã¾ã‚Šã€Markdownã‚’è¿½åŠ ã—ã¦commit â†’ pushã™ã‚‹ã ã‘ã§ã€\nã‚µã‚¤ãƒˆãŒè‡ªå‹•çš„ã«æ›´æ–°ã•ã‚Œã¾ã™ã€‚\n\n```bash\n# è¨˜äº‹è¿½åŠ ä¾‹\necho \"---\\ntitle: 'æ–°ã—ã„è¨˜äº‹'\\n---\\næœ¬æ–‡...\" > content/new-post.md\ngit add .\ngit commit -m \"Add new post\"\ngit push origin main\n```\n\næ•°åç§’å¾Œã«ã¯VercelãŒè‡ªå‹•ã§å†ãƒ“ãƒ«ãƒ‰ã—ã€æ–°ã—ã„è¨˜äº‹ãŒå…¬é–‹ã•ã‚Œã¾ã™ã€‚\n\n---\n\n### âš¡ 8.4 ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ã¨ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º\n\nãƒ­ãƒ¼ã‚«ãƒ«ã§ã¯æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§é–‹ç™ºã§ãã¾ã™ã€‚\n\n```bash\nnpm run dev\n```\n\nã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã¯ã€`next dev` ã¨åŒæ™‚ã«\n`scripts/watch-search-index.ts` ãŒå®Ÿè¡Œã•ã‚Œã€\n**Markdownã®å¤‰æ›´ã‚’ç›£è¦–ã—ãªãŒã‚‰ `search-index.json` ã‚’è‡ªå‹•æ›´æ–°**ã—ã¾ã™ã€‚\n\nã“ã‚Œã«ã‚ˆã‚Šã€è¨˜äº‹ã®è¿½åŠ ãƒ»ç·¨é›†ãŒå³åº§ã«åæ˜ ã•ã‚Œã€\né–‹ç™ºä¸­ã®ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ä½“é¨“ãŒæ ¼æ®µã«å¿«é©ã«ãªã‚Šã¾ã™ã€‚\n\n> ğŸ” `watch-search-index.ts` ã¯ `fs.watch` ã§ `content/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ç›£è¦–ã—ã€\n> è¨˜äº‹å¤‰æ›´æ™‚ã« `generate-search-index.ts` ã‚’å†å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚\n> â†’ ãƒ­ãƒ¼ã‚«ãƒ«ã§ã¯å³æ™‚åæ˜ ã€æœ¬ç•ªã§ã¯ `postbuild` ã§å†ç”Ÿæˆã€‚\n\n---\n\n### ğŸ§± 8.5 package.json ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆè¨­å®š\n\næœ€çµ‚çš„ãª `package.json` ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®šç¾©ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š\n\n```json\n{\n  \"scripts\": {\n    \"dev\": \"npx concurrently -k -n \\\"next,watch\\\" -c \\\"cyan,magenta\\\" \\\"next dev\\\" \\\"npx tsx scripts/watch-search-index.ts\\\"\",\n    \"build\": \"next build\",\n    \"start\": \"next start\",\n    \"lint\": \"next lint\",\n    \"generate:search\": \"tsx scripts/generate-search-index.ts\",\n    \"generate:sitemap\": \"tsx scripts/generate-sitemap.ts\",\n    \"postbuild\": \"npm run generate:search && npm run generate:sitemap\"\n  }\n}\n```\n\n| ã‚¹ã‚¯ãƒªãƒ—ãƒˆ           | èª¬æ˜                                           |\n| -------------------- | ---------------------------------------------- |\n| **dev**              | Next.jsã‚µãƒ¼ãƒãƒ¼ï¼‹è¨˜äº‹ã‚¦ã‚©ãƒƒãƒãƒ£ãƒ¼ã‚’åŒæ™‚èµ·å‹•    |\n| **postbuild**        | ãƒ“ãƒ«ãƒ‰å‰ã«æ¤œç´¢ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¨ã‚µã‚¤ãƒˆãƒãƒƒãƒ—ã‚’ç”Ÿæˆ |\n| **generate:search**  | `search-index.json` ã‚’ç”Ÿæˆï¼ˆFuse.jsç”¨ï¼‰        |\n| **generate:sitemap** | æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³å‘ã‘ã® `sitemap.xml` ã‚’ç”Ÿæˆ        |\n| **build**            | Next.jsæœ¬ä½“ã‚’ãƒ“ãƒ«ãƒ‰ï¼ˆSSGï¼‰                     |\n\n---\n\n### ğŸ“Š 8.6 ãƒ‡ãƒ—ãƒ­ã‚¤ã®æµã‚Œã¾ã¨ã‚\n\n```mermaid\nflowchart TD\n    A[\"ğŸ“ Markdownè¿½åŠ <br/>git commit & push\"] --> B[\"â˜ï¸ GitHubã«åæ˜ \"]\n    B --> C[\"âš™ï¸ VercelãŒè‡ªå‹•ãƒ“ãƒ«ãƒ‰é–‹å§‹\"]\n    C --> D[\"ğŸ§  npm run postbuild<br/>(æ¤œç´¢ãƒ»ã‚µã‚¤ãƒˆãƒãƒƒãƒ—ç”Ÿæˆ)\"]\n    D --> E[\"ğŸ—ï¸ npm run build<br/>(Next.jsãƒ“ãƒ«ãƒ‰)\"]\n    E --> F[\"ğŸŒ å…¬é–‹ã‚µã‚¤ãƒˆãŒæ›´æ–°\"]\n```\n\n---\n\n### âœ… 8.7 å…¬é–‹å¾Œã®é‹ç”¨ãƒã‚¤ãƒ³ãƒˆ\n\n- Markdownã‚’è¿½åŠ  â†’ push ã§å³åæ˜ \n- ãƒ­ãƒ¼ã‚«ãƒ«ã§ã¯ `npm run dev` ã§ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ä»˜ãé–‹ç™º\n- `postbuild` ã«ã‚ˆã£ã¦ã€è¨˜äº‹ä¸€è¦§ã¨sitemapãŒå¸¸ã«æœ€æ–°ã«ä¿ãŸã‚Œã‚‹\n\n---\n\n### ğŸª¶ ã¾ã¨ã‚\n\n- GitHubã¨Vercelé€£æºã§**å®Œå…¨è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤**\n- `postbuild` ã«ã‚ˆã‚Š**ãƒ“ãƒ«ãƒ‰æ™‚ã«è¨˜äº‹ãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•ç”Ÿæˆ**\n- ãƒ­ãƒ¼ã‚«ãƒ«ã§ã¯ `watch-search-index.ts` ã«ã‚ˆã‚‹**ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°**\n\nã“ã‚Œã§ã€ã€Œæ›¸ã â†’ push â†’ å…¬é–‹ã€ã®ç†æƒ³çš„ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒå®Œæˆã—ã¾ã—ãŸ ğŸš€\n\n---\n\n## ğŸ” 9. æ¤œç´¢ã¨SEOå¯¾ç­–\n\nã“ã®ç« ã§ã¯ã€**ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç›®çš„ã®è¨˜äº‹ã‚’æ¢ã—ã‚„ã™ãã—ã€æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã«ã‚‚æœ€é©åŒ–ã•ã‚ŒãŸãƒ–ãƒ­ã‚°**ã«ä»•ä¸Šã’ã‚‹ãŸã‚ã®ä»•çµ„ã¿ã‚’æ•´ãˆã¾ã™ã€‚\n\nã“ã“ã¾ã§ã§ `search-index.json` ã‚„ `generate-sitemap.ts` ã¯ã™ã§ã«ç™»å ´ã—ã¦ã„ã¾ã™ãŒã€\nãã‚Œã‚‰ã‚’SEOãƒ»æ¤œç´¢ä½“é¨“ã®è¦³ç‚¹ã‹ã‚‰ã¾ã¨ã‚ã¦æœ€é©åŒ–ã—ã¦ã„ãã¾ã™ã€‚\n\n---\n\n### ğŸ”¡ 9.1 æ¤œç´¢æ©Ÿèƒ½ã®æ”¹å–„ (Fuse.js)\n\næ¤œç´¢æ©Ÿèƒ½ã¯ã€`Fuse.js` ã‚’ä½¿ã£ãŸ**ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰å…¨æ–‡æ¤œç´¢**ã§å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™ã€‚\nãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§ `search-index.json` ã‚’èª­ã¿è¾¼ã¿ã€\nãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ¤œç´¢ãƒœãƒƒã‚¯ã‚¹ã«å…¥åŠ›ã—ãŸã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã«å¿œã˜ã¦å³åº§ã«çµã‚Šè¾¼ã¿ã‚’è¡Œã„ã¾ã™ã€‚\n\n```ts\nimport Fuse from \"fuse.js\";\n\nconst fuse = new Fuse(articles, {\n  keys: [\"title\", \"summary\", \"tags\", \"content\"],\n  threshold: 0.3,\n});\n\nexport const searchArticles = (query: string) => {\n  return query ? fuse.search(query).map((res) => res.item) : articles;\n};\n```\n\n#### ğŸ§  Fuse.jsã®ç‰¹å¾´\n\n- ã‚µãƒ¼ãƒãƒ¼ä¸è¦ã§è»½é‡ï¼ˆCDNå¯¾å¿œã‚‚å¯èƒ½ï¼‰\n- ã‚¿ã‚¤ãƒˆãƒ«ãƒ»ã‚¿ã‚°ãƒ»æœ¬æ–‡ãªã©è¤‡æ•°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æ¨ªæ–­æ¤œç´¢\n- `threshold` ã§æ›–æ˜§æ¤œç´¢ã®åº¦åˆã„ã‚’èª¿æ•´ã§ãã‚‹\n  â†’ ä¾‹ï¼š0.3 ãªã‚‰ã€ŒNextã€ã§ã‚‚ã€ŒNext.jsã€ã«ãƒãƒƒãƒ\n\n#### ğŸš€ é‹ç”¨ãƒ•ãƒ­ãƒ¼\n\n1. é–‹ç™ºä¸­ã¯ `watch-search-index.ts` ã«ã‚ˆã‚Šãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰å¯¾å¿œ\n2. æœ¬ç•ªã§ã¯ `postbuild` ã«ã‚ˆã‚Š `search-index.json` ã‚’å†ç”Ÿæˆ\n3. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ `Fuse.js` ãŒæ¤œç´¢çµæœã‚’å³æ™‚åæ˜ \n\n---\n\n### ğŸŒ 9.2 ã‚µã‚¤ãƒˆãƒãƒƒãƒ—ç”Ÿæˆ (`generate-sitemap.ts`)\n\næ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆGoogle, Bingãªã©ï¼‰ãŒè¨˜äº‹ã‚’æ­£ã—ãã‚¯ãƒ­ãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ã€\n`scripts/generate-sitemap.ts` ã§è‡ªå‹•ç”Ÿæˆã™ã‚‹ã‚µã‚¤ãƒˆãƒãƒƒãƒ—ã‚’ç”¨æ„ã—ã¾ã™ã€‚\n\n```ts\nimport fs from \"fs\";\nimport path from \"path\";\n\nconst BASE_URL = \"https://techblog.vercel.app\";\nconst contentDir = path.join(process.cwd(), \"content\");\n\nconst generateSitemap = () => {\n  const files = fs.readdirSync(contentDir);\n  const urls = files\n    .filter((file) => file.endsWith(\".md\"))\n    .map((file) => {\n      const slug = file.replace(/\\.md$/, \"\");\n      return `<url><loc>${BASE_URL}/articles/${slug}</loc></url>`;\n    });\n\n  const xml = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n  <urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n  ${urls.join(\"\\n\")}\n  </urlset>`;\n\n  fs.writeFileSync(\"public/sitemap.xml\", xml);\n  console.log(\"âœ… sitemap.xml generated\");\n};\n\ngenerateSitemap();\n```\n\nã“ã‚Œã«ã‚ˆã‚Šã€**ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã«å¸¸ã«æœ€æ–°è¨˜äº‹ã®URLã‚’å«ã‚€sitemap.xml**ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚\nGoogle Search Console ã«ç™»éŒ²ã™ã‚Œã°ã€SEOåŠ¹æœã‚’æœ€å¤§åŒ–ã§ãã¾ã™ã€‚\n\n---\n\n### ğŸª 9.3 ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã¨OGPè¨­å®š\n\nNext.js App Routerã§ã¯ã€`app/layout.tsx` ã‚„å„ãƒšãƒ¼ã‚¸ã§\n`metadata` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½¿ã£ã¦ãƒ¡ã‚¿æƒ…å ±ã‚’å®šç¾©ã§ãã¾ã™ã€‚\n\n```ts\nexport const metadata = {\n  title: \"TechBlog â€“ æŠ€è¡“ãƒ–ãƒ­ã‚°\",\n  description: \"GitHubãƒ»Next.jsãƒ»Vercelãƒ»Markdownã§ä½œã‚‹å€‹äººæŠ€è¡“ãƒ–ãƒ­ã‚°\",\n  openGraph: {\n    title: \"TechBlog\",\n    description: \"ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®ãŸã‚ã®Markdownãƒ™ãƒ¼ã‚¹æŠ€è¡“ãƒ–ãƒ­ã‚°\",\n    url: \"https://techblog.vercel.app\",\n    siteName: \"TechBlog\",\n    images: [\"/ogp.png\"],\n    locale: \"ja_JP\",\n    type: \"website\",\n  },\n};\n```\n\nã“ã‚Œã«ã‚ˆã‚Šï¼š\n\n- Google æ¤œç´¢çµæœã§é©åˆ‡ãªã‚¿ã‚¤ãƒˆãƒ«ã¨èª¬æ˜æ–‡ãŒè¡¨ç¤ºã•ã‚Œã‚‹\n- SNSï¼ˆX, Facebook, Discordãªã©ï¼‰ã§ã®å…±æœ‰æ™‚ã«**OGPç”»åƒã¨èª¬æ˜ãŒè‡ªå‹•è¡¨ç¤º**\n\n> ğŸ’¡ ç”»åƒã¯ `/public/ogp.png` ã«é…ç½®ã€‚\n> è¨˜äº‹ã”ã¨ã«å€‹åˆ¥ã®OGPç”»åƒã‚’ç”Ÿæˆã—ãŸã„å ´åˆã¯ `next/og` API ã‚„ `@vercel/og` ã‚’åˆ©ç”¨å¯èƒ½ã§ã™ã€‚\n\n---\n\n### ğŸ¤– 9.4 robots.txt ã¨ Search Console\n\nSEOå¯¾ç­–ã¨ã—ã¦ã€ã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®šã‚’æ˜ç¤ºã™ã‚‹ `robots.txt` ã‚’ `public/` ã«é…ç½®ã—ã¾ã™ã€‚\n\n```txt\nUser-agent: *\nAllow: /\nSitemap: https://techblog.vercel.app/sitemap.xml\n```\n\nã‚ã‚ã›ã¦ã€Google Search Console ã«\n`https://techblog.vercel.app/sitemap.xml` ã‚’ç™»éŒ²ã—ã¦ãŠãã¨è‰¯ã„ã§ã™ã€‚\nã“ã‚Œã§è¨˜äº‹ã®ã‚¯ãƒ­ãƒ¼ãƒ«ãŒè‡ªå‹•åŒ–ã•ã‚Œã€æ¤œç´¢åæ˜ ã‚‚æ—©ã¾ã‚Šã¾ã™ã€‚\n\n---\n\n### ğŸ“ˆ 9.5 Analytics é€£æºï¼ˆä»»æ„ï¼‰\n\nã‚¢ã‚¯ã‚»ã‚¹è§£æã‚’è¡Œã„ãŸã„å ´åˆã¯ã€\n`Vercel Analytics` ã¾ãŸã¯ `Google Analytics` ã‚’å°å…¥ã—ã¾ã™ã€‚\n\nä¾‹ï¼š`next/script` ã‚’ä½¿ã£ãŸ GA è¨­å®š\n\n```tsx\nimport Script from \"next/script\";\n\nexport default function Analytics() {\n  return (\n    <Script\n      async\n      src={`https://www.googletagmanager.com/gtag/js?id=${process.env.NEXT_PUBLIC_GA_ID}`}\n    />\n  );\n}\n```\n\n`.env` ã«ä»¥ä¸‹ã‚’è¿½åŠ ï¼š\n\n```env\nNEXT_PUBLIC_GA_ID=G-XXXXXXX\n```\n\n---\n\n### ğŸ§­ 9.6 æ¤œç´¢ãƒ»SEOæ§‹æˆã®ã¾ã¨ã‚\n\n```mermaid\nflowchart TD\n    A[\"ğŸ§© Markdown è¨˜äº‹\"] --> B[\"ğŸ§  search-index.json<br/>ï¼ˆFuse.js ç”¨ï¼‰\"]\n    A --> C[\"ğŸŒ sitemap.xml<br/>ï¼ˆSEO ç”¨ï¼‰\"]\n    B --> D[\"ğŸ” ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ¤œç´¢ï¼ˆFuse.jsï¼‰\"]\n    C --> E[\"ğŸ¤– Google æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³\"]\n    D --> F[\"ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¨˜äº‹ã‚’æ¢ã™\"]\n    E --> F\n```\n\n---\n\n### âœ… ã¾ã¨ã‚\n\n- `Fuse.js` ã«ã‚ˆã‚‹**å³æ™‚æ¤œç´¢**ã§UXã‚’æœ€é©åŒ–\n- `generate-sitemap.ts` ã«ã‚ˆã‚Š**ã‚¯ãƒ­ãƒ¼ãƒ«ç²¾åº¦ã‚’è‡ªå‹•ç®¡ç†**\n- ãƒ¡ã‚¿æƒ…å ±ãƒ»OGPãƒ»robots.txtã§**SEOã‚’å¼·åŒ–**\n- `postbuild`ã§å…¨ãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹æ§‹æˆã§**é‹ç”¨ã‚³ã‚¹ãƒˆã‚¼ãƒ­**\n\nã“ã‚Œã§ã€**ã€Œäººã«ã‚‚æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã«ã‚‚å„ªã—ã„ãƒ–ãƒ­ã‚°ã€**ãŒå®Œæˆã§ã™ã€‚\n\n---\n\n## ğŸ§© 10. ä»Šå¾Œã®ç™ºå±•\n\nã“ã®ãƒ–ãƒ­ã‚°ã¯ã€**ã€ŒMarkdownã§è¨˜äº‹ã‚’æ›¸ã â†’ push â†’ è‡ªå‹•å…¬é–‹ã€**ã¨ã„ã†ã‚·ãƒ³ãƒ—ãƒ«ãªæ§‹æˆã‚’é‡è¦–ã—ã¦ã„ã¾ã™ã€‚\nã“ã“ã‹ã‚‰ã•ã‚‰ã«ç™ºå±•ã•ã›ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šé«˜åº¦ãªçŸ¥è­˜å…±æœ‰ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¸é€²åŒ–ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n\n---\n\n### ğŸ—‚ï¸ 10.1 CMSã®å°å…¥ï¼ˆContentlayer / Notion / microCMSï¼‰\n\nMarkdowné‹ç”¨ã¯è»½é‡ã§ä¾¿åˆ©ã§ã™ãŒã€è¨˜äº‹æ•°ãŒå¢—ãˆã‚‹ã¨ç®¡ç†ãŒç…©é›‘ã«ãªã‚Šã¾ã™ã€‚\nå°†æ¥çš„ã«ã¯**CMSï¼ˆContent Management Systemï¼‰**ã‚’å°å…¥ã—ã¦ã€\nè¨˜äº‹ãƒ‡ãƒ¼ã‚¿ã‚’å¤–éƒ¨ã‹ã‚‰ç®¡ç†ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚\n\n| æ‰‹æ³•             | ç‰¹å¾´                                                |\n| ---------------- | --------------------------------------------------- |\n| **Contentlayer** | Markdownã‚’å‹å®‰å…¨ã«æ‰±ãˆã‚‹ã€‚Next.jsã¨çµ±åˆæ€§ãŒé«˜ã„ã€‚   |\n| **Notion API**   | Notionã‚’ãã®ã¾ã¾CMSåŒ–ã€‚åŸ·ç­†ä½“é¨“ãŒå¿«é©ã€‚             |\n| **microCMS**     | æ—¥æœ¬èªå¯¾å¿œã®ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹CMSã€‚éã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‚‚ç·¨é›†å¯èƒ½ã€‚ |\n\nã“ã‚Œã‚‰ã‚’ä½¿ãˆã°ã€**éé–‹ç™ºè€…ã§ã‚‚è¨˜äº‹ã‚’è¿½åŠ ãƒ»ç·¨é›†**ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n\n---\n\n### ğŸ’¬ 10.2 ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½ã‚„ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®è¿½åŠ \n\nèª­è€…ã¨ã®äº¤æµã‚’ç”Ÿã‚€ãŸã‚ã«ã€ä»¥ä¸‹ã®ã‚ˆã†ãªä»•çµ„ã¿ã‚’è¿½åŠ ã§ãã¾ã™ã€‚\n\n- **Giscus**ï¼ˆGitHub Discussionsã‚’åˆ©ç”¨ã—ãŸã‚³ãƒ¡ãƒ³ãƒˆï¼‰\n- **Utterances**ï¼ˆGitHub Issuesé€£æºï¼‰\n- **è‡ªä½œAPIï¼‹Supabase** ã§è»½é‡ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½ã‚’æ§‹ç¯‰\n\nã“ã‚Œã«ã‚ˆã‚Šã€ãƒ–ãƒ­ã‚°ãŒä¸€æ–¹é€šè¡Œã§ã¯ãªã**ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£çš„ãªå ´**ã¸ç™ºå±•ã—ã¾ã™ã€‚\n\n---\n\n### ğŸ“° 10.3 RSSãƒ•ã‚£ãƒ¼ãƒ‰ãƒ»ãƒ¡ãƒ¼ãƒ«è³¼èª­\n\næ–°ç€è¨˜äº‹ã‚’è‡ªå‹•é…ä¿¡ã—ãŸã„å ´åˆã¯ã€RSSã‚„ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ¬ã‚¿ãƒ¼æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¾ã™ã€‚\n\n- `scripts/generate-rss.ts` ã§ `rss.xml` ã‚’ç”Ÿæˆ\n- Vercel Cron ã§å®šæœŸæ›´æ–°\n- `buttondown.email` ã‚„ `ConvertKit` ã‚’ä½¿ã£ã¦ãƒ¡ãƒ¼ãƒ«è³¼èª­ã‚’æä¾›\n\nã“ã‚Œã«ã‚ˆã‚Šã€**èª­è€…ãŒå®šæœŸçš„ã«æœ€æ–°è¨˜äº‹ã‚’å—ã‘å–ã‚Œã‚‹ä»•çµ„ã¿**ã‚’ä½œã‚Œã¾ã™ã€‚\n\n---\n\n### ğŸ“Š 10.4 ã‚¢ã‚¯ã‚»ã‚¹è§£æãƒ»äººæ°—è¨˜äº‹ãƒ©ãƒ³ã‚­ãƒ³ã‚°\n\näººæ°—è¨˜äº‹ã‚’åˆ†æã—ãŸã„å ´åˆã¯ã€ä»¥ä¸‹ã®æ–¹æ³•ãŒæœ‰åŠ¹ã§ã™ã€‚\n\n| æ‰‹æ³•                                   | èª¬æ˜                           |\n| -------------------------------------- | ------------------------------ |\n| **Vercel Analytics**                   | è¨­å®šä¸è¦ã§PVã‚’ç°¡æ˜“è§£æ         |\n| **Google Analytics 4**                 | è©³ç´°ãªæµå…¥çµŒè·¯ãƒ»è¡Œå‹•åˆ†æãŒå¯èƒ½ |\n| **è‡ªä½œã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ï¼ˆSupabase / Redisï¼‰** | ãƒšãƒ¼ã‚¸åˆ¥PVã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é›†è¨ˆ   |\n\nãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒšãƒ¼ã‚¸ã‚„ã€Œã‚ˆãèª­ã¾ã‚Œã¦ã„ã‚‹è¨˜äº‹ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ã®ã‚‚ãŠã™ã™ã‚ã§ã™ã€‚\n\n---\n\n### ğŸ¨ 10.5 ãƒ‡ã‚¶ã‚¤ãƒ³ãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«ãƒ»UXå¼·åŒ–\n\nUI/UXã®é¢ã§ã¯ã€æ¬¡ã®ã‚ˆã†ãªæ”¹è‰¯ã‚‚å¯èƒ½ã§ã™ã€‚\n\n- **`shadcn/ui`** ã«ã‚ˆã‚‹ãƒ¢ãƒ€ãƒ³ã§çµ±ä¸€æ„Ÿã®ã‚ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ\n- **Framer Motion** ã‚’ä½¿ã£ãŸãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³ã‚„ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ \n- **ãƒ†ãƒ¼ãƒæ‹¡å¼µï¼ˆãƒ•ã‚©ãƒ³ãƒˆãƒ»ã‚«ãƒ©ãƒ¼ãƒ»ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰**\n- **è¨˜äº‹å†…ç›®æ¬¡ï¼ˆTable of Contentsï¼‰** ã®è‡ªå‹•ç”Ÿæˆ\n\n> ãƒ‡ã‚¶ã‚¤ãƒ³åˆ·æ–°ã‚’é€šã—ã¦ã€**ã€Œèª­ã¾ã‚Œã‚‹ã€ãƒ–ãƒ­ã‚°ã‹ã‚‰ã€Œä½¿ã‚ã‚Œã‚‹ã€ãƒ¡ãƒ‡ã‚£ã‚¢ã¸**é€²åŒ–ã§ãã¾ã™ã€‚\n\n---\n\n### ğŸ§± 10.6 ãƒ“ãƒ«ãƒ‰é«˜é€ŸåŒ–ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–\n\nè¨˜äº‹æ•°ãŒå¢—ãˆã‚‹ã¨SSGãƒ“ãƒ«ãƒ‰ã«æ™‚é–“ãŒã‹ã‹ã‚‹ãŸã‚ã€\nä»¥ä¸‹ã®æœ€é©åŒ–ã‚’æ¤œè¨ã—ã¾ã™ã€‚\n\n- **`next/cache`** ã‚„ **ISR (Incremental Static Regeneration)** ã®æ´»ç”¨\n- **åˆ†å‰²ãƒ“ãƒ«ãƒ‰ï¼ˆéƒ¨åˆ†å†ç”Ÿæˆï¼‰** ã®å°å…¥\n- **ç”»åƒæœ€é©åŒ–ï¼ˆnext/image + CDNï¼‰**\n- **preload / prefetchæˆ¦ç•¥** ã®è¦‹ç›´ã—\n\nã“ã‚Œã«ã‚ˆã‚Šã€å¤§è¦æ¨¡åŒ–ã—ã¦ã‚‚ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ã«é‹ç”¨ã§ãã¾ã™ã€‚\n\n---\n\n### ğŸ§  10.7 AIè¦ç´„ãƒ»æ¨è–¦æ©Ÿèƒ½\n\nä»Šå¾Œã¯ã€**ç”ŸæˆAIã‚’æ´»ç”¨ã—ã¦è¨˜äº‹ã‚’ã‚ˆã‚Šè³¢ãå±Šã‘ã‚‹**ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚\n\n- LLMã‚’ä½¿ã£ãŸ **ã€Œã“ã®è¨˜äº‹ã®è¦ç´„ã€** æ©Ÿèƒ½\n- é¡ä¼¼è¨˜äº‹ã‚’è‡ªå‹•ææ¡ˆã™ã‚‹ **ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ³**\n- ChatGPT APIã‚„LangChainã‚’ç”¨ã„ãŸ **çŸ¥è­˜ãƒ™ãƒ¼ã‚¹åŒ–**\n\n> Markdownè¨˜äº‹ã‚’ãƒ™ã‚¯ãƒˆãƒ«DBã«åŸ‹ã‚è¾¼ã¿ã€\n> ã€Œéå»ã®è¨˜äº‹ã‹ã‚‰é–¢é€£ãƒ†ãƒ¼ãƒã‚’æ¢ã™AIãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚‚å®Ÿç¾ã§ãã¾ã™ã€‚\n\n---\n\n### ğŸš€ 10.8 ä»Šå¾Œã®å±•æœ›ã¾ã¨ã‚\n\n```mermaid\nflowchart TD\n    A[\"ğŸ“ ç¾çŠ¶: Markdownãƒ™ãƒ¼ã‚¹æŠ€è¡“ãƒ–ãƒ­ã‚°\"] --> B[\"ğŸ—‚ï¸ CMSçµ±åˆï¼ˆContentlayer, Notion, microCMSï¼‰\"]\n    A --> C[\"ğŸ’¬ ã‚³ãƒ¡ãƒ³ãƒˆãƒ»RSSãƒ»è§£ææ©Ÿèƒ½ã®è¿½åŠ \"]\n    A --> D[\"ğŸ¨ UIåˆ·æ–° & ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³\"]\n    B --> E[\"ğŸ§  AIè¦ç´„ãƒ»ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰æ©Ÿèƒ½\"]\n    C --> E\n    D --> E\n    E --> F[\"ğŸŒ å®Œæˆ: æ‹¡å¼µå‹ãƒ‘ãƒ¼ã‚½ãƒŠãƒ«ãƒŠãƒ¬ãƒƒã‚¸ãƒ–ãƒ­ã‚°\"]\n```\n\n---\n\n### âœ… 10.9 ã¾ã¨ã‚\n\n- ç¾åœ¨ã®æ§‹æˆï¼ˆMarkdown Ã— Next.js Ã— Vercelï¼‰ã¯**æœ€å°æ§‹æˆã¨ã—ã¦ç†æƒ³çš„**\n- å°†æ¥çš„ã«CMSãƒ»AIãƒ»è§£æã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§**ç¶™ç¶šçš„ãªé€²åŒ–ãŒå¯èƒ½**\n- ã‚³ãƒ¼ãƒ‰ã‚‚è¨˜äº‹ã‚‚Gitã§ç®¡ç†ã§ãã‚‹ãŸã‚ã€**æ‹¡å¼µæ€§ãƒ»é€æ˜æ€§ãƒ»å†ç¾æ€§ãŒé«˜ã„**\n\nã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€**ã€Œå­¦ã³ã®ã‚¹ãƒˆãƒƒã‚¯ã‚’å½¢ã«æ®‹ã™ãŸã‚ã®ãƒ™ãƒ¼ã‚¹ã€**ã¨ã—ã¦ã€\nãã®ã¾ã¾ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆé–‹ç™ºãƒ»ãƒŠãƒ¬ãƒƒã‚¸ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¸ç™ºå±•ã•ã›ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚\n\n---\n\n## ğŸ§­ 11. ã¾ã¨ã‚\n\nã“ã“ã¾ã§ã§ã€**GitHubãƒ»Next.jsãƒ»Vercelãƒ»Markdown** ã‚’çµ„ã¿åˆã‚ã›ãŸ\né–‹ç™ºè€…å‘ã‘ã®æŠ€è¡“ãƒ–ãƒ­ã‚°ã®æ§‹ç¯‰æ‰‹é †ã‚’ä¸€é€šã‚Šè§£èª¬ã—ã¦ãã¾ã—ãŸã€‚\n\nã“ã®ä»•çµ„ã¿ã®æœ€å¤§ã®ç‰¹å¾´ã¯ã€\n**ã€Œã‚³ãƒ¼ãƒ‰ã¨è¨˜äº‹ã‚’åŒã˜Gitã§ç®¡ç†ã—ã€pushã ã‘ã§å…¬é–‹ã§ãã‚‹ã€** ã¨ã„ã†ç‚¹ã«ã‚ã‚Šã¾ã™ã€‚\n\n---\n\n### âœ… ä»Šå›ä½œã£ãŸãƒ–ãƒ­ã‚°ã®ç‰¹å¾´\n\n| é …ç›®            | å†…å®¹                                                           |\n| --------------- | -------------------------------------------------------------- |\n| ğŸ§© **æŠ€è¡“æ§‹æˆ** | Next.jsï¼ˆApp Routerï¼‰ + Tailwind CSS + TypeScript              |\n| ğŸ“ **è¨˜äº‹ç®¡ç†** | Markdown + gray-matter ã§ãƒ¡ã‚¿æƒ…å ±ã‚’æ‰±ã†                        |\n| ğŸ” **æ¤œç´¢æ©Ÿèƒ½** | Fuse.js ã«ã‚ˆã‚‹ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰å…¨æ–‡æ¤œç´¢                       |\n| ğŸ§  **è‡ªå‹•ç”Ÿæˆ** | `postbuild` ã§ `search-index.json` ã¨ `sitemap.xml` ã‚’è‡ªå‹•ç”Ÿæˆ |\n| ğŸš€ **ãƒ‡ãƒ—ãƒ­ã‚¤** | GitHub â†’ Vercel ã§ push å³ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆCI/CDæ§‹æˆï¼‰                |\n| ğŸ¨ **UIè¨­è¨ˆ**   | Tailwind + shadcn/ui + next-themes ã§ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ          |\n\nã“ã®ã‚ˆã†ã«ã€**ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹ã§å®Œçµã™ã‚‹é™çš„ãƒ–ãƒ­ã‚°**ãªãŒã‚‰ã€\næ›´æ–°æ€§ãƒ»æ‹¡å¼µæ€§ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ã™ã¹ã¦ä¸¡ç«‹ã§ãã¦ã„ã¾ã™ã€‚\n\n---\n\n### ğŸ’¡ ã“ã®æ§‹æˆã®é­…åŠ›\n\n- Markdownãªã®ã§ã€**VSCodeã‚„Neovimã§ãã®ã¾ã¾åŸ·ç­†å¯èƒ½**\n- è¨˜äº‹ã®æ›´æ–°ï¼Git commitã§å±¥æ­´ãŒæ®‹ã‚‹\n- `Fuse.js` æ¤œç´¢ãƒ»`sitemap.xml`ãƒ»`metadata` ã§SEOå¯¾ç­–ã‚‚ä¸‡å…¨\n- ãƒãƒ¼ãƒ ã§ã‚‚å€‹äººã§ã‚‚ã€**å†ç¾æ€§ã®é«˜ã„ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**ã‚’ç¶­æŒã§ãã‚‹\n\n> CMSã‚’ä½¿ã‚ãšã€**ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‚‰ã—ã„ãƒ–ãƒ­ã‚°é‹å–¶ã‚’æ¥µã‚ãŸã„äºº**ã«æœ€é©ãªæ§‹æˆã§ã™ã€‚\n\n---\n\n### ğŸš€ ä»Šå¾Œã®å±•é–‹\n\næœ¬è¨˜äº‹ã§ç´¹ä»‹ã—ãŸæ§‹æˆã¯ã€\nå€‹äººãƒ–ãƒ­ã‚°ã ã‘ã§ãªã**ãƒãƒ¼ãƒ ã®ãƒŠãƒ¬ãƒƒã‚¸å…±æœ‰ã‚µã‚¤ãƒˆ**ã«ã‚‚å¿œç”¨ã§ãã¾ã™ã€‚\n\n- `Notion API` ã‚„ `Contentlayer` ã§CMSåŒ–\n- `Supabase` ã‚„ `Giscus` ã§ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½ã‚’è¿½åŠ \n- `@vercel/og` ã§è¨˜äº‹ã”ã¨ã®OGPç”»åƒã‚’è‡ªå‹•ç”Ÿæˆ\n- AIè¦ç´„ãƒ»ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰æ©Ÿèƒ½ã‚’çµ„ã¿è¾¼ã‚€\n\nâ†’ ã“ã†ã—ãŸç™ºå±•ã‚‚ã™ã¹ã¦ã€**ã“ã®åŸºç›¤ã®ä¸Šã«ç©ã¿ä¸Šã’ã‚‹ã ã‘**ã§å®Ÿç¾å¯èƒ½ã§ã™ã€‚\n\n---\n\n### âœï¸ æœ€å¾Œã«\n\nã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«ã¨ã£ã¦ã€Œæ›¸ãã“ã¨ã€ã¯ã€\nçŸ¥è­˜ã®æ•´ç†ã§ã‚ã‚Šã€å­¦ã³ã®å†åˆ©ç”¨ã§ã™ã€‚\n\n**GitHubã§ç®¡ç†ã—ã€Next.jsã§è¡¨ç¤ºã—ã€Vercelã§å±Šã‘ã‚‹ã€‚**\nãã‚Œã ã‘ã§ã€ã‚ãªãŸã®å­¦ã³ã¯ã€Œè³‡ç”£ã€ã«å¤‰ã‚ã‚Šã¾ã™ã€‚\n\nãœã²ã€ã“ã®è¨˜äº‹ã‚’ãã£ã‹ã‘ã«\n**è‡ªåˆ†ã ã‘ã®æŠ€è¡“ãƒ–ãƒ­ã‚°**ã‚’ä½œã‚Šã€çŸ¥è­˜ã‚’ç©ã¿ä¸Šã’ã¦ã„ãã¾ã—ã‚‡ã†ã€‚\n\n---\n\nğŸ“¦ ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰æ§‹æˆä¾‹ã‚„ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®è©³ç´°ã¯ã€\næœ¬æ–‡ã®å„ç« ï¼ˆç‰¹ã« 5ç« ã€œ8ç« ï¼‰ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚\n\nã‚ãªãŸã®æ‰‹ã§æ§‹ç¯‰ã—ãŸãƒ–ãƒ­ã‚°ãŒã€\nã€Œå­¦ã³ã‚’ç™ºä¿¡ã™ã‚‹æœ€é«˜ã®ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆç’°å¢ƒã€ã«ãªã‚‹ã¯ãšã§ã™ã€‚ ğŸš€\n",
    "createdAt": "2025-10-04T15:53:36.991Z",
    "updatedAt": "2025-10-04T15:53:36.991Z"
  },
  {
    "title": "Go Ã— Next.js Ã— OpenAPIã§APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹",
    "summary": "Swagger â†’ OpenAPI â†’ Orval â†’ React Query ã¾ã§ã‚’è‡ªå‹•åŒ–ã—ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®æ›´æ–°ãŒå³ãƒ•ãƒ­ãƒ³ãƒˆã«åæ˜ ã•ã‚Œã‚‹ä»•çµ„ã¿ã‚’æ§‹ç¯‰ã™ã‚‹ã€‚Docker Composeã§é–‹ç™ºãƒ»æœ¬ç•ªç’°å¢ƒã‚’å®Œå…¨åˆ†é›¢ã—ãŸæ§‹æˆã‚‚ç´¹ä»‹ã€‚",
    "tags": [
      "Go",
      "Next.js",
      "OpenAPI",
      "Docker",
      "TypeScript"
    ],
    "slug": "Next.js/api-client-automation",
    "folder": "Next.js",
    "content": "\n## ã¯ã˜ã‚ã«\n\næœ€è¿‘ã®Webã‚¢ãƒ—ãƒªé–‹ç™ºã§ã¯ã€**ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’åˆ†é›¢ã—ãŸæ§‹æˆï¼ˆSPA + APIï¼‰**ãŒä¸€èˆ¬çš„ã«ãªã£ã¦ã„ã¾ã™ã€‚\nç‰¹ã« **Goï¼ˆFiberãªã©ï¼‰ã§REST APIã‚’æ§‹ç¯‰ã—ã€Next.jsã§ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’å®Ÿè£…ã™ã‚‹**ã‚±ãƒ¼ã‚¹ã¯å¤šã„ã§ã—ã‚‡ã†ã€‚\n\nã—ã‹ã—ã€ã“ã®æ§‹æˆã§ã‚ˆãç›´é¢ã™ã‚‹ã®ãŒ\n\n> ã€ŒAPIä»•æ§˜ã‚’å¤‰æ›´ã—ãŸã‚‰ã€ãƒ•ãƒ­ãƒ³ãƒˆå´ã®å‹ã‚‚å…¨éƒ¨ç›´ã™ã®ãŒé¢å€’ã€\n> ã€Œã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®åå‰ã‚„ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ§‹é€ ãŒãšã‚Œã¦ãƒã‚°ã‚‹ã€\n\nã¨ã„ã£ãŸã€**APIä»•æ§˜ã®ã‚ºãƒ¬ã«ã‚ˆã‚‹é–‹ç™ºã‚³ã‚¹ãƒˆ**ã§ã™ã€‚\n\n---\n\n### æœ¬è¨˜äº‹ã®ç›®çš„\n\nã“ã®è¨˜äº‹ã§ã¯ã€Goã§æ§‹ç¯‰ã—ãŸAPIã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ **Swaggerï¼ˆOpenAPIï¼‰å®šç¾©ã‚’è‡ªå‹•ç”Ÿæˆã—ã€Next.jså´ã§ãã®å®šç¾©ã‚’ã‚‚ã¨ã«å‹ä»˜ãAPIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹**ä»•çµ„ã¿ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚\n\nã“ã‚Œã«ã‚ˆã‚Š\n\n- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®æ›´æ–°ã«è¿½å¾“ã—ã¦ãƒ•ãƒ­ãƒ³ãƒˆãŒè‡ªå‹•ã§æ›´æ–°ã•ã‚Œã‚‹**\n- **é€šä¿¡å±¤ãŒå®Œå…¨ã«å‹å®‰å…¨ã«ãªã‚‹**\n- **APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®è¨˜è¿°ãŒä¸è¦ã«ãªã‚‹ï¼ˆReact Queryå¯¾å¿œï¼‰**\n\nã¨ã„ã†ã€ä¿å®ˆæ€§ã¨é–‹ç™ºåŠ¹ç‡ã®é«˜ã„é–‹ç™ºç’°å¢ƒã‚’å®Ÿç¾ã—ã¾ã™ã€‚\n\n---\n\n### ä½¿ç”¨ã™ã‚‹æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯\n\n| ãƒ¬ã‚¤ãƒ¤ãƒ¼     | æŠ€è¡“                  | å½¹å‰²                                    |\n| ------------ | --------------------- | --------------------------------------- |\n| **Backend**  | Go (Fiber)            | REST APIã‚µãƒ¼ãƒãƒ¼                        |\n|              | swaggo/swag           | Goã‚³ãƒ¼ãƒ‰ã‹ã‚‰Swagger(OpenAPI v2)ç”Ÿæˆ     |\n|              | openapi-generator-cli | Swagger v2 â†’ OpenAPI v3 å¤‰æ›            |\n| **Frontend** | Next.js (TypeScript)  | Reactãƒ™ãƒ¼ã‚¹ã®SPA                        |\n|              | Orval                 | OpenAPI v3ã‹ã‚‰å‹ä»˜ãAPIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”Ÿæˆ |\n|              | Axios                 | APIé€šä¿¡ã®å®Ÿä½“ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ               |\n|              | React Query           | ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†          |\n| **Infra**    | Docker / Makefile     | ç’°å¢ƒæ§‹ç¯‰ãƒ»è‡ªå‹•ç”Ÿæˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³          |\n\n---\n\n### å…¨ä½“ã®ãƒ•ãƒ­ãƒ¼\n\næœ¬è¨˜äº‹ã§å®Ÿè£…ã™ã‚‹è‡ªå‹•åŒ–ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å‹•ä½œã—ã¾ã™ï¼š\n\n```mermaid\ngraph TD\n    A[\"Goã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ï¼‹Swagã‚³ãƒ¡ãƒ³ãƒˆ\"]\n        -->|make gen-swagger-v2| B[\"swagger.yaml/jsonç”Ÿæˆ (OAS2)\"]\n    B -->|make gen-openapi-v3| C[\"OpenAPI v3ã«å¤‰æ›\"]\n    C -->|make gen-client| D[\"Next.jsç”¨APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”Ÿæˆ\"]\n    D --> E[\"Next.jsã§å‹å®‰å…¨ãª useQuery / useMutation å‘¼ã³å‡ºã—\"]\n```\n\nã™ã¹ã¦ã®ç”Ÿæˆå‡¦ç†ã¯ `Makefile` ã¨ `Docker` ã«ã‚ˆã£ã¦è‡ªå‹•åŒ–ã•ã‚Œã‚‹ãŸã‚ã€\né–‹ç™ºè€…ã¯ **ã‚³ãƒãƒ³ãƒ‰ä¸€ç™ºã§APIã¨ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®åŒæœŸã‚’ä¿ã¦ã‚‹**ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n\n---\n\n### å®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸\n\næœ€çµ‚çš„ã«ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªæ§‹æˆã«ãªã‚Šã¾ã™ã€‚\n\n```tree\nbackend/\n â”œâ”€ cmd/server/main.go\n â”œâ”€ internal/\n â”œâ”€ docs/\n â”‚   â”œâ”€ swagger.yaml\n â”‚   â”œâ”€ swagger.json\n â”‚   â””â”€ v3/\n â”‚        â”œâ”€ openapi.yaml\n â”‚        â””â”€ openapi.json\nfrontend/\n â”œâ”€ src/api/__generated__/      â† orvalãŒç”Ÿæˆ\n â”œâ”€ src/api/customAxios.ts\n â”œâ”€ src/api/orval.config.ts\n â”œâ”€ package.json\nMakefile\n```\n\nã“ã®ä»•çµ„ã¿ã‚’æ•´ãˆã¦ãŠã‘ã°ã€**APIè¨­è¨ˆã®å¤‰æ›´ãŒå³åº§ã«Next.jså´ã¸åæ˜ ã•ã‚Œã‚‹**ãŸã‚ã€\nAPIã¨ãƒ•ãƒ­ãƒ³ãƒˆã®ä»•æ§˜ä¸æ•´åˆã‚’æ ¹æœ¬çš„ã«é˜²ãã“ã¨ãŒã§ãã¾ã™ã€‚\n\n## 2. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆGo + Fiberï¼‰ã®Swaggerç”Ÿæˆ\n\næœ¬ç« ã§ã¯ã€Goã®APIã‚µãƒ¼ãƒãƒ¼ã«å¯¾ã—ã¦ **Swaggerãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ä»•çµ„ã¿** ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚\nSwaggerï¼ˆOpenAPI v2ï¼‰ã¯APIä»•æ§˜æ›¸ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã‚ã‚Šã€ã“ã‚Œã‚’ç”Ÿæˆã—ã¦ãŠãã“ã¨ã§å¾Œã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè‡ªå‹•ç”Ÿæˆã«ç¹‹ã’ã‚‰ã‚Œã¾ã™ã€‚\n\n---\n\n### 2.1 Swaggoã¨ã¯ï¼Ÿ\n\n[Swaggo](https://github.com/swaggo/swag) ã¯ã€Goã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã«åŸ‹ã‚è¾¼ã¾ã‚ŒãŸã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰è‡ªå‹•çš„ã«Swaggerï¼ˆOpenAPI v2ï¼‰ä»•æ§˜ã‚’ç”Ÿæˆã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚\n`swag init` ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€æŒ‡å®šã—ãŸã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆï¼ˆä¾‹ï¼š`cmd/server/main.go`ï¼‰ã‹ã‚‰ã‚³ãƒ¡ãƒ³ãƒˆã‚’è§£æã—ã€`docs/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« `swagger.yaml` ã¨ `swagger.json` ã‚’å‡ºåŠ›ã—ã¾ã™ã€‚\n\n---\n\n### 2.2 Swaggerã‚³ãƒ¡ãƒ³ãƒˆã®æ›¸ãæ–¹\n\nSwaggoã¯**é–¢æ•°ã‚³ãƒ¡ãƒ³ãƒˆã®å½¢å¼**ã‚’è§£æã—ã¾ã™ã€‚\nä»¥ä¸‹ã¯ `handler/test_handler.go` ã«å®šç¾©ã•ã‚ŒãŸAPIã®ä¾‹ã§ã™ã€‚\n\n```go\n// Create\n//\n// @Summary  Create a new test\n// @Description Creates a test record and returns it\n// @Tags   tests\n// @Produce  json\n// @Success  200 {object} TestResponse\n// @Failure  500 {object} map[string]string\n// @Router   /tests [post]\nfunc (h *TestHandler) Create(c *fiber.Ctx) error {\n test, err := h.uc.CreateTest(c.Context())\n if err != nil {\n  return c.Status(500).JSON(fiber.Map{\"error\": err.Error()})\n }\n return c.JSON(test)\n}\n```\n\n- `@Summary` â€¦ çŸ­ã„æ¦‚è¦\n- `@Description` â€¦ è©³ç´°ãªèª¬æ˜\n- `@Tags` â€¦ APIã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã™ã‚‹ã‚¿ã‚°å\n- `@Produce` â€¦ ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼\n- `@Success`, `@Failure` â€¦ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‹\n- `@Router` â€¦ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ãƒ‘ã‚¹ã¨ãƒ¡ã‚½ãƒƒãƒ‰\n\nSwaggoã¯ã“ã‚Œã‚‰ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’èª­ã¿å–ã£ã¦ã€è‡ªå‹•çš„ã«ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’å®šç¾©ã—ã¦ãã‚Œã¾ã™ã€‚\n\n---\n\n### 2.3 APIå…¨ä½“ã®ãƒ¡ã‚¿æƒ…å ±\n\nSwaggerãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒ¡ã‚¿æƒ…å ±ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ãƒ»ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãªã©ï¼‰ã¯ã€`main.go` ã«è¨˜è¿°ã—ã¾ã™ã€‚\n\n```go\n// @title      API\n// @version     1.0\n// @description    This is the API documentation for the application.\n// @host      localhost\n// @BasePath     /api\n// @schemes     http\n// @securityDefinitions.apikey ApiKeyAuth\n// @in       header\n// @name      Authorization\n```\n\nã“ã‚Œã«ã‚ˆã‚Šã€ç”Ÿæˆã•ã‚Œã‚‹ `swagger.yaml` ã«ä»¥ä¸‹ã®ã‚ˆã†ãªãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«æƒ…å ±ãŒè‡ªå‹•æŒ¿å…¥ã•ã‚Œã¾ã™ã€‚\n\n```yaml\ninfo:\n  title: API\n  version: \"1.0\"\n  description: This is the API documentation for the application.\nhost: localhost\nbasePath: /api\nschemes:\n  - http\nsecurityDefinitions:\n  ApiKeyAuth:\n    type: apiKey\n    in: header\n    name: Authorization\n```\n\n---\n\n### 2.4 Swagã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œ\n\né€šå¸¸ã§ã‚ã‚Œã°ãƒ­ãƒ¼ã‚«ãƒ«ã« `swag` ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ä»¥ä¸‹ã®ã‚ˆã†ã«å®Ÿè¡Œã—ã¾ã™ï¼š\n\n```bash\ngo install github.com/swaggo/swag/cmd/swag@latest\nswag init -g cmd/server/main.go --parseDependency\n```\n\n- `-g`ï¼šã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆï¼ˆ`main.go`ï¼‰ã‚’æŒ‡å®š\n- `--parseDependency`ï¼šä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆhandlerãªã©ï¼‰ã‚‚å«ã‚ã¦è§£æã™ã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³\n\nã“ã‚Œã«ã‚ˆã‚Šã€`backend/docs` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ï¼š\n\n```tree\nbackend/docs/\n â”œâ”€ docs.go\n â”œâ”€ swagger.json\n â””â”€ swagger.yaml\n```\n\n---\n\n### 2.5 Docker + Makefileã§ã®è‡ªå‹•åŒ–\n\nãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã« `swag` ã‚’å…¥ã‚ŒãŸããªã„å ´åˆã¯ã€Dockerã§ãƒ¯ãƒ³ã‚·ãƒ§ãƒƒãƒˆå®Ÿè¡Œã§ãã¾ã™ã€‚\nä»¥ä¸‹ã®Makefileã‚¿ã‚¹ã‚¯ã‚’ä½¿ãˆã°ã€ã©ã®ç’°å¢ƒã§ã‚‚åŒä¸€ã‚³ãƒãƒ³ãƒ‰ã§ç”Ÿæˆå¯èƒ½ã§ã™ã€‚\n\n```makefile\n.PHONY: gen-swagger-v2\ngen-swagger-v2:\n @echo \"[OAS2] Generate swagger.yaml & swagger.json\"\n docker run --rm -v $(PWD)/backend:/app -w /app golang:1.25-alpine \\\n   sh -c \"go install github.com/swaggo/swag/cmd/swag@latest && \\\n   swag fmt && \\\n   swag init -g cmd/server/main.go --parseDependency\"\n```\n\nå®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰ï¼š\n\n```bash\nmake gen-swagger-v2\n```\n\nã“ã‚Œã«ã‚ˆã‚Šã€Dockerã‚³ãƒ³ãƒ†ãƒŠå†…ã§SwaggoãŒå®Ÿè¡Œã•ã‚Œã€`backend/docs` ã« `swagger.yaml` ã¨ `swagger.json` ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚\n\n---\n\n### 2.6 ç”Ÿæˆçµæœã®ç¢ºèª\n\nç”Ÿæˆå¾Œã¯ã€`backend/docs/swagger.yaml` ã‚’é–‹ãã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ãªAPIå®šç¾©ãŒè‡ªå‹•ã§å‡ºåŠ›ã•ã‚Œã¦ã„ã‚‹ã¯ãšã§ã™ï¼š\n\n```yaml\npaths:\n  /tests:\n    get:\n      tags:\n        - tests\n      summary: List all tests\n      description: Returns all test records\n      responses:\n        \"200\":\n          description: OK\n          schema:\n            type: array\n            items:\n              $ref: \"#/definitions/TestResponse\"\n```\n\n---\n\n## 3. Swagger v2 â†’ OpenAPI v3 ã¸ã®å¤‰æ›\n\nSwaggoãŒç”Ÿæˆã™ã‚‹ `swagger.yaml` / `swagger.json` ã¯ **OpenAPI v2ï¼ˆ= Swagger 2.0ï¼‰** å½¢å¼ã§ã™ã€‚\nã—ã‹ã—ã€å¾Œè¿°ã™ã‚‹ **Orval**ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å´ã®APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè‡ªå‹•ç”Ÿæˆãƒ„ãƒ¼ãƒ«ï¼‰ã¯ **OpenAPI v3** ã«ã®ã¿å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚\n\nãã®ãŸã‚æœ¬ç« ã§ã¯ã€**Swagger v2 â†’ OpenAPI v3 ã®å¤‰æ›ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³**ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚\n\n---\n\n### 3.1 OpenAPI Generatorã¨ã¯ï¼Ÿ\n\n[OpenAPI Generator](https://openapi-generator.tech/) ã¯ã€OpenAPIä»•æ§˜æ›¸ã‹ã‚‰å¤šè¨€èªã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ»ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãªã©ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚\nå®Ÿã¯ã“ã®ãƒ„ãƒ¼ãƒ«ã«ã¯ã€**ä»•æ§˜å¤‰æ›ï¼ˆv2 â†’ v3ï¼‰**ã®æ©Ÿèƒ½ã‚‚å«ã¾ã‚Œã¦ã„ã¾ã™ã€‚\n\n```bash\nopenapi-generator-cli generate \\\n  -i swagger.yaml \\\n  -g openapi-yaml \\\n  -o ./v3\n```\n\n- `-i`: å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ« (`swagger.yaml`)\n- `-g`: å‡ºåŠ›å½¢å¼ï¼ˆã“ã“ã§ã¯ `openapi-yaml` ã¾ãŸã¯ `openapi`ï¼‰\n- `-o`: å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª\n- `--minimal-update`: æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹å ´åˆã«å·®åˆ†ã®ã¿æ›´æ–°ã™ã‚‹\n\nã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€Swagger 2.0å½¢å¼ã®YAMLã‚’è§£æã—ã€OpenAPI 3.0æº–æ‹ ã®å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã—ã¦ãã‚Œã¾ã™ã€‚\n\n---\n\n### 3.2 Dockerã§å®Ÿè¡Œã™ã‚‹ç†ç”±\n\nOpenAPI Generatorã¯Javaãƒ™ãƒ¼ã‚¹ã®ãƒ„ãƒ¼ãƒ«ã§ã‚ã‚Šã€ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Ÿè¡Œã™ã‚‹ã«ã¯Javaç’°å¢ƒãŒå¿…è¦ã§ã™ã€‚\nã—ã‹ã—ã€é–‹ç™ºãƒãƒ¼ãƒ å…¨å“¡ã«Javaã‚’å…¥ã‚Œã‚‹ã®ã¯ç¾å®Ÿçš„ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\n\nãã“ã§ä»Šå›ã¯ã€**å…¬å¼Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ `openapitools/openapi-generator-cli`** ã‚’ä½¿ã£ã¦å¤‰æ›ã‚’è¡Œã„ã¾ã™ã€‚\nDockerã§ã‚ã‚Œã°ã©ã®ç’°å¢ƒã§ã‚‚åŒä¸€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§å†ç¾ã§ãã€CI/CDã«ã‚‚çµ„ã¿è¾¼ã¿ã‚„ã™ããªã‚Šã¾ã™ã€‚\n\n---\n\n### 3.3 Makefileã§ã®è‡ªå‹•å¤‰æ›è¨­å®š\n\nä»¥ä¸‹ã® `gen-openapi-v3` ã‚¿ã‚¹ã‚¯ã‚’Makefileã«è¿½åŠ ã—ã¾ã™ã€‚\n\n```makefile\n.PHONY: gen-openapi-v3\ngen-openapi-v3:\n @echo \"[OAS3] Convert swagger.yaml â†’ openapi.yaml\"\n docker run --rm -v $(PWD)/backend/docs:/work openapitools/openapi-generator-cli:latest-release \\\n   generate -i /work/swagger.yaml -o /work/v3 -g openapi-yaml --minimal-update\n\n @echo \"[OAS3] Convert swagger.json â†’ openapi.json\"\n docker run --rm -v $(PWD)/backend/docs:/work openapitools/openapi-generator-cli:latest-release \\\n   generate -s -i /work/swagger.json -o /work/v3/openapi -g openapi --minimal-update\n\n @echo \"[Cleanup]\"\n docker run --rm -v $(PWD)/backend/docs/v3:/work golang:1.21-alpine \\\n   sh -c \"mv /work/openapi/openapi.yaml /work && mv /work/openapi/openapi.json /work && rm -rf /work/openapi\"\n```\n\nå®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰ï¼š\n\n```bash\nmake gen-openapi-v3\n```\n\nå®Ÿè¡Œçµæœï¼š\n\n```bash\n[OAS3] Convert swagger.yaml â†’ openapi.yaml\n[OAS3] Convert swagger.json â†’ openapi.json\n[Cleanup]\n```\n\nç”Ÿæˆå¾Œã®æ§‹æˆã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n\n```tree\nbackend/docs/\n â”œâ”€ swagger.yaml         â† Swaggoç”Ÿæˆ (v2)\n â”œâ”€ swagger.json         â† Swaggoç”Ÿæˆ (v2)\n â””â”€ v3/\n     â”œâ”€ openapi.yaml     â† OpenAPI Generatorã§å¤‰æ› (v3)\n     â””â”€ openapi.json     â† OpenAPI Generatorã§å¤‰æ› (v3)\n```\n\n---\n\n### 3.4 å®Ÿéš›ã«å¤‰æ›ã•ã‚ŒãŸå·®åˆ†ä¾‹\n\nå¤‰æ›å¾Œã®YAMLã‚’é–‹ãã¨ã€`swagger: \"2.0\"` ãŒ `openapi: 3.0.1` ã«å¤‰ã‚ã‚Šã€å®šç¾©ã‚¹ã‚­ãƒ¼ãƒã®æ§‹é€ ã‚‚æ–°å½¢å¼ã«ç½®ãæ›ã‚ã‚Šã¾ã™ã€‚\n\n#### å¤‰æ›å‰ï¼ˆSwagger 2.0ï¼‰\n\n```yaml\nswagger: \"2.0\"\ninfo:\n  title: API\npaths:\n  /tests:\n    get:\n      produces:\n        - application/json\n      responses:\n        200:\n          schema:\n            type: array\n            items:\n              $ref: \"#/definitions/TestResponse\"\n```\n\n#### å¤‰æ›å¾Œï¼ˆOpenAPI 3.0ï¼‰\n\n```yaml\nopenapi: 3.0.1\ninfo:\n  title: API\npaths:\n  /tests:\n    get:\n      responses:\n        200:\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: \"#/components/schemas/TestResponse\"\ncomponents:\n  schemas:\n    TestResponse:\n      type: object\n      properties:\n        id:\n          type: integer\n```\n\nOpenAPI 3.0ã§ã¯ `produces` / `consumes` ã®ä»£ã‚ã‚Šã« `content` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒå°å…¥ã•ã‚Œã€\nã‚¹ã‚­ãƒ¼ãƒå®šç¾©ã‚‚ `definitions` â†’ `components.schemas` ã«æ•´ç†ã•ã‚Œã¦ã„ã‚‹ã®ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚\n\n---\n\n### 3.5 OAS3å¤‰æ›ã®ãƒ¡ãƒªãƒƒãƒˆ\n\nOpenAPI v3ã¸å¤‰æ›ã™ã‚‹ã“ã¨ã§ã€ä»¥ä¸‹ã®åˆ©ç‚¹ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚\n\n| é …ç›®                           | èª¬æ˜                                                  |\n| ------------------------------ | ----------------------------------------------------- |\n| **æœ€æ–°ä»•æ§˜ã¸ã®å¯¾å¿œ**           | OpenAPI v3ã¯JSON Schemaäº’æ›ã§ã€ã‚ˆã‚Šå³å¯†ãªå‹å®šç¾©ãŒå¯èƒ½ |\n| **ãƒ„ãƒ¼ãƒ«ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®æ‹¡å¼µæ€§** | Orvalãƒ»Stoplightãªã©æœ€æ–°ãƒ„ãƒ¼ãƒ«ç¾¤ãŒv3ã«æº–æ‹             |\n| **å‹ç”Ÿæˆã®ç²¾åº¦å‘ä¸Š**           | Nullableã‚„OneOfãªã©è¤‡é›‘ãªã‚¹ã‚­ãƒ¼ãƒã‚’æ­£ç¢ºã«è¡¨ç¾ã§ãã‚‹   |\n| **å°†æ¥çš„ãªæ‹¡å¼µæ€§**             | gRPC Gatewayã‚„GraphQLã¨ã®é€£æºã«ã‚‚ç™ºå±•å¯èƒ½             |\n\n---\n\n### 3.6 ä¸€é€£ã®æµã‚Œã‚’ãŠã•ã‚‰ã„\n\nã“ã“ã¾ã§ã§ã€Goã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‹ã‚‰æ¬¡ã®ã‚ˆã†ãªæµã‚ŒãŒå®Œæˆã—ã¾ã—ãŸï¼š\n\n```mermaid\nflowchart TD\n    A[\"Goã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰\\n(Fiber + Swagã‚³ãƒ¡ãƒ³ãƒˆ)\"]\n        --> B[\"make gen-swagger-v2\\nâ†’ swagger.yaml / swagger.json (OAS2)\"]\n        --> C[\"make gen-openapi-v3\\nâ†’ openapi.yaml / openapi.json (OAS3)\"]\n```\n\nã“ã®OpenAPI v3å®šç¾©ã‚’ä½¿ãˆã°ã€æ¬¡ç« ã§ **Next.jså´ã®APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’è‡ªå‹•ç”Ÿæˆ** ã§ãã¾ã™ã€‚\n\n---\n\n## 4. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆNext.jsï¼‰å´ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”Ÿæˆ\n\nå‰ç« ã¾ã§ã§ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‹ã‚‰ **OpenAPI v3å½¢å¼** ã®ä»•æ§˜æ›¸ãŒè‡ªå‹•ç”Ÿæˆã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\nã“ã“ã‹ã‚‰ã¯ã€ãã®ä»•æ§˜ã‚’ã‚‚ã¨ã« **Next.jsï¼ˆTypeScriptï¼‰å´ã§å‹å®‰å…¨ãªAPIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’è‡ªå‹•ç”Ÿæˆ** ã—ã¦ã„ãã¾ã™ã€‚\n\nä½¿ç”¨ã™ã‚‹ã®ã¯ã€OpenAPIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”Ÿæˆãƒ„ãƒ¼ãƒ« **Orval** ã§ã™ã€‚\n\n---\n\n### 4.1 Orvalã¨ã¯ï¼Ÿ\n\n[Orval](https://orval.dev/) ã¯ã€OpenAPIä»•æ§˜ã‹ã‚‰**å‹ä»˜ãã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’è‡ªå‹•ç”Ÿæˆ**ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚\nç”Ÿæˆã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ‰ã¯TypeScriptã§ã€Axiosã‚„React Queryã¨ã„ã£ãŸä¸»è¦ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨çµ±åˆã§ãã¾ã™ã€‚\n\n#### Orvalã‚’ä½¿ã†ãƒ¡ãƒªãƒƒãƒˆ\n\n| é …ç›®                | å†…å®¹                                                            |\n| ------------------- | --------------------------------------------------------------- |\n| **å‹å®‰å…¨ãªAPIé€šä¿¡** | OpenAPIã®ã‚¹ã‚­ãƒ¼ãƒã«åŸºã¥ã„ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ»ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å®Œå…¨ã«å‹ä»˜ã‘ |\n| **React Queryé€£æº** | `useGetUsersQuery()` ãªã©ã€å³ä½¿ãˆã‚‹ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã‚’è‡ªå‹•ç”Ÿæˆ     |\n| **è‡ªå‹•æ›´æ–°**        | OpenAPIä»•æ§˜ãŒå¤‰ã‚ã‚‹ãŸã³ã«å†ç”Ÿæˆã™ã‚‹ã ã‘ã§å¸¸ã«æœ€æ–°åŒ–             |\n| **é–‹ç™ºåŠ¹ç‡**        | ãƒ•ãƒ­ãƒ³ãƒˆå´ã§APIãƒ­ã‚¸ãƒƒã‚¯ã‚’æ›¸ãå¿…è¦ãŒãªããªã‚‹                     |\n\n---\n\n### 4.2 å¿…è¦ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å°å…¥\n\nã¾ãšã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ä»¥ä¸‹ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n\n```bash\npnpm add orval -D\npnpm add axios\npnpm add @tanstack/react-query@4\n```\n\n- `orval`ï¼šAPIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè‡ªå‹•ç”Ÿæˆãƒ„ãƒ¼ãƒ«\n- `axios`ï¼šHTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆOrvalãŒå†…éƒ¨ã§åˆ©ç”¨ï¼‰\n- `@tanstack/react-query`ï¼šãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒç®¡ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆv4ã‚’æŒ‡å®šï¼‰\n\n---\n\n### 4.3 orval.config.ts ã®è¨­å®š\n\nOrvalã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ `frontend/orval.config.ts` ã«ä½œæˆã—ã¾ã™ã€‚\nã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§ã€å…¥åŠ›ã™ã‚‹OpenAPIå®šç¾©ã¨å‡ºåŠ›å…ˆã®æ§‹é€ ã‚’å®šç¾©ã—ã¾ã™ã€‚\n\n```ts\nimport { defineConfig } from \"orval\";\n\nexport default defineConfig({\n  stepOfficialWebsite: {\n    input: \"../backend/docs/v3/openapi.yaml\",\n    output: {\n      target: \"./src/api/__generated__/\",\n      schemas: \"./src/api/__generated__/schemas\",\n      client: \"react-query\",\n      mode: \"tags-split\",\n      override: {\n        mutator: {\n          path: \"./src/api/customAxios.ts\",\n          name: \"customAxios\",\n          default: true,\n        },\n        query: {\n          useQuery: true,\n          usePrefetch: true,\n        },\n      },\n    },\n  },\n});\n```\n\n#### å„è¨­å®šã®è§£èª¬\n\n| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰         | æ„å‘³                                                   |\n| ------------------ | ------------------------------------------------------ |\n| `input`            | å¤‰æ›å…ƒã®OpenAPIãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆç›¸å¯¾ãƒ‘ã‚¹ã§æŒ‡å®šï¼‰              |\n| `target`           | è‡ªå‹•ç”Ÿæˆã‚³ãƒ¼ãƒ‰ã®å‡ºåŠ›å…ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª                     |\n| `schemas`          | ã‚¹ã‚­ãƒ¼ãƒå‹å®šç¾©ã®å‡ºåŠ›å…ˆ                                 |\n| `client`           | ä½¿ç”¨ã™ã‚‹HTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆ`react-query`ã‚’æŒ‡å®šï¼‰        |\n| `mode`             | å‡ºåŠ›åˆ†å‰²ãƒ¢ãƒ¼ãƒ‰ï¼ˆ`tags-split`ã¯ã‚¿ã‚°å˜ä½ã§ãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ï¼‰ |\n| `override.mutator` | Axiosè¨­å®šã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®š              |\n| `override.query`   | React Queryç”¨ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®š                        |\n\n---\n\n### 4.4 ã‚«ã‚¹ã‚¿ãƒ Axiosã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®å®Ÿè£…\n\nAPIå‘¼ã³å‡ºã—æ™‚ã® `baseURL` ã‚„ãƒ­ã‚°å‡¦ç†ã‚’çµ±ä¸€ã™ã‚‹ãŸã‚ã«ã€`customAxios.ts` ã‚’å®šç¾©ã—ã¾ã™ã€‚\nOrvalã¯ `mutator` çµŒç”±ã§ã“ã®Axiosã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚\n\n```ts\nimport axios, { AxiosRequestConfig, AxiosError } from \"axios\";\n\nconst isServer = typeof window === \"undefined\";\n\nconst customAxios = async <T = unknown>(\n  config: AxiosRequestConfig,\n  options?: AxiosRequestConfig,\n): Promise<T> => {\n  const instance = axios.create({\n    baseURL: isServer ? \"http://backend:8080\" : \"/api\",\n  });\n\n  try {\n    const res = await instance.request({\n      ...config,\n      ...options,\n      headers: {\n        ...config.headers,\n        ...options?.headers,\n      },\n    });\n\n    return res.data;\n  } catch (err) {\n    const error = err as AxiosError;\n\n    if (isServer) {\n      console.error(\"Failed to request:\", {\n        url: config.url,\n        method: config.method,\n        status: error.response?.status,\n        data: error.response?.data,\n      });\n    }\n\n    throw error;\n  }\n};\n\nexport default customAxios;\n```\n\n#### ğŸ’¡ãƒã‚¤ãƒ³ãƒˆ\n\n- SSRç’°å¢ƒï¼ˆNext.jsã®ã‚µãƒ¼ãƒãƒ¼å´ï¼‰ã§ã¯ `http://backend:8080` ã‚’ä½¿ç”¨\n- CSRç’°å¢ƒï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ï¼‰ã§ã¯ `/api` ã«ãƒ—ãƒ­ã‚­ã‚·\n- ä¾‹å¤–ç™ºç”Ÿæ™‚ã«ã¯ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ãƒ­ã‚°å‡ºåŠ›\n\n---\n\n### 4.5 package.json ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆè¿½åŠ \n\nOrvalã‚’npmã‚¹ã‚¯ãƒªãƒ—ãƒˆã‹ã‚‰å‘¼ã³å‡ºã›ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚\n\n```json\n{\n  \"scripts\": {\n    \"dev\": \"next dev --turbopack\",\n    \"build\": \"next build --turbopack\",\n    \"start\": \"next start\",\n    \"lint\": \"eslint\",\n    \"gen:client\": \"orval --config orval.config.ts\"\n  }\n}\n```\n\nã“ã‚Œã§ã€æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚Œã°ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã§ãã¾ã™ã€‚\n\n```bash\npnpm run gen:client\n```\n\n---\n\n### 4.6 Makefileã«ã‚ˆã‚‹è‡ªå‹•åŒ–\n\nã•ã‚‰ã«ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨åŒæ§˜ã«Makefileã§çµ±åˆã‚¿ã‚¹ã‚¯ã‚’ç”¨æ„ã—ã¾ã™ã€‚\n\n```makefile\n.PHONY: gen-client\ngen-client:\n @echo \"[Clean] Remove old generated client\"\n rm -rf frontend/src/api/__generated__\n @echo \"[Generate] Running npm run gen:client\"\n cd frontend && npm run gen:client\n```\n\nã‚³ãƒãƒ³ãƒ‰ä¸€ç™ºã§å¤ã„ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’å‰Šé™¤ â†’ å†ç”Ÿæˆã¾ã§å®Ÿè¡Œå¯èƒ½ã§ã™ã€‚\n\n```bash\nmake gen-client\n```\n\n---\n\n### 4.7 ç”Ÿæˆçµæœã®ç¢ºèª\n\nã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œå¾Œã€ä»¥ä¸‹ã®ã‚ˆã†ãªæ§‹æˆãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚\n\n```tree\nfrontend/\n â”œâ”€ src/api/\n â”‚   â”œâ”€ __generated__/        â† è‡ªå‹•ç”Ÿæˆã‚³ãƒ¼ãƒ‰\n â”‚   â”‚   â”œâ”€ schemas/\n â”‚   â”‚   â”‚   â””â”€ TestResponse.ts\n â”‚   â”‚   â”œâ”€ tests/\n â”‚   â”‚   â”‚   â”œâ”€ useGetTestsQuery.ts\n â”‚   â”‚   â”‚   â””â”€ useCreateTestMutation.ts\n â”‚   â”‚   â””â”€ index.ts\n â”‚   â”œâ”€ customAxios.ts\n â”‚   â””â”€ orval.config.ts\n```\n\nç”Ÿæˆã•ã‚ŒãŸé–¢æ•°ãƒ»ãƒ•ãƒƒã‚¯ä¾‹ï¼š\n\n```ts\nimport {\n  useGetTestsQuery,\n  useCreateTestMutation,\n} from \"@/api/__generated__/tests\";\n\n// ä¸€è¦§å–å¾—\nconst { data } = useGetTestsQuery();\n\n// æ–°è¦ä½œæˆ\nconst { mutate } = useCreateTestMutation();\nmutate({ ...payload });\n```\n\nã“ã‚Œã§ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯**å®Œå…¨å‹å®‰å…¨ã‹ã¤è‡ªå‹•åŒæœŸã•ã‚ŒãŸAPIå‘¼ã³å‡ºã—ç’°å¢ƒ**ã‚’å¾—ã‚‰ã‚Œã¾ã™ã€‚\n\n---\n\n### 4.8 é–‹ç™ºãƒ•ãƒ­ãƒ¼å…¨ä½“ã®çµ±åˆ\n\nã“ã“ã¾ã§ã®å·¥ç¨‹ã‚’Makefileã«ã¾ã¨ã‚ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ãªä¸€é€£ã®è‡ªå‹•åŒ–ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãŒå®Œæˆã—ã¾ã™ï¼š\n\n```bash\nmake gen-swagger-v2   # Goã‹ã‚‰Swagger (v2) ç”Ÿæˆ\nmake gen-openapi-v3   # OpenAPI v3ã«å¤‰æ›\nmake gen-client       # Next.jså´ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè‡ªå‹•ç”Ÿæˆ\n```\n\nã“ã‚Œã‚‰ã‚’é †ã«å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã€**ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å¤‰æ›´ãŒãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¾ã§è‡ªå‹•ã§åæ˜ ã•ã‚Œã‚‹**ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n\n---\n\n### âœ… ã¾ã¨ã‚\n\n| ã‚¹ãƒ†ãƒƒãƒ—         | ãƒ„ãƒ¼ãƒ«            | å‡ºåŠ›                        |\n| ---------------- | ----------------- | --------------------------- |\n| Goã‚³ãƒ¡ãƒ³ãƒˆè§£æ   | Swaggo            | swagger.yaml / swagger.json |\n| ä»•æ§˜å¤‰æ›         | OpenAPI Generator | openapi.yaml / openapi.json |\n| ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”Ÿæˆ | Orval             | TypeScript APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ  |\n\nã“ã‚Œã«ã‚ˆã‚Šã€ã€ŒAPIä»•æ§˜ã‚’ç›´ã—ãŸã‚‰ãƒ•ãƒ­ãƒ³ãƒˆãŒå£Šã‚Œã‚‹ã€ã¨ã„ã†ã‚ˆãã‚ã‚‹å•é¡Œã‚’æ ¹æœ¬çš„ã«é˜²ãã¤ã¤ã€**é–‹ç™ºé€Ÿåº¦ã¨å“è³ªã‚’ä¸¡ç«‹**ã§ãã¾ã™ã€‚\n\n## 5. React Queryã¨ã®çµ±åˆ\n\nOrvalã¯ã€OpenAPIä»•æ§˜ã‹ã‚‰**Axios + React Queryãƒ™ãƒ¼ã‚¹ã®APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ**ã‚’è‡ªå‹•ç”Ÿæˆã—ã¾ã™ã€‚\nã“ã®ä»•çµ„ã¿ã‚’æ´»ã‹ã™ã“ã¨ã§ã€Next.jsã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯ã€Œæ‰‹æ›¸ãã®APIå‘¼ã³å‡ºã—ã€ã‹ã‚‰è§£æ”¾ã•ã‚Œã€**å®Œå…¨ã«å‹å®‰å…¨ãªãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒå±¤**ã‚’å®Ÿç¾ã§ãã¾ã™ã€‚\n\n---\n\n### 5.1 React Queryã¨ã¯ï¼Ÿ\n\n[React Queryï¼ˆ@tanstack/react-queryï¼‰](https://tanstack.com/query/v4/docs/framework/react/overview) ã¯ã€\nãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ»å†å–å¾—ãªã©ã‚’è‡ªå‹•ã§ç®¡ç†ã—ã¦ãã‚Œã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚\n\n#### ğŸ’¡ ã“ã‚Œã¾ã§ã®å•é¡Œç‚¹\n\nå¾“æ¥ã®`useEffect`ï¼‹`axios`æ§‹æˆã§ã¯ï¼š\n\n- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã‚„ã‚¨ãƒ©ãƒ¼å‡¦ç†ã‚’æ¯å›æ›¸ãå¿…è¦ãŒã‚ã‚‹\n- ãƒ‡ãƒ¼ã‚¿ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒåŠ¹ã‹ãªã„ãŸã‚ç„¡é§„ãªå†ãƒ•ã‚§ãƒƒãƒãŒç™ºç”Ÿ\n- ä¸¦åˆ—ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚„å†å–å¾—ã®åˆ¶å¾¡ãŒç…©é›‘\n\n#### âœ… React Queryã‚’ä½¿ã†ã¨\n\n- `useQuery` / `useMutation` ã ã‘ã§ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»æ›´æ–°ãŒå®Œçµ\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»ãƒªãƒˆãƒ©ã‚¤ãƒ»å†ãƒ•ã‚§ãƒƒãƒãªã©ã‚’è‡ªå‹•ç®¡ç†\n- ãƒ•ãƒ­ãƒ³ãƒˆå´ã®ã€ŒçŠ¶æ…‹ç®¡ç†ã€ã‚’å¤§å¹…ã«å‰Šæ¸›ã§ãã‚‹\n\n---\n\n### 5.2 Orvalã«ã‚ˆã‚‹React Queryãƒ•ãƒƒã‚¯ç”Ÿæˆ\n\n`orval.config.ts` ã§ `client: \"react-query\"` ã‚’æŒ‡å®šã—ã¦ã„ã‚‹ãŸã‚ã€\n`pnpm run gen:client` ã‚’å®Ÿè¡Œã™ã‚‹ã¨è‡ªå‹•çš„ã«React Queryå¯¾å¿œã®ãƒ•ãƒƒã‚¯ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚\n\n#### ç”Ÿæˆä¾‹\n\n```tree\nfrontend/src/api/__generated__/tests/\n â”œâ”€ useGetTestsQuery.ts\n â”œâ”€ useCreateTestMutation.ts\n â””â”€ index.ts\n```\n\nã“ã‚Œã‚‰ã®ãƒ•ãƒƒã‚¯ã‚’ãã®ã¾ã¾Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§å‘¼ã³å‡ºã›ã¾ã™ã€‚\n\n---\n\n### 5.3 QueryClientã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n\nã¾ãšã€ã‚¢ãƒ—ãƒªå…¨ä½“ã§React Queryã‚’æœ‰åŠ¹ã«ã™ã‚‹ãŸã‚ã€\nNext.jsã®`_app.tsx`ï¼ˆã¾ãŸã¯`layout.tsx`ï¼‰ã§`QueryClientProvider`ã‚’è¨­å®šã—ã¾ã™ã€‚\n\n```tsx\n// src/pages/_app.tsx\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { ReactQueryDevtools } from \"@tanstack/react-query-devtools\";\nimport type { AppProps } from \"next/app\";\n\nconst queryClient = new QueryClient();\n\nexport default function App({ Component, pageProps }: AppProps) {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <Component {...pageProps} />\n      <ReactQueryDevtools initialIsOpen={false} />\n    </QueryClientProvider>\n  );\n}\n```\n\nã“ã‚Œã§å…¨ãƒšãƒ¼ã‚¸ã‹ã‚‰è‡ªå‹•ç”Ÿæˆãƒ•ãƒƒã‚¯ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n\n---\n\n### 5.4 å–å¾—å‡¦ç†ã®ä¾‹ï¼š`useGetTestsQuery`\n\nOrvalãŒè‡ªå‹•ç”Ÿæˆã™ã‚‹ `useGetTestsQuery` ã¯ã€\n`GET /tests` ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«å¯¾å¿œã—ãŸå‹å®‰å…¨ãªãƒ•ã‚§ãƒƒãƒé–¢æ•°ã§ã™ã€‚\n\n```tsx\n// src/pages/tests.tsx\nimport { useGetTestsQuery } from \"@/api/__generated__/tests\";\n\nexport default function TestsPage() {\n  const { data, isLoading, isError } = useGetTestsQuery();\n\n  if (isLoading) return <p>Loading...</p>;\n  if (isError) return <p>Failed to load data.</p>;\n\n  return (\n    <div>\n      <h1>Tests</h1>\n      <ul>{data?.map((item) => <li key={item.id}>ID: {item.id}</li>)}</ul>\n    </div>\n  );\n}\n```\n\n#### Dockeræ§‹æˆã®ç‰¹å¾´\n\n- `data` ã®å‹ã¯è‡ªå‹•çš„ã« `TestResponse[]` ã¨æ¨è«–ã•ã‚Œã‚‹\n- `isLoading`, `isError` ãªã©ã®çŠ¶æ…‹ã‚‚æ¨™æº–æä¾›\n- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å¤‰æ›´ã«è¿½å¾“ã—ã¦å‹ãŒå³åº§ã«æ›´æ–°\n\n---\n\n### 5.5 ç™»éŒ²å‡¦ç†ã®ä¾‹ï¼š`useCreateTestMutation`\n\nPOSTã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆ`/tests [post]`ï¼‰ã«å¯¾å¿œã™ã‚‹ã®ãŒ `useCreateTestMutation`ã€‚\nãƒŸãƒ¥ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæ›´æ–°ç³»å‡¦ç†ï¼‰ã¯React Queryã®`mutate`ã‚’ä½¿ã£ã¦å®Ÿè¡Œã—ã¾ã™ã€‚\n\n```tsx\n// src/pages/create-test.tsx\nimport { useState } from \"react\";\nimport { useCreateTestMutation } from \"@/api/__generated__/tests\";\n\nexport default function CreateTestPage() {\n  const [text, setText] = useState(\"\");\n  const mutation = useCreateTestMutation();\n\n  const handleSubmit = () => {\n    mutation.mutate(\n      { name: text }, // å…¥åŠ›ãƒ‡ãƒ¼ã‚¿\n      {\n        onSuccess: (data) => alert(`Created! ID: ${data.id}`),\n        onError: (err) => alert(\"Failed: \" + err),\n      },\n    );\n  };\n\n  return (\n    <div>\n      <h1>Create Test</h1>\n      <input value={text} onChange={(e) => setText(e.target.value)} />\n      <button onClick={handleSubmit} disabled={mutation.isLoading}>\n        {mutation.isLoading ? \"Submitting...\" : \"Submit\"}\n      </button>\n    </div>\n  );\n}\n```\n\n#### ãƒã‚¤ãƒ³ãƒˆ\n\n- `mutate` ã¯Promiseã§ã¯ãªãã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ™ãƒ¼ã‚¹ã§æ‰±ã†\n- çŠ¶æ…‹å¤‰åŒ–ï¼ˆ`isLoading`, `isSuccess`, `isError`ï¼‰ã‚’è‡ªå‹•ç®¡ç†\n- æˆåŠŸæ™‚ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’è‡ªå‹•ã§æ›´æ–°ã™ã‚‹è¨­å®šã‚‚å¯èƒ½\n\n---\n\n### 5.6 ãƒ‡ãƒ¼ã‚¿ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨å†ãƒ•ã‚§ãƒƒãƒ\n\nReact Queryã®æœ€å¤§ã®å¼·ã¿ã¯ã€**è‡ªå‹•ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨å†ãƒ•ã‚§ãƒƒãƒåˆ¶å¾¡**ã§ã™ã€‚\nOrvalç”Ÿæˆãƒ•ãƒƒã‚¯ã‚‚å†…éƒ¨çš„ã« `useQuery` ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹ãŸã‚ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒè‡ªå‹•ã§åŠ¹ãã¾ã™ã€‚\n\n```tsx\nconst { data } = useGetTestsQuery(undefined, {\n  staleTime: 1000 * 60 * 5, // 5åˆ†é–“ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ‰åŠ¹\n});\n```\n\n- `staleTime`ï¼šãƒ‡ãƒ¼ã‚¿ã‚’å†å–å¾—ã›ãšã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ä½¿ã†æœŸé–“\n- `refetchOnWindowFocus`ï¼šãƒ•ã‚©ãƒ¼ã‚«ã‚¹æ™‚ã«å†ãƒ•ã‚§ãƒƒãƒã™ã‚‹ã‹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆtrueï¼‰\n- `enabled`ï¼šæ¡ä»¶ä»˜ããƒ•ã‚§ãƒƒãƒã‚’åˆ¶å¾¡\n\nã“ã‚Œã‚‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯OrvalçµŒç”±ã§ã‚‚ãã®ã¾ã¾åˆ©ç”¨å¯èƒ½ã§ã™ã€‚\n\n---\n\n### 5.7 Orvalã®ãƒ—ãƒªãƒ•ã‚§ãƒƒãƒæ©Ÿèƒ½\n\n`orval.config.ts` ã® `usePrefetch: true` ã«ã‚ˆã‚Šã€\n`usePrefetchGetTestsQuery()` ã®ã‚ˆã†ãª**äº‹å‰å–å¾—ç”¨é–¢æ•°**ã‚‚è‡ªå‹•ç”Ÿæˆã•ã‚Œã¾ã™ã€‚\n\n```tsx\nconst prefetch = usePrefetchGetTestsQuery();\n\nuseEffect(() => {\n  prefetch(); // ãƒšãƒ¼ã‚¸é·ç§»å‰ã«ãƒ‡ãƒ¼ã‚¿ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥\n}, []);\n```\n\nã“ã‚Œã«ã‚ˆã‚Šã€ãƒšãƒ¼ã‚¸é·ç§»æ™‚ã«ã™ã§ã«ãƒ‡ãƒ¼ã‚¿ãŒã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã¦ãŠã‚Šã€**ç¬æ™‚ã«è¡¨ç¤º**ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n\n---\n\n### 5.8 React Query Devtools ã§ã®ãƒ‡ãƒãƒƒã‚°\n\né–‹ç™ºä¸­ã¯ [React Query Devtools](https://tanstack.com/query/v4/docs/devtools) ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã¨ä¾¿åˆ©ã§ã™ã€‚\nã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®çŠ¶æ…‹ã‚„ãƒ•ã‚§ãƒƒãƒå±¥æ­´ã‚’å¯è¦–åŒ–ã§ãã¾ã™ã€‚\n\n```tsx\nimport { ReactQueryDevtools } from \"@tanstack/react-query-devtools\";\n\n// _app.tsx å†…ã«è¿½åŠ æ¸ˆã¿\n<ReactQueryDevtools initialIsOpen={false} />;\n```\n\nãƒ–ãƒ©ã‚¦ã‚¶å³ä¸‹ã« Devtools ãŒè¡¨ç¤ºã•ã‚Œã€APIã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æŒ™å‹•ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ç¢ºèªå¯èƒ½ã§ã™ã€‚\n\n---\n\n### ã¾ã¨ã‚ï¼šãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰\n\n| è¦ç´                       | å†…å®¹                                            |\n| ------------------------- | ----------------------------------------------- |\n| **ã‚¯ã‚¨ãƒªç³»API**           | `useGetXxxQuery()` ã§è‡ªå‹•ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä»˜ããƒ•ã‚§ãƒƒãƒ |\n| **ãƒŸãƒ¥ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ç³»API** | `useCreateXxxMutation()` ã§POST/PUT/DELETEæ“ä½œ  |\n| **å‹å®šç¾©**                | OpenAPIã‚¹ã‚­ãƒ¼ãƒã‹ã‚‰è‡ªå‹•ç”Ÿæˆï¼ˆå¤‰æ›´ã«ã‚‚å³è¿½å¾“ï¼‰   |\n| **React Queryçµ±åˆ**       | ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»ãƒªãƒˆãƒ©ã‚¤ãƒ»çŠ¶æ…‹ç®¡ç†ãŒè‡ªå‹•åŒ–          |\n\nã“ã‚Œã§ã€**ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ â†’ OpenAPI â†’ Orval â†’ React Query â†’ UI**\nã¨ã„ã†ã€ç†æƒ³çš„ãªãƒ•ãƒ«è‡ªå‹•å‹å®‰å…¨ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ãŒå®Œæˆã—ã¾ã—ãŸã€‚\n\n---\n\n## 6. Docker Composeã§ã®é€£æºå®Ÿè¡Œ\n\nã“ã“ã¾ã§ã§ã€\n\n- Goï¼ˆFiberï¼‰ã§APIã‚µãƒ¼ãƒãƒ¼ã‚’æ§‹ç¯‰ã—\n- Swagger â†’ OpenAPI â†’ Orval ã§è‡ªå‹•ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ç”Ÿæˆã—\n- Next.js ã§React Queryã‚’ä½¿ã£ã¦ãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ã†\n  ã¨ã„ã†ä»•çµ„ã¿ã‚’å®Œæˆã•ã›ã¾ã—ãŸã€‚\n\nã“ã®ç« ã§ã¯ã€**Docker Composeã§ã€Œé–‹ç™ºç’°å¢ƒã€ã¨ã€Œæœ¬ç•ªç’°å¢ƒã€ã‚’æ˜ç¢ºã«åˆ†é›¢ã—ã¤ã¤é€£æºå‹•ä½œã•ã›ã‚‹æ§‹æˆ**ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚\n\n---\n\n### 6.1 å…¨ä½“æ§‹æˆå›³\n\nã‚¢ãƒ—ãƒªã¯ä»¥ä¸‹ã®4ã‚µãƒ¼ãƒ“ã‚¹ã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ã€‚\n\n```mermaid\ngraph TD\n    F[\"frontend\"] --> N[\"nginx\"]\n    N --> B[\"backend\"]\n    B --> D[\"db (PostgreSQL)\"]\n```\n\n- **frontend**ï¼šNext.jsï¼ˆTypeScriptï¼‰\n- **backend**ï¼šGoï¼ˆFiberï¼‰\n- **db**ï¼šPostgreSQL\n- **nginx**ï¼šãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆãƒ»ãƒãƒƒã‚¯ã®çµ±åˆï¼‰\n\n---\n\n### 6.2 é–‹ç™ºç’°å¢ƒï¼ˆdocker-compose.dev.ymlï¼‰\n\né–‹ç™ºç’°å¢ƒã§ã¯ã€**ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ãƒ»åŒæœŸãƒã‚¦ãƒ³ãƒˆãƒ»è»½é‡å†ãƒ“ãƒ«ãƒ‰**ã‚’é‡è¦–ã—ãŸæ§‹æˆã§ã™ã€‚\n\n```yaml\nversion: \"3.9\"\n\nx-common: &common\n  restart: unless-stopped\n  networks:\n    - app-network\n\nservices:\n  backend:\n    <<: *common\n    build:\n      context: ..\n      dockerfile: deploy/docker/backend/Dockerfile.dev\n    volumes:\n      - ../backend:/app\n      - go_mod_cache:/go/pkg/mod\n    ports:\n      - \"8080:8080\"\n    env_file:\n      - .env.dev\n    develop:\n      watch:\n        - action: sync\n          path: ../backend\n          target: /app\n        - action: rebuild\n          path: ../backend/go.mod\n\n  frontend:\n    <<: *common\n    build:\n      context: ..\n      dockerfile: deploy/docker/frontend/Dockerfile.dev\n    volumes:\n      - ../frontend:/app\n      - /app/node_modules\n      - /app/.next\n    ports:\n      - \"3000:3000\"\n    env_file:\n      - .env.dev\n    develop:\n      watch:\n        - action: sync\n          path: ../frontend\n          target: /app\n          ignore:\n            - node_modules/\n            - .next/\n        - action: rebuild\n          path: ../frontend/package.json\n\n  db:\n    <<: *common\n    build:\n      context: ..\n      dockerfile: deploy/docker/db/Dockerfile\n    ports:\n      - \"5432:5432\"\n    volumes:\n      - db_data:/var/lib/postgresql/data\n    env_file:\n      - .env.dev\n    command:\n      [\n        \"postgres\",\n        \"-c\",\n        \"log_statement=all\",\n        \"-c\",\n        \"log_destination=stderr\",\n        \"-c\",\n        \"shared_preload_libraries=pg_stat_statements\",\n      ]\n\n  nginx:\n    <<: *common\n    build:\n      context: ..\n      dockerfile: deploy/docker/nginx/Dockerfile\n    ports:\n      - \"80:80\"\n    depends_on:\n      - frontend\n      - backend\n\nvolumes:\n  db_data:\n    driver: local\n  go_mod_cache:\n    driver: local\n  pnpm_cache:\n    driver: local\n\nnetworks:\n  app-network:\n    driver: bridge\n```\n\n#### âœ… ç‰¹å¾´\n\n- `develop.watch` ã«ã‚ˆã‚Šã‚³ãƒ¼ãƒ‰å¤‰æ›´ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åæ˜ \n- `backend` ã¯ Air ã«ã‚ˆã‚‹ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰å¯¾å¿œ\n- `frontend` ã¯ Turbopack ã® dev ãƒ¢ãƒ¼ãƒ‰ã§èµ·å‹•\n- Nginx çµŒç”±ã§ `http://localhost` ã‹ã‚‰å…¨ä½“ã‚’ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½\n\n---\n\n### 6.3 æœ¬ç•ªç’°å¢ƒï¼ˆdocker-compose.prod.ymlï¼‰\n\næœ¬ç•ªç’°å¢ƒã§ã¯ã€**æœ€é©åŒ–ãƒ“ãƒ«ãƒ‰æ¸ˆã¿ã‚³ãƒ³ãƒ†ãƒŠ**ã‚’ä½¿ç”¨ã—ã€\nã™ã¹ã¦ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è»½é‡ãƒ»å …ç‰¢ã«å®Ÿè¡Œã—ã¾ã™ã€‚\n\n```yaml\nversion: \"3.9\"\n\nx-common: &common\n  restart: unless-stopped\n  networks:\n    - app-network\n\nservices:\n  backend:\n    <<: *common\n    build:\n      context: ..\n      dockerfile: deploy/docker/backend/Dockerfile.prod\n    ports:\n      - \"8080:8080\"\n    env_file:\n      - .env.prod\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8080\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n    depends_on:\n      db:\n        condition: service_healthy\n\n  frontend:\n    <<: *common\n    build:\n      context: ..\n      dockerfile: deploy/docker/frontend/Dockerfile.prod\n    ports:\n      - \"3000:3000\"\n    env_file:\n      - .env.prod\n    depends_on:\n      backend:\n        condition: service_healthy\n\n  db:\n    <<: *common\n    build:\n      context: ..\n      dockerfile: deploy/docker/db/Dockerfile\n    ports:\n      - \"5432:5432\"\n    volumes:\n      - db_data:/var/lib/postgresql/data\n    env_file:\n      - .env.prod\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U postgres\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n    command:\n      [\n        \"postgres\",\n        \"-c\",\n        \"shared_preload_libraries=pg_stat_statements\",\n        \"-c\",\n        \"max_connections=200\",\n        \"-c\",\n        \"shared_buffers=256MB\",\n        \"-c\",\n        \"effective_cache_size=1GB\",\n        \"-c\",\n        \"work_mem=4MB\",\n        \"-c\",\n        \"maintenance_work_mem=64MB\",\n        \"-c\",\n        \"checkpoint_completion_target=0.7\",\n        \"-c\",\n        \"wal_buffers=16MB\",\n        \"-c\",\n        \"default_statistics_target=100\",\n      ]\n\n  nginx:\n    <<: *common\n    build:\n      context: ..\n      dockerfile: deploy/docker/nginx/Dockerfile\n    ports:\n      - \"80:80\"\n    depends_on:\n      frontend:\n        condition: service_started\n      backend:\n        condition: service_healthy\n\nvolumes:\n  db_data:\n    driver: local\n\nnetworks:\n  app-network:\n    driver: bridge\n```\n\n#### ç‰¹å¾´\n\n- `builder` â†’ `runner` ã®ãƒãƒ«ãƒã‚¹ãƒ†ãƒ¼ã‚¸ã§æ¥µé™ã¾ã§è»½é‡åŒ–\n- `healthcheck` ã«ã‚ˆã‚Šè‡ªå‹•ä¾å­˜è§£æ±ºï¼ˆDBâ†’APIâ†’Frontï¼‰\n- Nginx ãŒãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨APIã®ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·ã‚’çµ±ä¸€ç®¡ç†\n\n---\n\n### 6.4 Nginxã®è¨­å®š\n\n`deploy/docker/nginx/default.conf` ã§ã¯ã€\nãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’1ã¤ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã§æ‰±ã†ã‚ˆã†ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã—ã¦ã„ã¾ã™ã€‚\n\n```nginx\nserver {\n    listen 80;\n\n    # Frontend requests\n    location / {\n        proxy_pass http://frontend:3000;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n    }\n\n    # Backend API requests\n    location /api/ {\n        proxy_pass http://backend:8080/;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n    }\n}\n```\n\nã“ã‚Œã«ã‚ˆã‚Šã€ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã¯ `/api/...` ã¨å©ãã ã‘ã§å†…éƒ¨çš„ã« `backend:8080` ã«è»¢é€ã•ã‚Œã¾ã™ã€‚\n\n---\n\n### 6.5 Makefileã«ã‚ˆã‚‹èµ·å‹•ã‚³ãƒãƒ³ãƒ‰\n\né–‹ç™ºã¨æœ¬ç•ªã‚’ç°¡å˜ã«åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã‚‹ã‚ˆã†ã€Makefileã§çµ±ä¸€ã‚³ãƒãƒ³ãƒ‰ã‚’æä¾›ã—ã¾ã™ã€‚\n\n```makefile\n# ==========================\n# Development\n# ==========================\n.PHONY: dev-up dev-down\ndev-up:\n @echo \"[Start] Development Environment\"\n docker compose -f deploy/docker-compose.dev.yml --env-file deploy/.env.dev up --build\n\ndev-down:\n @echo \"[Stop] Development Environment\"\n docker compose -f deploy/docker-compose.dev.yml down -v\n\n# ==========================\n# Production\n# ==========================\n.PHONY: prod-up prod-down\nprod-up:\n @echo \"[Start] Production Environment\"\n docker compose -f deploy/docker-compose.prod.yml --env-file deploy/.env.prod up --build -d\n\nprod-down:\n @echo \"[Stop] Production Environment\"\n docker compose -f deploy/docker-compose.prod.yml down -v\n```\n\nã“ã‚Œã§ä»¥ä¸‹ã®ã‚ˆã†ã«ä½¿ãˆã¾ã™ï¼š\n\n```bash\nmake dev-up     # é–‹ç™ºç’°å¢ƒèµ·å‹•\nmake dev-down   # é–‹ç™ºç’°å¢ƒåœæ­¢\nmake prod-up    # æœ¬ç•ªèµ·å‹•ï¼ˆãƒ‡ã‚¿ãƒƒãƒãƒ¢ãƒ¼ãƒ‰ï¼‰\nmake prod-down  # æœ¬ç•ªåœæ­¢\n```\n\n---\n\n### 6.6 APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”Ÿæˆã‚‚å«ã‚ãŸçµ±åˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n\nMakefileã‚’æ‹¡å¼µã—ã€Swaggerãƒ»OpenAPIãƒ»Orvalã®ç”Ÿæˆã‚‚ä¸€æ°—ã«å®Ÿè¡Œã§ãã¾ã™ã€‚\n\n```makefile\n.PHONY: gen-all\ngen-all:\n @echo \"[Pipeline] Generating Swagger, OpenAPI v3, and API client\"\n make gen-swagger-v2\n make gen-openapi-v3\n make gen-client\n```\n\nã“ã‚Œã«ã‚ˆã‚Šã€**ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å¤‰æ›´ â†’ OpenAPIæ›´æ–° â†’ ãƒ•ãƒ­ãƒ³ãƒˆåŒæœŸ** ã¾ã§\nã™ã¹ã¦ãƒ¯ãƒ³ã‚³ãƒãƒ³ãƒ‰ã§å®Œäº†ã—ã¾ã™ã€‚\n\n---\n\n### 6.7 èµ·å‹•ç¢ºèª\n\n| URL                                                                                  | å†…å®¹                                  |\n| ------------------------------------------------------------------------------------ | ------------------------------------- |\n| [http://localhost](http://localhost)                                                 | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆNext.js + Nginxï¼‰     |\n| [http://localhost/api/tests](http://localhost/api/tests)                             | Go API (Fiber) ã®ç¢ºèªç”¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ |\n| [http://localhost:8080/swagger/index.html](http://localhost:8080/swagger/index.html) | Swagger UI                            |\n| [http://localhost:3000](http://localhost:3000)                                       | Next.jsã®ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹                 |\n\né–‹ç™ºä¸­ã¯ `http://localhost` ã ã‘ã§ä¸¡æ–¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã€æœ¬ç•ªã§ã‚‚NginxãŒåŒæ§˜ã«çµ±åˆã—ã¾ã™ã€‚\n\n---\n\n### ã¾ã¨ã‚\n\n| é …ç›®             | å†…å®¹                                        |\n| ---------------- | ------------------------------------------- |\n| **é–‹ç™ºç’°å¢ƒ**     | ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰åŒæœŸãƒ»ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ä»˜ãæ§‹æˆ    |\n| **æœ¬ç•ªç’°å¢ƒ**     | è»½é‡ãƒ“ãƒ«ãƒ‰æ¸ˆã¿ãƒãƒ«ãƒã‚¹ãƒ†ãƒ¼ã‚¸æ§‹æˆ            |\n| **é€šä¿¡çµ±åˆ**     | Nginxã«ã‚ˆã‚‹ `/api` ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·         |\n| **Makefileæ“ä½œ** | `make dev-up` / `make prod-up` ã§çµ±ä¸€       |\n| **è‡ªå‹•ç”Ÿæˆçµ±åˆ** | `make gen-all` ã§Swaggerâ†’OpenAPIâ†’Clientä¸€æ‹¬ |\n\n---\n\n## 7. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°\n\nã“ã“ã¾ã§æ§‹ç¯‰ã—ãŸè‡ªå‹•ç”Ÿæˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã¯å¼·åŠ›ã§ã™ãŒã€\nå®Ÿéš›ã«é‹ç”¨ã—ã¦ã„ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªå•é¡Œã«é­é‡ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚\n\n- Swaggerã‚„OpenAPIã®ç”ŸæˆãŒã†ã¾ãã„ã‹ãªã„\n- Orvalã®å‹ç”Ÿæˆã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹\n- Dockeré–“ã®é€šä¿¡ãŒã§ããªã„\n- æœ¬ç•ªãƒ“ãƒ«ãƒ‰ã§APIãŒ404ã«ãªã‚‹\n\nã“ã®ç« ã§ã¯ã€ãã‚Œãã‚Œã®åŸå› ã¨è§£æ±ºç­–ã‚’ã¾ã¨ã‚ã¾ã™ã€‚\n\n---\n\n### 7.1 Swaggoï¼ˆSwaggerç”Ÿæˆï¼‰ã§ã®ãƒˆãƒ©ãƒ–ãƒ«\n\n#### âŒ ã‚¨ãƒ©ãƒ¼ä¾‹ï¼ˆSwaggerç”Ÿæˆï¼‰\n\n```bash\nError: failed to parse packages analyzing cmd/server/main.go: cannot find module for path ...\n```\n\n#### ğŸ’¡ åŸå› ï¼ˆ7.1.1ï¼‰\n\n`swag init` å®Ÿè¡Œæ™‚ã«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ä¾å­˜é–¢ä¿‚ã‚’è§£æ±ºã§ãã¦ã„ãªã„ã‹ã€`go.mod` ãŒæ­£ã—ã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã«ãªã„ã€‚\n\n#### âœ… å¯¾å‡¦æ³•\n\n1. backendãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã§ä¾å­˜ã‚’å†å–å¾—\n\n   ```bash\n   cd backend\n   go mod tidy\n   ```\n\n2. `main.go` ã® `@Router` / `@Summary` ãªã©ã®ã‚³ãƒ¡ãƒ³ãƒˆã«èª¤å­—ãŒãªã„ã‹ç¢ºèª\n3. DockerçµŒç”±ã§å‹•ã‹ã™å ´åˆã€Makefileã® `-w /app` ãŒæ­£ã—ã„ã‹ç¢ºèª\n\n   ```makefile\n   docker run --rm -v $(PWD)/backend:/app -w /app golang:1.25-alpine ...\n   ```\n\n#### ğŸ›¡ å†ç™ºé˜²æ­¢ç­–\n\n- `backend` ä»¥ä¸‹ã®ã¿ã«Goã‚³ãƒ¼ãƒ‰ã‚’é…ç½®ã™ã‚‹\n- `swag init -g cmd/server/main.go --parseDependency` ã‚’å¿…ãšæŒ‡å®šã™ã‚‹\n\n---\n\n### 7.2 OpenAPI Generatorã§ã®å¤‰æ›å¤±æ•—\n\n#### âŒ ã‚¨ãƒ©ãƒ¼ä¾‹ï¼ˆOpenAPIå¤‰æ›ï¼‰\n\n```bash\nError: Could not resolve reference: '#/definitions/TestResponse'\n```\n\n#### ğŸ’¡ åŸå› \n\nSwagger v2 ã® `definitions` ãŒæ­£ã—ãç”Ÿæˆã•ã‚Œã¦ã„ãªã„ã‹ã€ã‚³ãƒ¡ãƒ³ãƒˆã§å‹ã‚’æ­£ã—ãæŒ‡å®šã—ã¦ã„ãªã„ã€‚\n\n#### âœ… å¯¾å‡¦æ³•\n\n1. `@Success 200 {object} TestResponse` ã®ã‚ˆã†ã«æ§‹é€ ä½“åã‚’æ˜ç¤ºçš„ã«æŒ‡å®š\n2. Swaggerãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ‰‹å‹•ã§é–‹ãã€`definitions:` ãƒ–ãƒ­ãƒƒã‚¯ã« `TestResponse` ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª\n3. ä¸è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¦å†ç”Ÿæˆ\n\n   ```bash\n   rm -rf backend/docs\n   make gen-swagger-v2\n   make gen-openapi-v3\n   ```\n\n#### ğŸ›¡ å†ç™ºé˜²æ­¢ç­–\n\n- `swag fmt` ã‚’Makefileã§å¸¸ã«å®Ÿè¡Œã—ã¦ã‚³ãƒ¡ãƒ³ãƒˆæ•´å½¢\n- `@Param`, `@Success`, `@Failure` ã¯æ­£ç¢ºã«æ›¸ã\n\n---\n\n### 7.3 Orvalã§ã®å‹ç”Ÿæˆã‚¨ãƒ©ãƒ¼\n\n#### âŒ ã‚¨ãƒ©ãƒ¼ä¾‹ï¼ˆOrvalï¼‰\n\n```bash\nError: Cannot find module '../backend/docs/v3/openapi.yaml'\n```\n\n#### ğŸ’¡ åŸå› \n\n`openapi.yaml` ã®å‡ºåŠ›ãƒ‘ã‚¹ãŒç•°ãªã‚‹ã‹ã€`frontend/orval.config.ts` ã® `input` ãŒç›¸å¯¾ãƒ‘ã‚¹ã§ãšã‚Œã¦ã„ã‚‹ã€‚\n\n#### âœ… å¯¾å‡¦æ³•\n\n1. Orvalè¨­å®šã§æ­£ã—ã„ç›¸å¯¾ãƒ‘ã‚¹ã‚’æŒ‡å®š\n\n   ```ts\n   input: \"../backend/docs/v3/openapi.yaml\",\n   ```\n\n2. ä¸€åº¦ç”Ÿæˆç‰©ã‚’å‰Šé™¤ã—ã¦å†å®Ÿè¡Œ\n\n   ```bash\n   make gen-client\n   ```\n\n#### ğŸ›¡ å†ç™ºé˜²æ­¢ç­–\n\n- `backend/docs/v3` ã‚’ `.gitignore` ã‹ã‚‰é™¤å¤–ã—ã€ä»–ã®é–‹ç™ºè€…ã¨å…±æœ‰\n- OpenAPIå‡ºåŠ›å…ˆã¯å›ºå®šãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«çµ±ä¸€\n\n---\n\n### 7.4 Dockerã‚³ãƒ³ãƒ†ãƒŠé–“ã§é€šä¿¡ã§ããªã„\n\n#### âŒ ç—‡çŠ¶\n\n- `axios` ãŒ `ECONNREFUSED` ã‚’è¿”ã™\n- `GET /api/tests` ãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã™ã‚‹\n\n#### ğŸ’¡ åŸå› \n\n- `baseURL` ãŒãƒ›ã‚¹ãƒˆå‘ã‘ (`localhost`) ã«ãªã£ã¦ã„ã‚‹\n- ã‚³ãƒ³ãƒ†ãƒŠåã§é€šä¿¡ã—ã¦ã„ãªã„\n\n#### âœ… å¯¾å‡¦æ³•\n\n`frontend/src/api/customAxios.ts` ã®è¨­å®šã‚’ç¢ºèªï¼š\n\n```ts\nconst instance = axios.create({\n  baseURL: typeof window === \"undefined\" ? \"http://backend:8080\" : \"/api\",\n});\n```\n\nDocker Composeã§ã¯ã€`backend` ãŒãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åãªã®ã§ `backend:8080` ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n\n#### ğŸ›¡ å†ç™ºé˜²æ­¢ç­–\n\n- `localhost` ã§ã¯ãªãã‚µãƒ¼ãƒ“ã‚¹åã§ã‚¢ã‚¯ã‚»ã‚¹\n- `nginx` çµŒç”±ã«çµ±ä¸€ï¼ˆ`/api/` â†’ `backend:8080/`ï¼‰\n\n---\n\n### 7.5 Next.jsã®ãƒ“ãƒ«ãƒ‰å¤±æ•—ï¼ˆpnpmé–¢é€£ï¼‰\n\n#### âŒ ã‚¨ãƒ©ãƒ¼ä¾‹ï¼ˆNext.jsï¼‰\n\n```bash\nError: Cannot find module 'next'\n```\n\n#### ğŸ’¡ åŸå› \n\n`node_modules` ãŒDockerã‚³ãƒ³ãƒ†ãƒŠå†…ã«ã®ã¿å­˜åœ¨ã—ã€ãƒ›ã‚¹ãƒˆå´ã®VSCodeè£œå®ŒãŒåŠ¹ã„ã¦ã„ãªã„ã€‚\n\n#### âœ… å¯¾å‡¦æ³•\n\n1. ãƒ›ã‚¹ãƒˆã«ã‚‚ä¾å­˜ã‚’å…¥ã‚Œã‚‹\n\n   ```bash\n   cd frontend\n   pnpm install\n   ```\n\n2. `.vscode/settings.json` ã«TypeScript SDKã‚’æ˜ç¤ºæŒ‡å®š\n\n   ```json\n   {\n     \"typescript.tsdk\": \"frontend/node_modules/typescript/lib\"\n   }\n   ```\n\n#### ğŸ›¡ å†ç™ºé˜²æ­¢ç­–\n\n- `node_modules` ã¯ãƒ›ã‚¹ãƒˆã«ä¿æŒ or VSCodeè¨­å®šã§è£œå®Œã‚’æœ‰åŠ¹åŒ–\n- Composeã®volumeãƒã‚¦ãƒ³ãƒˆã§ `- /app/node_modules` ã‚’é©åˆ‡ã«æ‰±ã†\n\n---\n\n### 7.6 NginxçµŒç”±ã®404ã‚¨ãƒ©ãƒ¼\n\n#### âŒ ç—‡çŠ¶\n\nãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost/api/tests` ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨\nã€Œ404 Not Foundã€ãŒè¿”ã‚‹ã€‚\n\n#### ğŸ’¡ åŸå› \n\n- `default.conf` ã® `location /api/` ã«æœ«å°¾ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ (`/`) ãŒãªã„\n- ãƒ—ãƒ­ã‚­ã‚·ãƒ‘ã‚¹ãŒ `http://backend:8080` ã§çµ‚ã‚ã£ã¦ã„ãªã„\n\n#### âœ… ä¿®æ­£ä¾‹\n\n```nginx\nlocation /api/ {\n    proxy_pass http://backend:8080/;  # â† ã‚¹ãƒ©ãƒƒã‚·ãƒ¥å¿…é ˆ\n}\n```\n\n#### ğŸ›¡ å†ç™ºé˜²æ­¢ç­–\n\n- `proxy_pass` ã®æœ«å°¾ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã¯å¸¸ã«ç¢ºèª\n- `nginx -t` ã§æ§‹æ–‡ãƒã‚§ãƒƒã‚¯ã—ã¦ã‹ã‚‰å†èµ·å‹•\n\n---\n\n### 7.7 æœ¬ç•ªãƒ“ãƒ«ãƒ‰å¾Œã« `server.js` ãŒè¦‹ã¤ã‹ã‚‰ãªã„\n\n#### âŒ ã‚¨ãƒ©ãƒ¼ä¾‹ï¼ˆserver.jsï¼‰\n\n```bash\nError: Cannot find module '/app/server.js'\n```\n\n#### ğŸ’¡ åŸå› \n\nNext.js 13ä»¥é™ã§ `output: \"standalone\"` è¨­å®šãŒã•ã‚Œã¦ã„ãªã„ã‹ã€\n`builder` ã‚¹ãƒ†ãƒ¼ã‚¸ã§ `server.js` ãŒç”Ÿæˆã•ã‚Œã¦ã„ãªã„ã€‚\n\n#### âœ… å¯¾å‡¦æ³•\n\n1. `next.config.js` ã«ä»¥ä¸‹ã‚’è¿½åŠ ï¼š\n\n   ```js\n   module.exports = {\n     output: \"standalone\",\n   };\n   ```\n\n2. å†ãƒ“ãƒ«ãƒ‰ï¼š\n\n   ```bash\n   docker compose -f deploy/docker-compose.prod.yml build frontend\n   ```\n\n#### ğŸ›¡ å†ç™ºé˜²æ­¢ç­–\n\n- `pnpm build` ã®ãƒ­ã‚°ã§ `server.js` ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª\n- æœ¬ç•ªDockerfileã§ `.next/standalone` ã‚’å¿…ãšã‚³ãƒ”ãƒ¼\n\n---\n\n### 7.8 DBã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã—ãªã„\n\n#### âŒ ã‚¨ãƒ©ãƒ¼ä¾‹ï¼ˆDBèµ·å‹•ï¼‰\n\n```bash\ndatabase system is starting up\npg_isready: server not accepting connections\n```\n\n#### ğŸ’¡ åŸå› \n\n`POSTGRES_USER` / `POSTGRES_PASSWORD` / `POSTGRES_DB` ãŒä¸æ•´åˆ\nã¾ãŸã¯Volumeã«å¤ã„ãƒ‡ãƒ¼ã‚¿ãŒæ®‹ã£ã¦ã„ã‚‹ã€‚\n\n#### âœ… å¯¾å‡¦æ³•\n\n```bash\ndocker compose down -v\nmake dev-up\n```\n\n#### ğŸ›¡ å†ç™ºé˜²æ­¢ç­–\n\n- `.env.dev` / `.env.prod` ã®DBè¨­å®šã‚’æ˜ç¤ºçš„ã«ç®¡ç†\n- Volumeã‚’å…±æœ‰ã›ãšã€ç’°å¢ƒã”ã¨ã«åˆ†é›¢ã™ã‚‹\n\n---\n\n### 7.9 ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒå¤ãã¦å¤‰æ›´ãŒåæ˜ ã•ã‚Œãªã„\n\n#### âŒ ç—‡çŠ¶\n\nDockerãƒ“ãƒ«ãƒ‰å¾Œã‚‚å¤ã„ã‚³ãƒ¼ãƒ‰ãŒåæ˜ ã•ã‚Œãªã„ã€‚\n\n#### âœ… å¯¾å‡¦æ³•\n\n```bash\ndocker compose build --no-cache\n```\n\n#### ğŸ›¡ å†ç™ºé˜²æ­¢ç­–\n\n- é–‹ç™ºä¸­ã¯ `:latest` ã‚¿ã‚°ã‚„ã‚­ãƒ£ãƒƒã‚·ãƒ¥å…±æœ‰ã‚’é¿ã‘ã‚‹\n- `develop.watch` ã‚’åˆ©ç”¨ã—ã¦ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åæ˜ \n\n---\n\n### ã¾ã¨ã‚ï¼šãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ\n\n| é …ç›®        | ã‚ˆãã‚ã‚‹å•é¡Œ     | è§£æ±ºç­–                                     |\n| ----------- | ---------------- | ------------------------------------------ |\n| Swaggerç”Ÿæˆ | ã‚³ãƒ¡ãƒ³ãƒˆæ§‹æ–‡ãƒŸã‚¹ | `swag fmt` + `--parseDependency`           |\n| OpenAPIå¤‰æ› | å‹å‚ç…§ã‚¨ãƒ©ãƒ¼     | `@Success {object} TypeName`               |\n| Orvalç”Ÿæˆ   | ãƒ‘ã‚¹ãšã‚Œ         | `input: \"../backend/docs/v3/openapi.yaml\"` |\n| Dockeré€šä¿¡  | ECONNREFUSED     | `baseURL = backend:8080`                   |\n| Nginxè¨­å®š   | 404ã‚¨ãƒ©ãƒ¼        | `proxy_pass` ã®æœ«å°¾ã‚¹ãƒ©ãƒƒã‚·ãƒ¥              |\n| Next.jsæœ¬ç•ª | `server.js` ä¸åœ¨ | `output: \"standalone\"`                     |\n| DBèµ·å‹•      | å¤ã„Volume       | `docker compose down -v`                   |\n\n---\n\n## 8. ã¾ã¨ã‚ã¨ä»Šå¾Œã®ç™ºå±•\n\nã“ã“ã¾ã§ã§ã€**Goï¼ˆFiberï¼‰Ã— Next.js Ã— OpenAPI** ã‚’è»¸ã«ã—ãŸ\nå®Œå…¨ãªè‡ªå‹•APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”Ÿæˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ§‹ç¯‰ã—ã¾ã—ãŸã€‚\n\n---\n\n### 8.1 ä»Šå›æ§‹ç¯‰ã—ãŸä»•çµ„ã¿ã®å…¨ä½“åƒ\n\n```mermaid\ngraph TD\n    A[\"Go Fiber\"]\n        --> B[\"Swagger v2\"]\n    B --> C[\"OpenAPI v3\"]\n    C --> D[\"Orval\"]\n    D --> E[\"React Query\"]\n```\n\nã“ã‚Œã‚’1æœ¬ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã¨ã—ã¦ã¤ãªãã€\n**ã€Œãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®æ›´æ–°ãŒå³ãƒ•ãƒ­ãƒ³ãƒˆã«åæ˜ ã•ã‚Œã‚‹ã€**ä»•çµ„ã¿ã‚’å®Ÿç¾ã—ã¾ã—ãŸã€‚\n\n| ã‚¹ãƒ†ãƒƒãƒ—           | å†…å®¹                                   | ã‚³ãƒãƒ³ãƒ‰              |\n| ------------------ | -------------------------------------- | --------------------- |\n| â‘  Swaggerç”Ÿæˆ      | Goã®ã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰APIä»•æ§˜ç”Ÿæˆ            | `make gen-swagger-v2` |\n| â‘¡ OpenAPIå¤‰æ›      | Swagger â†’ OpenAPI 3.0å½¢å¼ã«å¤‰æ›        | `make gen-openapi-v3` |\n| â‘¢ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”Ÿæˆ | Orval + React Queryã§å‹å®‰å…¨ãªHooksç”Ÿæˆ | `make gen-client`     |\n| â‘£ é–‹ç™ºå®Ÿè¡Œ         | Docker Composeã§å…¨ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•         | `make dev-up`         |\n\nã™ã¹ã¦ã‚’è‡ªå‹•åŒ–ã™ã‚‹ã“ã¨ã§ã€\nä»•æ§˜ãƒ»å®Ÿè£…ãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»é€šä¿¡å±¤ã‚’**å®Œå…¨åŒæœŸ**ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n\n---\n\n### 8.2 ã“ã®æ§‹æˆã®ãƒ¡ãƒªãƒƒãƒˆ\n\n#### **â‘  å‹å®‰å…¨ãªé€šä¿¡å±¤**\n\nãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å¤‰æ›´æ™‚ã«è‡ªå‹•ã§å‹ãŒæ›´æ–°ã•ã‚Œã‚‹ãŸã‚ã€\nãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å´ã§APIãƒŸã‚¹ãƒãƒƒãƒã‚’é˜²æ­¢ã§ãã¾ã™ã€‚\n\n#### **â‘¡ å³æ™‚åæ˜ ãƒ»ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰**\n\nDockerã® `develop.watch` + `air` + `Turbopack` ã«ã‚ˆã‚Šã€\nä¸¡å´ã®å¤‰æ›´ã‚’ã»ã¼ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§åæ˜ ã€‚\n\n#### **â‘¢ é–‹ç™ºç’°å¢ƒã¨æœ¬ç•ªç’°å¢ƒã®å®Œå…¨åˆ†é›¢**\n\n`.env.dev` / `.env.prod` ã«ã‚ˆã‚‹è¨­å®šåˆ†é›¢ã¨\nãƒãƒ«ãƒã‚¹ãƒ†ãƒ¼ã‚¸Dockerfileã«ã‚ˆã£ã¦ã€\n**é–‹ç™ºã®æŸ”è»Ÿæ€§**ã¨**æœ¬ç•ªã®è»½é‡æ€§**ã‚’ä¸¡ç«‹ã€‚\n\n#### **â‘£ CI/CDã«ã‚‚çµ„ã¿è¾¼ã¿ã‚„ã™ã„æ§‹æˆ**\n\nMakefileã‚’ä½¿ã£ãŸçµ±ä¸€çš„ã‚³ãƒãƒ³ãƒ‰ç¾¤ã«ã‚ˆã‚Šã€\nGitHub Actionsãªã©ã®CI/CDã«ã‚‚ç°¡å˜ã«çµ„ã¿è¾¼ã‚ã¾ã™ã€‚\n\n---\n\n### 8.3 ä»Šå¾Œã®ç™ºå±•ãƒã‚¤ãƒ³ãƒˆ\n\nä»Šå›ã®æ§‹æˆã¯åŸºç¤ã¨ã—ã¦éå¸¸ã«å¼·åŠ›ã§ã™ãŒã€\nã‚ˆã‚Šå®Ÿè·µçš„ã«æ‹¡å¼µã™ã‚‹ä½™åœ°ã‚‚å¤šãã‚ã‚Šã¾ã™ã€‚\n\n#### **â‘  CI/CDã¨ã®çµ±åˆ**\n\nGitHub Actionsã§ `make gen-all` â†’ `make prod-up` ã®è‡ªå‹•åŒ–ã‚’è¡Œãˆã°ã€\nAPIä»•æ§˜å¤‰æ›´ãŒpushã•ã‚ŒãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§\n**è‡ªå‹•çš„ã«OpenAPIæ›´æ–° â†’ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå†ç”Ÿæˆ â†’ ãƒ‡ãƒ—ãƒ­ã‚¤**ã¾ã§å®Ÿè¡Œã§ãã¾ã™ã€‚\n\n#### **â‘¡ èªè¨¼ãƒ»èªå¯ã®è¿½åŠ **\n\nSwaggerã‚³ãƒ¡ãƒ³ãƒˆã«ä»¥ä¸‹ã®ã‚ˆã†ãªå®šç¾©ã‚’è¿½åŠ ã™ã‚Œã°ã€\nJWTã‚„OAuth2ã®ã‚¹ã‚­ãƒ¼ãƒã‚‚OpenAPIçµŒç”±ã§è‡ªå‹•ç”Ÿæˆå¯èƒ½ã§ã™ã€‚\n\n```go\n// @securityDefinitions.apikey ApiKeyAuth\n// @in header\n// @name Authorization\n```\n\nâ†’ ãƒ•ãƒ­ãƒ³ãƒˆã§ã¯Orvalç”Ÿæˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«Interceptorã‚’è¿½åŠ ã—ã¦\nãƒˆãƒ¼ã‚¯ãƒ³ã‚’è‡ªå‹•ä»˜ä¸ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n\n#### **â‘¢ OpenAPIã‹ã‚‰å‹ç”Ÿæˆã®é«˜åº¦åŒ–**\n\nOrvalã® `transformer` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æ´»ç”¨ã™ã‚‹ã“ã¨ã§ã€\nãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è‡ªå‹•æ•´å½¢ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ›´æ–°ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚‚å…±é€šåŒ–å¯èƒ½ã§ã™ã€‚\n\n#### **â‘£ ãƒ¢ãƒãƒ¬ãƒæ§‹æˆã¸ã®æ‹¡å¼µ**\n\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Monorepoï¼ˆä¾‹: `backend/`, `frontend/`, `shared/`ï¼‰åŒ–ã—ã€\n`shared/types` ã«å…±é€šå®šç¾©ã‚’é…ç½®ã™ã‚‹ã¨ã€\nãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ãƒ•ãƒ­ãƒ³ãƒˆã§å‹ã‚’å…±æœ‰ã§ãã¾ã™ã€‚\n\n#### **â‘¤ gRPC / GraphQL ã¸ã®ç™ºå±•**\n\nREST APIã‚’OpenAPIã§é‹ç”¨ã™ã‚‹åŸºç›¤ãŒæ•´ã£ãŸã‚‰ã€\nå°†æ¥çš„ã«ã¯ gRPC ã‚„ GraphQL ã¸ç§»è¡Œã™ã‚‹éš›ã«ã‚‚\nã“ã®æ§‹æˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã‚¹ãƒ ãƒ¼ã‚ºã«æ‹¡å¼µã§ãã¾ã™ã€‚\n\n---\n\n### 8.4 æœ€å¾Œã«\n\nã“ã®ä¸€é€£ã®ä»•çµ„ã¿ã¯ã€\n**ã€Œä»•æ§˜å¤‰æ›´ã«å¼·ã„é–‹ç™ºä½“é¨“ã€**ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã®é‡è¦ãªåŸºç›¤ã§ã™ã€‚\n\n- Goã®ã‚³ãƒ¡ãƒ³ãƒˆ â†’ è‡ªå‹•ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–\n- OpenAPIã«ã‚ˆã‚‹ä»•æ§˜ã®æ¨™æº–åŒ–\n- Orval + React Queryã«ã‚ˆã‚‹å‹å®‰å…¨é€šä¿¡\n- Docker Composeã§ã®ç’°å¢ƒå†ç¾æ€§\n- Makefileã«ã‚ˆã‚‹é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹ã®è‡ªå‹•åŒ–\n\nã“ã‚Œã‚‰ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€\n**ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ä¹–é›¢ã‚’æœ€å°åŒ–ã—ã€ãƒãƒ¼ãƒ å…¨ä½“ã®é€Ÿåº¦ã¨å“è³ªã‚’æœ€å¤§åŒ–**ã§ãã¾ã™ã€‚\n\n---\n\n### ä»Šå¾Œã‚„ã‚‹ã¹ãä¸€æ­©\n\n| ãƒ•ã‚§ãƒ¼ã‚º | å†…å®¹                                       |\n| -------- | ------------------------------------------ |\n| âœ… ç¾åœ¨  | Swagger â†’ OpenAPI â†’ Orval è‡ªå‹•é€£æºæ§‹ç¯‰     |\n| ğŸš€ æ¬¡    | CI/CDè‡ªå‹•åŒ–ãƒ»JWTèªè¨¼é€£æº                   |\n| ğŸŒ å°†æ¥  | MonorepoåŒ–ãƒ»gRPCã‚„GraphQLå¯¾å¿œãƒ»RAGé€£æºãªã© |\n\n---\n\n> ğŸ **ã“ã®æ§‹æˆã¯â€œç¾ä»£çš„ãªãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯è‡ªå‹•åŒ–â€ã®ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã€‚**\n> ä¸€åº¦æ•´ãˆã°ã€APIé–‹ç™ºãƒ»å‹ç”Ÿæˆãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã¾ã§ã‚’\n> ä¸€è²«ã—ã¦ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ã«é‹ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n",
    "createdAt": "2025-10-04T15:53:36.990Z",
    "updatedAt": "2025-10-04T15:53:36.991Z"
  },
  {
    "title": "Next.js App routerã§ï¼ŒCustom 404 pageã«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’é©ç”¨ã•ã›ãªã„æ–¹æ³•",
    "summary": "åœ°å‘³ã«è‹¦åŠ´ã—ãŸï¼æ—¥æœ¬èªã®è¨˜äº‹ãŒãªã‹ã£ãŸã®ã§ã¤ãã‚‹",
    "tags": [
      "React",
      "Next.js",
      "Web",
      "Webã‚¢ãƒ—ãƒªé–‹ç™º",
      "å€‹äººé–‹ç™º"
    ],
    "slug": "Next.js/next-js-app-router-404-layout",
    "folder": "Next.js",
    "content": "\n`Layout.tsx`ã¯é…ç½®ã•ã‚Œã¦ã„ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸­èº«ã«é©ç”¨ã•ã‚Œã‚‹\n\nâ†’ `not-found.tsx`ã¨`page.tsx`ã¨ã§é•ã†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã™ã‚Œã°è‰¯ã„ï¼\n\nâ†’ æ™®é€šã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã„ã‚Œã‚‹ã¨ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã•ã‚Œã‚‹ã®ã§ï¼Œè«–ç†ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½¿ã†\n\n```txt\napp/\n    (default_site)/\n        /page.tsx\n        about/page.tsx\n        contact/page.tsx\n        layout.tsx\n    (error_layout)/\n        layout.tsx\n        not-found.tsx\ncomponents/\nutils/\n```\n\nã“ã®ã‚ˆã†ã«é…ç½®ã™ã‚Œã°ã„ã„\n\nå‚è€ƒ\n[How to remove the Layout on 404 page](https://github.com/vercel/next.js/discussions/37311)\n",
    "createdAt": "2025-07-21T07:23:48.458Z",
    "updatedAt": "2025-07-21T07:23:48.458Z"
  },
  {
    "title": "Next.jsã§é–‹ç™ºã™ã‚‹ã¨ãã«ãŠã™ã™ã‚ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹æ³•",
    "summary": "eslintã®è¨­å®šã‚„tailwindç­‰ã®è¨­å®šã‚’ã„ã˜ã£ã¦é–‹ç™ºä½“é¨“ã‚’ä¸Šã’ã‚‹",
    "tags": [
      "Next.js",
      "eslint",
      "vscode",
      "tailwindcss"
    ],
    "slug": "Next.js/next-js-setup-practice",
    "folder": "Next.js",
    "content": "\n# ESLintã®è¨­å®š\n\n## ESLintã¨ã¯\n\nESlintã¯JavaScriptã‚„TypeScriptãªã©ã«ä½¿ãˆã‚‹é™çš„è§£æãƒ„ãƒ¼ãƒ«ã§ã™ï¼anyå‹ã‚’è¨±å®¹ã™ã‚‹ã®ã‹ï¼Œã‚¢ãƒ­ãƒ¼é–¢æ•°ã®ã¿ã‚’ä½¿ã†ã®ã‹ãªã©ï¼Œå¤šå²ã«æ¸¡ã£ã¦å³å¯†ãªãƒ«ãƒ¼ãƒ«ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã§ã‚³ãƒ¼ãƒ‰ã®ä¸€è²«æ€§ã‚’ç¶­æŒã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼\n\n## ãŠã™ã™ã‚ã®è¨­å®šæ³•\n\n### npmãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®è¿½åŠ \n\n`npx create-next-app@latest`ã—ï¼Œä»¥ä¸‹ã®ã‚ˆã†ã«è¨­å®šã—ãŸå ´åˆã‚’æƒ³å®šã—ã¾ã™\n\n```bash\nWhat is your project named?  xxx\nWould you like to use TypeScript?  Yes\nWould you like to use ESLint?  Yes\nWould you like to use Tailwind CSS?  Yes\nWould you like your code inside a `src/` directory?  No\nWould you like to use App Router? (recommended)  Yes\nWould you like to use Turbopack for `next dev`?  Yes\nWould you like to customize the import alias (`@/*` by default)?  No\n```\n\nã“ã®å ´åˆï¼Œãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä»¥ä¸‹ã®ã‚ˆã†ãªnpmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå–ã‚Šè¾¼ã¾ã‚Œã¾ã™ï¼\n\n```json\n  \"dependencies\": {\n    \"react\": \"^18\",\n    \"react-dom\": \"^18\",\n    \"next\": \"14.2.29\"\n  },\n  \"devDependencies\": {\n    \"typescript\": \"^5\",\n    \"@types/node\": \"^20\",\n    \"@types/react\": \"^18\",\n    \"@types/react-dom\": \"^18\",\n    \"postcss\": \"^8\",\n    \"tailwindcss\": \"^3.4.1\",\n    \"eslint\": \"^8\",\n    \"eslint-config-next\": \"14.2.29\"\n  }\n```\n\nã“ã“ã‹ã‚‰ã•ã‚‰ã«eslinté–¢é€£ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¿½åŠ ã—ã¦ã„ãã¾ã™ï¼\n| ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå | ä¸»ãªç”¨é€”ãƒ»ç‰¹å¾´ |\n| ------------------------------------ | ---------------------------------------------------------------- |\n| **@typescript-eslint/eslint-plugin** | TypeScriptå‘ã‘ã®ESLintãƒ«ãƒ¼ãƒ«é›†ã€‚å‹æƒ…å ±ã‚’æ´»ã‹ã—ãŸè©³ç´°ãªé™çš„è§£æãŒå¯èƒ½ã«ãªã‚‹ã€‚ |\n| **@typescript-eslint/parser** | ESLintã«TypeScriptæ§‹æ–‡ã‚’ç†è§£ã•ã›ã‚‹ãŸã‚ã®ãƒ‘ãƒ¼ã‚µã€‚ã“ã‚ŒãŒãªã„ã¨TSã‚³ãƒ¼ãƒ‰ã«ESLintãŒä½¿ãˆãªã„ã€‚ |\n| **@eslint/eslintrc** | `.eslintrc` è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ã«ä½¿ã†å†…éƒ¨ãƒ„ãƒ¼ãƒ«ã€‚é€šå¸¸ä¸è¦ã ãŒã€é«˜åº¦ãªè¨­å®šã‚„ãƒãƒ¼ã‚¸ãƒ§ãƒ³å·®ç•°ã®å¸åã«ä½¿ã†ã“ã¨ã‚‚ã‚ã‚‹ã€‚ |\n| **eslint-plugin-import** | `import` æ–‡ã®æ›¸ãæ–¹ï¼ˆé †åºã€é‡è¤‡ã€è§£æ±ºå¯èƒ½æ€§ï¼‰ã‚’ãƒã‚§ãƒƒã‚¯ãƒ»è£œæ­£ã™ã‚‹ãŸã‚ã®å®šç•ªãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã€‚ |\n| **eslint-plugin-import-access** | ç‰¹å®šã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚„å±¤ã«å¯¾ã™ã‚‹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™ãƒ«ãƒ¼ãƒ«ã‚’å®šç¾©ã§ãã‚‹ã€‚Clean Architectureãªã©ã¨ç›¸æ€§ãŒè‰¯ã„ã€‚ |\n| **eslint-plugin-simple-import-sort** | `import`, `export` ã‚’ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆé †ã‚„æŒ‡å®šé †ã«è‡ªå‹•æ•´åˆ—ã—ã¦ãã‚Œã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã€‚æ•´å½¢ã®è£œåŠ©ã«ä¾¿åˆ©ã€‚ |\n| **eslint-plugin-unused-imports** | ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„ `import` ã‚’æ¤œå‡ºãƒ»å‰Šé™¤ï¼ˆè‡ªå‹•ä¿®æ­£å¯¾å¿œï¼‰ã—ã¦ãã‚Œã‚‹ã€‚ä¸è¦ã‚³ãƒ¼ãƒ‰å‰Šæ¸›ã«æœ‰åŠ¹ã€‚ |\n\n```bash\nnpm install -D \\\n  @typescript-eslint/eslint-plugin \\\n  @typescript-eslint/parser \\\n  @eslint/eslintrc \\\n  eslint-plugin-import \\\n  eslint-plugin-import-access \\\n  eslint-plugin-simple-import-sort \\\n  eslint-plugin-unused-imports\n```\n\n## eslint.config.mjsã®è¨­å®š\n\ncreate-next-appæ™‚ã«eslintã‚’è¿½åŠ ã—ãŸå ´åˆï¼Œè‡ªå‹•ã§`.eslintrc.json`ãŒä½œæˆã•ã‚Œã¾ã™ï¼ãŸã ã—jsonã§æ›¸ãå ´åˆæŸ”è»Ÿæ€§ãŒãªããªã‚‹ã®ã§ï¼Œä»£ã‚ã‚Šã«ãƒ•ãƒ©ãƒƒãƒˆæ§‹æˆ(`eslint.config.mjs`)ã§ä½¿ã†ã¹ãã§ã™ï¼\n\n```js\n// /eslint.config.mjs\nimport { fixupConfigRules, fixupPluginRules } from \"@eslint/compat\";\nimport { FlatCompat } from \"@eslint/eslintrc\";\nimport js from \"@eslint/js\";\nimport typescriptEslint from \"@typescript-eslint/eslint-plugin\";\nimport tsParser from \"@typescript-eslint/parser\";\nimport importAccess from \"eslint-plugin-import-access/flat-config\";\nimport simpleImportSort from \"eslint-plugin-simple-import-sort\";\nimport unusedImports from \"eslint-plugin-unused-imports\";\nimport path from \"node:path\";\nimport { fileURLToPath } from \"node:url\";\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\nconst compat = new FlatCompat({\n  baseDirectory: __dirname,\n  recommendedConfig: js.configs.recommended,\n  allConfig: js.configs.all,\n});\n\nexport default [\n  {\n    ignores: [\"coverage\", \".next\", \"*.config.mjs\", \"components/ui/**/*\"],\n  },\n  ...fixupConfigRules(\n    compat.extends(\n      \"plugin:@typescript-eslint/recommended\",\n      \"next/core-web-vitals\",\n      \"plugin:import/recommended\",\n      \"plugin:import/warnings\",\n    ),\n  ),\n  {\n    plugins: {\n      \"@typescript-eslint\": fixupPluginRules(typescriptEslint),\n      \"simple-import-sort\": simpleImportSort,\n      \"unused-imports\": unusedImports,\n      \"import-access\": importAccess,\n    },\n    languageOptions: {\n      parser: tsParser,\n      ecmaVersion: \"latest\",\n      sourceType: \"module\",\n      parserOptions: {\n        project: \"./tsconfig.json\",\n        tsconfigRootDir: __dirname,\n      },\n    },\n    rules: {\n      \"@typescript-eslint/naming-convention\": [\n        \"error\",\n        {\n          selector: \"variable\",\n          types: [\"array\", \"boolean\", \"number\", \"string\"],\n          format: [\"strictCamelCase\", \"UPPER_CASE\"],\n        },\n        {\n          selector: \"variable\",\n          types: [\"function\"],\n          format: [\"strictCamelCase\", \"StrictPascalCase\"],\n        },\n      ],\n      \"simple-import-sort/imports\": \"error\",\n      \"simple-import-sort/exports\": \"error\",\n      \"import/first\": \"error\",\n      \"import/newline-after-import\": \"error\",\n      \"import/no-duplicates\": \"error\",\n      \"@typescript-eslint/consistent-type-exports\": \"error\",\n      \"import/group-exports\": \"error\",\n      \"unused-imports/no-unused-imports\": \"error\",\n      \"import-access/jsdoc\": [\"error\"],\n      \"no-restricted-imports\": [\n        \"error\",\n        {\n          paths: [\n            \"sonner\",\n            \"next/link\",\n            \"react-icons\",\n            \"lucide-react\",\n            \"zod\",\n            { name: \"@/components/ui/Form\", importNames: [\"Form\"] },\n            {\n              name: \"@next/third-parties/google\",\n              importNames: [\"sendGAEvent\"],\n            },\n          ],\n          patterns: [\"react-icons/*\"],\n        },\n      ],\n      \"no-restricted-syntax\": [\n        \"error\",\n        {\n          selector:\n            \"CallExpression[callee.object.name='Object'][callee.property.name='keys']\",\n          message:\n            \"Do not use Object.keys. Check src/utils/object.ts or add a new utility function.\",\n        },\n      ],\n      \"@typescript-eslint/no-unused-vars\": \"off\",\n      \"@typescript-eslint/no-unnecessary-type-assertion\": \"error\",\n    },\n  },\n  {\n    files: [\n      \"src/**/*.stories.tsx\",\n      \"src/**/*Type.ts\",\n      \"src/types/**\",\n      \"src/features/**/*Repository.ts\",\n      \"src/features/**/*Converter.ts\",\n      \"src/features/**/*Constants.ts\",\n    ],\n    rules: {\n      \"import/group-exports\": \"off\",\n    },\n  },\n  {\n    files: [\"components/icons/**/*.{ts,tsx}\"],\n    rules: {\n      \"no-restricted-imports\": \"off\",\n    },\n  },\n];\n```\n\n### ã‚³ãƒ¼ãƒ‰ã®è§£èª¬\n\n**1. ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆéƒ¨**\n\n```js\nimport { fixupConfigRules, fixupPluginRules } from \"@eslint/compat\";\nimport { FlatCompat } from \"@eslint/eslintrc\";\nimport js from \"@eslint/js\";\nimport typescriptEslint from \"@typescript-eslint/eslint-plugin\";\nimport tsParser from \"@typescript-eslint/parser\";\nimport importAccess from \"eslint-plugin-import-access/flat-config\";\nimport simpleImportSort from \"eslint-plugin-simple-import-sort\";\nimport unusedImports from \"eslint-plugin-unused-imports\";\nimport path from \"node:path\";\nimport { fileURLToPath } from \"node:url\";\n```\n\n| è¡Œ                                        | å†…å®¹                                                                             |\n| ----------------------------------------- | -------------------------------------------------------------------------------- |\n| `@eslint/compat`                          | `.eslintrc` ã‚¹ã‚¿ã‚¤ãƒ«ã®è¨­å®šï¼ˆextends ç­‰ï¼‰ã‚’ãƒ•ãƒ©ãƒƒãƒˆæ§‹æˆç”¨ã«å¤‰æ›ã™ã‚‹ãŸã‚ã®ãƒ˜ãƒ«ãƒ‘ãƒ¼ |\n| `FlatCompat`                              | â†‘ã®å¤‰æ›ã‚’å®Ÿéš›ã«è¡Œã†ã‚¯ãƒ©ã‚¹ã€‚`plugin:xxx/recommended` ãªã©ã‚’ä½¿ã„ãŸã„ã¨ãã«å¿…è¦     |\n| `@eslint/js`                              | ESLintå…¬å¼ã® `recommended` è¨­å®šã‚»ãƒƒãƒˆï¼ˆESLintãŒæä¾›ã™ã‚‹åŸºæœ¬ãƒ«ãƒ¼ãƒ«ï¼‰              |\n| `@typescript-eslint/*`                    | TypeScriptã®ãƒ«ãƒ¼ãƒ«å®šç¾©ã¨ãƒ‘ãƒ¼ã‚µã€‚TSå¯¾å¿œã«ã¯å¿…é ˆ                                   |\n| `eslint-plugin-import-access/flat-config` | importåˆ¶é™ã‚’JSDocã«åŸºã¥ã„ã¦è¡Œã†ãŸã‚ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ï¼ˆâ€»ãƒ•ãƒ©ãƒƒãƒˆæ§‹æˆå¯¾å¿œã®å…¥å£ï¼‰       |\n| ãã®ä»–ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³                        | `simple-import-sort`, `unused-imports` â†’ importé †ã‚„æœªä½¿ç”¨importã®æ•´ç†ç”¨          |\n| `path`, `fileURLToPath`                   | `__dirname` ã‚’ESMå½¢å¼ã§å–å¾—ã™ã‚‹ãŸã‚ã®å‡¦ç†ï¼ˆNode.js ESMã®éƒ½åˆï¼‰                   |\n\n**2. `__dirname` & `FlatCompat` ã®æº–å‚™**\n\n```js\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\nconst compat = new FlatCompat({\n  baseDirectory: __dirname,\n  recommendedConfig: js.configs.recommended,\n  allConfig: js.configs.all,\n});\n```\n\n| è¡Œ                        | å†…å®¹                                                                                                                 |\n| ------------------------- | -------------------------------------------------------------------------------------------------------------------- |\n| `__filename`, `__dirname` | CommonJSã«ãªã„ESMå½¢å¼ã§ã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹å–å¾—                                                                            |\n| `FlatCompat(...)`         | `.eslintrc`ã§æ›¸ã‹ã‚ŒãŸã‚ˆã†ãªè¨­å®šï¼ˆä¾‹: `\"plugin:@typescript-eslint/recommended\"`ï¼‰ã‚’ãƒ•ãƒ©ãƒƒãƒˆæ§‹æˆã§ã‚‚ä½¿ãˆã‚‹ã‚ˆã†å¤‰æ›ã™ã‚‹ |\n\n**3. ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã‚‹ ESLint è¨­å®šæœ¬ä½“**\n\n```js\nexport default [\n  ...\n];\n```\n\n**4. ç„¡è¦–ãƒ•ã‚¡ã‚¤ãƒ«ã®æŒ‡å®š**\n\n```js\n{\n  ignores: [\n    \"coverage\",\n    \".next\",\n    \"*.config.mjs\",\n    \"components/ui/**/*\",\n  ],\n},\n```\n\n- ESLintãŒãƒã‚§ãƒƒã‚¯å¯¾è±¡ã‹ã‚‰é™¤å¤–ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãƒ•ã‚©ãƒ«ãƒ€ã‚’å®šç¾©\n- `*.config.mjs`ãªã©ã‚‚è§£æã—ãªã„ã‚ˆã†é™¤å¤–ã—ã¦ã„ã‚‹ï¼ˆèª¤æ¤œå‡ºé˜²æ­¢ï¼‰\n\n**5. å¾“æ¥ã® extends ã‚’ãã®ã¾ã¾ä½¿ã†ï¼ˆå¤‰æ›ï¼‰**\n\n```js\n...fixupConfigRules(\n  compat.extends(\n    \"plugin:@typescript-eslint/recommended\",\n    \"next/core-web-vitals\",\n    \"plugin:import/recommended\",\n    \"plugin:import/warnings\",\n  )\n),\n```\n\n- `compat.extends(...)`ï¼š`.eslintrc`ã‚¹ã‚¿ã‚¤ãƒ«ã® `\"extends\"` ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«å¤‰æ›\n- `fixupConfigRules(...)`ï¼šãƒ«ãƒ¼ãƒ«ã«ãƒ—ãƒ©ã‚°ã‚¤ãƒ³åã‚’æ­£ã—ããƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã—ã¦ãã‚Œã‚‹ï¼ˆä¾‹: `\"@typescript-eslint/no-unused-vars\"` ã«ç›´ã—ã¦ãã‚Œã‚‹ï¼‰\n\n**6. ãƒ¡ã‚¤ãƒ³è¨­å®šãƒ–ãƒ­ãƒƒã‚¯ï¼ˆãƒ«ãƒ¼ãƒ«ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãªã©ï¼‰**\n\n```js\n{\n  plugins: {\n    \"@typescript-eslint\": fixupPluginRules(typescriptEslint),\n    \"simple-import-sort\": simpleImportSort,\n    \"unused-imports\": unusedImports,\n    \"import-access\": importAccess,\n  },\n  ...\n}\n```\n\n| ã‚»ã‚¯ã‚·ãƒ§ãƒ³              | å†…å®¹                                                                   |\n| ----------------------- | ---------------------------------------------------------------------- |\n| `plugins`               | ä½¿ç”¨ã™ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ ESLint ã«æ˜ç¤ºçš„ã«ç™»éŒ²                             |\n| `fixupPluginRules(...)` | `@typescript-eslint` ã®ãƒ«ãƒ¼ãƒ«ã‚’æ­£ã—ãä½¿ãˆã‚‹å½¢ã«æ•´å½¢                    |\n| `languageOptions`       | ECMAScriptã‚„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ç¨®åˆ¥ï¼ˆESMï¼‰ã€TypeScriptã®ãƒ‘ãƒ¼ã‚µæƒ…å ±              |\n| `parserOptions`         | `tsconfig.json` ã®å ´æ‰€ã‚’ ESLint ã«æ•™ãˆã‚‹ï¼ˆå‹æƒ…å ±ã‚’ä½¿ã„ãŸã„ã¨ãã«é‡è¦ï¼‰ |\n\n**7. ãƒ«ãƒ¼ãƒ«è¨­å®šï¼ˆé‡è¦ï¼‰**\n\n```js\nrules: {\n  \"@typescript-eslint/naming-convention\": [...],\n  \"simple-import-sort/imports\": \"error\",\n  \"simple-import-sort/exports\": \"error\",\n  ...\n}\n```\n\n| ãƒ«ãƒ¼ãƒ«å                           | å†…å®¹                                                                 |\n| ---------------------------------- | -------------------------------------------------------------------- |\n| `naming-convention`                | å¤‰æ•°åã®å½¢å¼ã‚’å¼·åˆ¶ï¼ˆcamelCase, PascalCase ãªã©ï¼‰                     |\n| `simple-import-sort/*`             | import/export æ–‡ã‚’è‡ªå‹•ã§ã‚½ãƒ¼ãƒˆ                                       |\n| `unused-imports/no-unused-imports` | æœªä½¿ç”¨ã® import ã‚’ã‚¨ãƒ©ãƒ¼ã«                                           |\n| `import/first`                     | importæ–‡ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã®å…ˆé ­ã«æ›¸ã‘                                       |\n| `import/no-duplicates`             | åŒã˜ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¤‡æ•°å› import ã™ã‚‹ãª                                 |\n| `import/group-exports`             | export ã¯ã¾ã¨ã‚ã¦æ›¸ã‘ï¼ˆãƒãƒ©ãƒãƒ©ã«æ›¸ã‹ãªã„ï¼‰                          |\n| `import-access/jsdoc`              | JSDocã‚³ãƒ¡ãƒ³ãƒˆã«å¾“ã£ã¦å±¤é–“importã‚’åˆ¶é™ï¼ˆä¾‹: infra â†’ domain ç¦æ­¢ãªã©ï¼‰ |\n| `no-restricted-imports`            | ç‰¹å®šã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚„importåã‚’ç¦æ­¢ï¼ˆä½¿ã£ã¦ã»ã—ããªã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãªã©ï¼‰   |\n| `no-restricted-syntax`             | ç‰¹å®šã®æ§‹æ–‡ï¼ˆä¾‹: `Object.keys`ï¼‰ã®ä½¿ç”¨ã‚’ç¦æ­¢ã—ã€ç‹¬è‡ªå®Ÿè£…ã‚’ä¿ƒã™        |\n\n**8. ç‰¹å®šãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ãƒ«ãƒ¼ãƒ«é©ç”¨é™¤å¤–**\n\n```js\n{\n  files: [...],\n  rules: {\n    \"import/group-exports\": \"off\",\n  },\n},\n{\n  files: [\"components/icons/**/*.{ts,tsx}\"],\n  rules: {\n    \"no-restricted-imports\": \"off\",\n  },\n},\n```\n\n- ç‰¹å®šã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆä¾‹: `*.stories.tsx`, `*Type.ts`ï¼‰ã«ã ã‘ãƒ«ãƒ¼ãƒ«ã‚’å¤‰æ›´\n- `group-exports`ã‚’ç„¡åŠ¹ã«ã™ã‚‹ã“ã¨ã§ã€æŸ”è»Ÿã«exportå¯èƒ½ã«ã—ã¦ã„ã‚‹\n\n# tailwindã®è¨­å®š\n\nTailwind CSS ã¯é€šå¸¸ã® CSS ã‚„ JS æ–‡æ³•ã¨ã¯é•ã†ã€Œãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ã‚’æ–‡å­—åˆ—ã§æ›¸ãã‚¹ã‚¿ã‚¤ãƒ«ã€ãªã®ã§ï¼Œã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯ã‚„æ§‹æ–‡ãƒã‚§ãƒƒã‚¯ãŒã§ãã¾ã›ã‚“ï¼ãã®ãŸã‚ã“ã‚Œã‚‰ã®è¨­å®šã‚’eslintã«è¿½åŠ ã—ã¦ã„ãã¾ã™\n\n## npm ã®è¿½åŠ \n\n```bash\nnpm install -D eslint-plugin-readable-tailwind\n```\n\n## eslint.config.mjsã®è¨­å®š\n\n### import\n\n```js\nimport readableTailwind from \"eslint-plugin-readable-tailwind\";\n```\n\n### `ignores`ã«è¿½è¨˜\n\n```js\n  {\n    ignores: [\n      \"coverage\",\n      \".next\",\n      \"*.config.mjs\",\n      \"tailwind.config.ts\",  // â†è¿½åŠ \n      \"components/ui/**/*\",\n    ],\n  },\n```\n\n### `compat.extends(...)` ã«è¿½è¨˜\n\n```js\n...fixupConfigRules(\n  compat.extends(\n    \"plugin:@typescript-eslint/recommended\",\n    \"plugin:import/recommended\",\n    \"plugin:import/warnings\",\n    \"plugin:tailwindcss/recommended\", // â†è¿½åŠ \n  )\n),\n```\n\n### `plugins`ã«è¿½åŠ \n\n```js\nplugins: {\n  \"@typescript-eslint\": fixupPluginRules(typescriptEslint),\n  \"simple-import-sort\": simpleImportSort,\n  \"unused-imports\": unusedImports,\n  \"import-access\": importAccess,\n  \"readable-tailwind\": readableTailwind, // â†è¿½åŠ \n},\n```\n\n### Tailwindã® `settings`ï¼ˆ`cn()` ãªã©è£œå®Œé–¢æ•°ã‚’è§£æã•ã›ãŸã„å ´åˆï¼‰\n\n```js\nsettings: {\n  tailwindcss: {\n    callees: [\"cn\", \"cva\"], // `cn()` ã‚„ `cva()` ã®ä¸­ã®classåã‚‚ãƒã‚§ãƒƒã‚¯å¯¾è±¡ã«\n  },\n},\n```\n\n### `rules`ã‚’è¿½åŠ \n\n```js\n      \"tailwindcss/no-custom-classname\": [\n        \"error\",\n        {\n          classRegex:\n            \"^(class(Name)?|textClassName|iconClassName|innerClassName)$\",\n          whitelist: [\"^[A-Z].*\"],\n        },\n      ],\n      \"readable-tailwind/multiline\": [\n        \"warn\",\n        {\n          group: \"newLine\",\n        },\n      ],\n```\n\n- `no-custom-classname`ï¼šã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ©ã‚¹ã®æ··å…¥ã‚’åˆ¶é™\n- `readable-tailwind/multiline`: Tailwindã‚¯ãƒ©ã‚¹ã‚’æŠ˜ã‚Šè¿”ã—ã¦å¯èª­æ€§ã‚’é«˜ã‚ã‚‹ï¼ˆè¤‡æ•°è¡Œã«åˆ†ã‘ã‚‹ï¼‰\n\n## tailwind.config.tsã®è¨­å®š\n\nãªãœã‹ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã•ã‚Œãªã„ã¨ã„ã£ãŸäº‹è±¡ãŒç™ºç”Ÿã—ãŸå ´åˆï¼Œã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ï¼\n\n```ts\n  content: [\n    \"./pages/**/*.{js,ts,jsx,tsx,mdx}\",\n    \"./components/**/*.{js,ts,jsx,tsx,mdx}\",\n    \"./app/**/*.{js,ts,jsx,tsx,mdx}\",\n    \"./features/**/*.{js,ts,jsx,tsx,mdx}\",\n  ],\n```\n\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å ´æ‰€ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ï¼\n\n# prettierã®è¨­å®š\n\nPrettierã¯ã‚³ãƒ¼ãƒ‰æ•´å½¢ã‚’è‡ªå‹•ã§æƒãˆã‚‹ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ã§ã™ï¼eslintã‚‚ä¸€éƒ¨ã¯ã‚³ãƒ¼ãƒ‰æ•´å½¢ã‚’è¡Œã„ã¾ã™ãŒï¼Œã“ã‚Œã¯ã‚ˆã‚Šæ‹¡å¼µçš„ã§ã™ï¼\n\n## eslint.config.mjsã®è¨­å®š\n\n### ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®è¿½åŠ \n\n```bash\nnpm install -D \\\n  prettier \\\n  prettier-plugin-tailwindcss \\\n  eslint-config-prettier\n```\n\n<blockquote>\nâ€» eslint-plugin-prettier ã‚’ä½¿ã„ãŸã„å ´åˆã¯ã€æœ€å¾Œã«ä»¥ä¸‹ã‚’è¿½åŠ ï¼š\n\n```bash\nnpm install -D eslint-plugin-prettier\n```\n\n</blockquote>\n\n| ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå                  | å½¹å‰²ãƒ»èª¬æ˜                                                                                                         |\n| ----------------------------- | ------------------------------------------------------------------------------------------------------------------ |\n| `prettier`                    | ã‚³ãƒ¼ãƒ‰æ•´å½¢æœ¬ä½“ã€‚ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚„æ”¹è¡Œã€ã‚¹ãƒšãƒ¼ã‚¹ãªã©ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ä¸€è²«ã—ã¦æ•´ãˆã‚‹ã€‚                                         |\n| `prettier-plugin-tailwindcss` | Tailwindã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ã‚’è‡ªå‹•ã§**æ¨å¥¨é †ã«ä¸¦ã¹æ›¿ãˆã‚‹**Prettierãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã€‚                                   |\n| `eslint-config-prettier`      | ESLintã®æ•´å½¢ç³»ãƒ«ãƒ¼ãƒ«ã¨Prettierã®ãƒ«ãƒ¼ãƒ«ãŒç«¶åˆã—ãªã„ã‚ˆã†ã«ã€ESLintå´ã®æ•´å½¢ãƒ«ãƒ¼ãƒ«ã‚’ç„¡åŠ¹åŒ–ã™ã‚‹ã€‚                       |\n| `eslint-plugin-prettier`      | Prettierã®æ•´å½¢ãƒ«ãƒ¼ãƒ«é•åã‚’**ESLintã®è­¦å‘Šã¨ã—ã¦è¡¨ç¤ºã™ã‚‹**ãŸã‚ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ï¼ˆVSCodeã§ä¿å­˜æ™‚æ•´å½¢ã™ã‚‹å ´åˆã¯çœç•¥å¯èƒ½ï¼‰ã€‚ |\n\n### `compat.extends(...)` ã«è¿½è¨˜\n\n```js\n...fixupConfigRules(\n  compat.extends(\n    \"plugin:@typescript-eslint/recommended\",\n    \"plugin:import/recommended\",\n    \"plugin:import/warnings\",\n    \"plugin:tailwindcss/recommended\",\n    \"prettier\", // â†è¿½åŠ \n  )\n),\n```\n\n# vscodeã®è¨­å®š\n\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«`.vscode`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’é…ç½®ã—ï¼Œãã®ä¸­ã«jsonãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®ã™ã‚‹ã¨vscodeå°‚ç”¨ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã”ã¨ã®ã‚¨ãƒ‡ã‚£ã‚¿è¨­å®šã‚’ç½®ãã“ã¨ãŒã§ãã¾ã™ï¼\n\n## ä½¿ãˆã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\n\n| ãƒ•ã‚¡ã‚¤ãƒ«å        | ç”¨é€”ãƒ»ã§ãã‚‹ã“ã¨                                               |\n| ----------------- | -------------------------------------------------------------- |\n| `settings.json`   | ã‚¨ãƒ‡ã‚£ã‚¿ã®å‹•ä½œã‚„æ‹¡å¼µæ©Ÿèƒ½ã®è¨­å®šï¼ˆä¿å­˜æ™‚æ•´å½¢ã€ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆå¹…ãªã©ï¼‰ |\n| `extensions.json` | æ¨å¥¨æ‹¡å¼µæ©Ÿèƒ½ã®ä¸€è¦§ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå‚åŠ è€…ã«è‡ªå‹•ã§é€šçŸ¥ã•ã‚Œã‚‹ï¼‰     |\n| `launch.json`     | ãƒ‡ãƒãƒƒã‚¬ãƒ¼ã®è¨­å®šï¼ˆNode.jsã‚„Chromeã®ã‚¹ãƒ†ãƒƒãƒ—å®Ÿè¡Œãªã©ï¼‰          |\n| `tasks.json`      | ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§å®Ÿè¡Œã™ã‚‹ã‚¿ã‚¹ã‚¯ã‚’å®šç¾©ï¼ˆãƒ“ãƒ«ãƒ‰ãƒ»lintãƒ»test ãªã©ï¼‰    |\n\n## settings.jsonã®è¨­å®š\n\nã“ã“ã§ã¯eslintã‚„prettieré–¢é€£ã®è¨­å®šã‚’ã—ï¼Œãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜æ™‚ã«è‡ªå‹•ã§æ•´å½¢ãŒèµ°ã‚‹ã‚ˆã†ã«ã—ã¾ã™ï¼\n\n```json\n{\n  \"editor.formatOnSave\": true,\n  \"editor.defaultFormatter\": \"esbenp.prettier-vscode\",\n  \"editor.codeActionsOnSave\": {\n    \"source.fixAll\": \"explicit\",\n    \"source.fixAll.eslint\": \"explicit\",\n    \"source.organizeImports\": \"explicit\"\n  },\n  \"typescript.preferences.importModuleSpecifier\": \"non-relative\",\n  \"typescript.tsdk\": \"node_modules/typescript/lib\",\n  \"tailwindCSS.classAttributes\": [\"class\", \"className\", \".*Class\"],\n  \"tailwindCSS.experimental.classRegex\": [\n    [\"cva\\\\(([^)]*)\\\\)\", \"[\\\"'`]([^\\\"'`]*).*?[\\\"'`]\"],\n    [\"cn\\\\(([^)]*)\\\\)\", \"[\\\"'`]([^\\\"'`]*).*?[\\\"'`]\"],\n    [\"cx\\\\(([^)]*)\\\\)\", \"(?:'|\\\"|`)([^']*)(?:'|\\\"|`)\"]\n  ]\n}\n```\n\n| è¨­å®šã‚­ãƒ¼                                            | å†…å®¹ãƒ»èª¬æ˜                                                                              |\n| --------------------------------------------------- | --------------------------------------------------------------------------------------- |\n| `\"editor.formatOnSave\"`                             | ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜æ™‚ã«è‡ªå‹•ã§ã‚³ãƒ¼ãƒ‰æ•´å½¢ï¼ˆPrettierãªã©ãŒæœ‰åŠ¹ã«ãªã‚‹ï¼‰                            |\n| `\"editor.defaultFormatter\"`                         | Prettieræ‹¡å¼µæ©Ÿèƒ½ï¼ˆ`esbenp.prettier-vscode`ï¼‰ã‚’æ•´å½¢ã‚¨ãƒ³ã‚¸ãƒ³ã¨ã—ã¦ä½¿ç”¨                    |\n| `\"editor.codeActionsOnSave.source.fixAll\"`          | æ˜ç¤ºçš„ã«ä¿å­˜ã—ãŸã¨ãã®ã¿ã€ã™ã¹ã¦ã®å•é¡Œï¼ˆLintç­‰ï¼‰ã‚’ä¸€æ‹¬ä¿®æ­£                              |\n| `\"editor.codeActionsOnSave.source.fixAll.eslint\"`   | æ˜ç¤ºçš„ã«ä¿å­˜ã—ãŸã¨ãã®ã¿ã€ESLintã®è­¦å‘Šãƒ»ã‚¨ãƒ©ãƒ¼ã‚’è‡ªå‹•ä¿®æ­£                                |\n| `\"editor.codeActionsOnSave.source.organizeImports\"` | æ˜ç¤ºçš„ã«ä¿å­˜ã—ãŸã¨ãã®ã¿ã€ä¸è¦ãªimportå‰Šé™¤ï¼†ä¸¦ã³æ›¿ãˆ                                    |\n| `\"typescript.preferences.importModuleSpecifier\"`    | TypeScriptã®importè£œå®Œã‚’ç›¸å¯¾ãƒ‘ã‚¹ã§ã¯ãªãçµ¶å¯¾ãƒ‘ã‚¹ï¼ˆéç›¸å¯¾ï¼‰ã«ã™ã‚‹                        |\n| `\"typescript.tsdk\"`                                 | VSCodeãŒä½¿ç”¨ã™ã‚‹TypeScriptãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã® `node_modules/typescript` ã«å›ºå®š |\n| `\"tailwindCSS.classAttributes\"`                     | Tailwindã®è£œå®Œå¯¾è±¡ã¨ãªã‚‹å±æ€§åï¼ˆ`class`, `className`, `iconClassName`ãªã©ï¼‰ã‚’æŒ‡å®š       |\n| `\"tailwindCSS.experimental.classRegex\"`             | `cn()`, `cva()`, `cx()` ã®ã‚ˆã†ãªé–¢æ•°å†…ã§ã‚‚Tailwindã‚¯ãƒ©ã‚¹ã‚’èªè­˜ã•ã›ã‚‹æ­£è¦è¡¨ç¾è¨­å®š        |\n\n## extensions.jsonã®è¨­å®š\n\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ã†ã¹ã VSCode æ‹¡å¼µæ©Ÿèƒ½ã®ãŠã™ã™ã‚ä¸€è¦§ã‚’ç¤ºã—ï¼Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼\n\n```json\n{\n  \"recommendations\": [\n    \"dbaeumer.vscode-eslint\", // ESLintã®ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºãƒ»è‡ªå‹•ä¿®æ­£ã‚’æœ‰åŠ¹ã«ã™ã‚‹æ‹¡å¼µ\n    \"esbenp.prettier-vscode\", // Prettierã§ä¿å­˜æ™‚æ•´å½¢ã‚’ã™ã‚‹æ‹¡å¼µ\n    \"bradlc.vscode-tailwindcss\" // Tailwindã‚¯ãƒ©ã‚¹ã®è£œå®Œãƒ»è‰²è¡¨ç¤ºã‚’ã—ã¦ãã‚Œã‚‹æ‹¡å¼µ\n  ]\n}\n```\n\n# ã¾ã¨ã‚\n\nä»¥ä¸Šã®ã“ã¨ã‚’ã™ã‚‹ã¨æ§‹æ–‡ãƒã‚§ãƒƒã‚¯ãŒã§ãï¼Œãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜æ™‚ã«è‡ªå‹•ã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒ†ã‚£ãƒ³ã‚°ã•ã‚Œã¾ã™ï¼ã™ã”ãé ¼ã‚‚ã—ã„ã§ã™ï¼\n",
    "createdAt": "2025-07-21T07:23:48.458Z",
    "updatedAt": "2025-07-21T07:23:48.458Z"
  },
  {
    "title": "Next.jsã¨Railsã§ä½œã‚‹webã‚¢ãƒ—ãƒª",
    "summary": "Next.jsã¨Railsã§apié–‹ç™ºã®å‹‰å¼·ã‚’ã—ãŸã®ã§ã“ã“ã«ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™",
    "tags": [
      "Next.js",
      "webã‚¢ãƒ—ãƒªé–‹ç™º",
      "Ruby on Rails",
      "API"
    ],
    "slug": "Next.js/next-rails-tutorial",
    "folder": "Next.js",
    "content": "\n# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰\n\n## railsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ\n\n---\n\n```bash\nrails new blog_api --api -T\n```\n\n`--api`ã¨ã™ã‚‹ã“ã¨ã§ï¼Œviewãªã©ã®ä½™è¨ˆãªãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆãŒã•ã‚Œãªããªã‚Šã¾ã™ï¼ã¾ãŸï¼Œ`-T`ã¨ã™ã‚‹ã¨ï¼Œãƒ†ã‚¹ãƒˆç”¨ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œãªããªã‚Šã¾ã™ï¼\n\n## gemã®è¿½åŠ \n\n---\n\n```ruby\n# Gemfile\n  gem 'rack-cors', require: 'rack/cors'\n```\n\nNext.jsã‚¢ãƒ—ãƒªã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘ä»˜ã‘ã‚‹éš›ã«corsã®è¨­å®šã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ï¼Œ`rack-cors`ã®gemã‚’è¿½åŠ ã—ã¾ã™ï¼ãã®å¾Œï¼Œ`bundle install`ã™ã‚‹ã“ã¨ã‚’å¿˜ã‚Œãªã„ã‚ˆã†ã«ã—ã¾ã—ã‚‡ã†\n\n## rack-corsã®è¨­å®š\n\n---\n\nã“ã“ã§è¨±å¯ã™ã‚‹ã‚ªãƒªã‚¸ãƒ³ã‚’è¨­å®šã—ã¦ãŠãã¾ã—ã‚‡ã†\n\n```ruby\n# config/initializers/cors.rb\nRails.application.config.middleware.insert_before 0, Rack::Cors do\n  allow do\n    origins \"http://localhost:3000\"\n\n    resource \"*\",\n      headers: :any,\n      methods: [:get, :post, :put, :patch, :delete, :options, :head]\n  end\nend\n```\n\n## ãƒ¢ãƒ‡ãƒ«ä½œæˆ\n\n---\n\nãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ç™»éŒ²ã—ãŸã„ãƒ†ãƒ¼ãƒ–ãƒ«ã®ãƒ¢ãƒ‡ãƒ«ã‚’ä½œã‚Šã¾ã™ï¼\n\n```bash\nrails generate model Post title:string content:text\n```\n\nã“ã®å ´åˆï¼Œdbã«ã¯`posts`ã¨ã„ã†ãƒ†ãƒ¼ãƒ–ãƒ«ãŒè¿½åŠ ã•ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ï¼\n\n### ä½œæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\n\n#### **ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«**\n\nãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã™ã‚‹ãŸã‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ï¼`rails db:migrate`ã‚’ã™ã‚‹ã¨ã¯ã˜ã‚ã¦å®Ÿè¡Œã•ã‚Œã‚‹\n\n```ruby\n# db/migrate/20250209064827_create_posts.rb\nclass CreatePosts < ActiveRecord::Migration[7.2]\n  def change\n    create_table :posts do |t|\n      t.string :title\n      t.text :content\n\n      t.timestamps\n    end\n  end\nend\n```\n\n> ãƒ¢ãƒ‡ãƒ«ã¯å˜æ•°å½¢ã§ä¸€æ–‡å­—ç›®ãŒå¤§æ–‡å­—ï¼Œãƒ†ãƒ¼ãƒ–ãƒ«ã¯è¤‡æ•°å½¢ã§å…¨ã¦å°æ–‡å­—ã§è¨˜è¿°ã™ã‚‹ã®ãŒæ…£ç¿’\n\n#### **ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«**\n\nã“ã“ã«è¨˜è¿°ã•ã‚ŒãŸã‚¯ãƒ©ã‚¹ã‚’ç”¨ã„ã¦ï¼Œã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãªã©ã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æ“ä½œã‚’è¡Œã†ï¼ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚„ã‚¢ã‚½ã‚·ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ãªã©ã‚’è¨˜è¿°ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½\n\n```ruby\n# app/models/post.rb\nclass Post < ApplicationRecord\nend\n```\n\n#### **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**\n\nä»Šå›ã¯`rails new blog_api --api -T`ã§`-T`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦ã„ã‚‹ãŸã‚ï¼Œãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¯ä½œæˆã•ã‚Œãªã„\n\n#### **ã‚·ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«**\n\nãªã«ã‚‚æ›¸ã‹ã‚Œã¦ã„ãªã„ãŒï¼Œç‰¹ã«ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚Œã°ï¼Œ`Post.create`ã‚’ä½¿ã£ã¦åˆæœŸãƒ‡ãƒ¼ã‚¿ã‚’ç™»éŒ²ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½\n\n## ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³\n\n---\n\n```bash\nrails db:migrate\n```\n\n> `db/schema.rb`ã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚¹ã‚­ãƒ¼ãƒãŒè¨˜è¿°ã•ã‚Œã‚‹\n\n## ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ä½œæˆ\n\n---\n\nã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã¯ï¼Œãƒ¦ãƒ¼ã‚¶ã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘å–ã‚Šï¼Œé©åˆ‡ãªå‡¦ç†ã‚’è¡Œã„ï¼Œãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™å½¹å‰²ã‚’æŒã¡ã¾ã™ï¼ãã‚Œãã‚Œã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã¯ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’è¨­å®šã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå¯èƒ½ã«ãªã‚Šã¾ã™ï¼\n\n> **MVCãƒ¢ãƒ‡ãƒ«ã¨ã¯**\\\n> ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ä¸€ã¤ï¼ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹é€ ã‚’model, view, controllerã®3ã¤ã«åˆ†ã‘ã‚‹ã“ã¨ã§ï¼Œã‚³ãƒ¼ãƒ‰ã®æ•´ç†ã‚„ä¿å®ˆæ€§ã‚’å‘ä¸Šã•ã›ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼\n\n### ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ä½œæˆ\n\n```bash\nrails generate controller Api::v1::Posts index show create update destroy\n```\n\n> ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®è¨­å®šã‚’é–“é•ãˆãŸå ´åˆï¼Œ`rails destroy controller Api::v1::Posts`ã§å‰Šé™¤ã§ãã‚‹\n\n#### **ä½œæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«**\n\n##### **ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ•ã‚¡ã‚¤ãƒ«**\n\nã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ï¼`render`ãƒ¡ã‚½ãƒƒãƒ‰ã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™ï¼ä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜è¿°ã™ã‚‹ã“ã¨ã§ï¼Œjsonå½¢å¼ã§ãƒ‡ãƒ¼ã‚¿ã‚’è¿”ã™ã“ã¨ãŒã§ãã¾ã™ï¼\n\nä»Šå›ã¯ï¼Œ**æŠ•ç¨¿ä¸€è¦§**ï¼Œ**ç‰¹å®šã®æŠ•ç¨¿**ãŒå–å¾—ã§ãã‚‹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ï¼ŒæŠ•ç¨¿å†…å®¹ã‚’**ä½œæˆ**ï¼Œ**ç·¨é›†**ï¼Œ**å‰Šé™¤**ã§ãã‚‹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã‚’ä½œã£ã¦ã„ãã¾ã™\n\n```ruby\n# app/controllers/api/v1/posts_controller.rb\nclass Api::V1::PostsController < ApplicationController\n  def index\n    @posts = Post.all\n\n    render json: @posts\n  end\n\n  def show\n    @post = Post.find(params[:id])\n\n    render json: @post\n  end\n\n  def create\n    @post = Post.new(post_params)\n\n    if @post.save\n      render json: @post, status: :created\n    else\n      render json: @post.errors, status: :unprocessable_entity\n    end\n  end\n\n  def update\n    @post = Post.find(params[:id])\n\n    if @post.update(post_params)\n      render json: @post\n    else\n      render json: @post.errors, status: :unprocessable_entity\n    end\n  end\n\n  def destroy\n    @post = Post.find(params[:id])\n\n    @post.destroy\n  end\n\n  private\n\n  def post_params\n    params.require(:post).permit(:title, :content)\n  end\nend\n```\n\n> `@`ãŒã¤ã„ã¦ã„ã‚‹å¤‰æ•°ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°ï¼`:`ãŒã¤ã„ã¦ã„ã‚‹å¤‰æ•°ã¯ã‚·ãƒ³ãƒœãƒ«ï¼æ–‡å­—åˆ—ã®çš®ã‚’ã‹ã¶ã£ãŸæ•´æ•°å€¤ \\\n> `status: :unprocessable_entity`ã¯è¾æ›¸ \\\n> `params` ã¯ Rails ãŒãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•ã§ã‚»ãƒƒãƒˆã—ã¦ãã‚Œã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ\n\n##### **ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**\n\nåŸºæœ¬ã¯æ—¢ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ï¼`config/routes.rb`ã§ç®¡ç†ã‚’ã—ã¦ã„ã‚‹\n\n```ruby\n# config/routes.rb\n\nRails.application.routes.draw do\n  namespace :api do\n    namespace :v1 do\n      resources :posts, only: [:index, :show, :create, :update, :destroy]\n    end\n  end\n  # Define your application routes per the DSL in https://guides.rubyonrails.org/routing.html\n\n  # Reveal health status on /up that returns 200 if the app boots with no exceptions, otherwise 500.\n  # Can be used by load balancers and uptime monitors to verify that the app is live.\n  get \"up\" => \"rails/health#show\", as: :rails_health_check\n\n  # Defines the root path route (\"/\")\n  # root \"posts#index\"\nend\n```\n\n> `resources :posts, only: [:index, :show, :create, :update, :destroy]` ã¨ã™ã‚‹ã¨ï¼Œã“ã‚Œã‚‰ã¯æš—é»™çš„ã«ä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒè¨­å®šã•ã‚Œã‚‹\n> | HTTPãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©#ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | ç”¨é€” |\n> | --- | --- | --- | --- |\n> | GET | /posts | posts#index | ä¸€è¦§è¡¨ç¤º |\n> | GET | /posts/:id | posts#show | è©³ç´°è¡¨ç¤º |\n> | POST | /posts | posts#create | ä½œæˆ |\n> | PUT | /posts/:id | posts#update | æ›´æ–° |\n> | DELETE | /posts/:id | posts#destroy | å‰Šé™¤ |\n>\n> ã“ã‚Œã‚’å„ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã”ã¨ã«è¨­å®šã™ã‚‹ã“ã¨ã§restfulãªAPIã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã‚‹\n\n### ãƒ†ã‚¹ãƒˆ\n\npostmanã‚„curlã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦APIã®ãƒ†ã‚¹ãƒˆã‚’è¡Œã†\n\n```bash\ncurl -X POST -H \"Content-Type: application/json\" -d '{\"post\": {\"title\": \"åˆã‚ã¦ã®æŠ•ç¨¿ã§ã™\", \"content\": \"åˆã‚ã¦ã®æŠ•ç¨¿ã§ã™\"}}' http://localhost:3000/api/v1/posts\ncurl -X POST -H \"Content-Type: application/json\" -d '{\"post\": {\"title\": \"2ã¤ç›®ã®æŠ•ç¨¿ã§ã™\", \"content\": \"2ã¤ç›®ã®æŠ•ç¨¿ã§ã™\"}}' http://localhost:3000/api/v1/posts\n\ncurl http://localhost:3000/api/v1/posts\ncurl http://localhost:3000/api/v1/posts/1\ncurl http://localhost:3000/api/v1/posts/2\n\ncurl -X PUT -H \"Content-Type: application/json\" -d '{\"post\": {\"title\": \"åˆã‚ã¦ã®æŠ•ç¨¿ã‚’æ›´æ–°ã—ã¾ã—ãŸ\", \"content\": \"åˆã‚ã¦ã®æŠ•ç¨¿ã‚’æ›´æ–°ã—ã¾ã—ãŸ\"}}' http://localhost:3000/api/v1/posts/1\ncurl -X PUT -H \"Content-Type: application/json\" -d '{\"post\": {\"title\": \"2ã¤ç›®ã®æŠ•ç¨¿ã‚’æ›´æ–°ã—ã¾ã—ãŸ\", \"content\": \"2ã¤ç›®ã®æŠ•ç¨¿ã‚’æ›´æ–°ã—ã¾ã—ãŸ\"}}' http://localhost:3000/api/v1/posts/2\n\ncurl -X DELETE http://localhost:3000/api/v1/posts/1\ncurl -X DELETE http://localhost:3000/api/v1/posts/2\n```\n\n## ãƒãƒ¼ãƒˆç•ªå·ã®å¤‰æ›´\n\n```bash\nrails s -p 3001\n```\n\n> æ°¸ç¶šçš„ã«å¤‰æ›´ã™ã‚‹å ´åˆã¯`config/puma.rb`ã‚’å¤‰æ›´ã™ã‚‹\n\n# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰\n\nNext.js typescript App router, TailwindCSSã‚’ä½¿ã£ã¦ã„ãã¾ã™ï¼\n\n## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ\n\n---\n\n```bash\nnpx create-next-app blog_client\n```\n\n## å„ç¨®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½œæˆ\n\n---\n\n### å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«\n\nãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºæ™‚ã«ä½œã£ãŸãƒ¢ãƒ‡ãƒ«ã®ã‚¹ã‚­ãƒ¼ãƒã¨åŒã˜ã«ã™ã‚‹ã¨è‰¯ã„ã§ã™ï¼\n\n```typescript\nexport type Post = {\n  id: number;\n  title: string;\n  content: string;\n  created_at: string;\n  updated_at: string;\n};\n```\n\n### æŠ•ç¨¿ä¸€è¦§ãƒšãƒ¼ã‚¸\n\n#### **ä¸€è¦§ãƒšãƒ¼ã‚¸**\n\nä¸€è¦§ãƒšãƒ¼ã‚¸ã§ã¯ï¼Œ`http://localhost:3000/api/v1/posts`ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã§ï¼Œã™ã¹ã¦ã®æŠ•ç¨¿ã‚’å–å¾—ã—ã¾ã™ï¼å„æŠ•ç¨¿ã«ã¯ç·¨é›†ãƒœã‚¿ãƒ³ã¨å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’ç”¨æ„ã—ï¼ŒæŠ•ç¨¿ä½œæˆãƒœã‚¿ãƒ³ã‚‚ç”¨æ„ã—ã¾ã™ï¼\n\nåŸºæœ¬çš„ã«ã¯SSRã§å®Ÿè£…ã—ã¦ã„ãã¾ã™ãŒï¼Œãƒ•ã‚©ãƒ¼ãƒ ãªã©ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§å‡¦ç†ã—ãªã„ã¨ã„ã‘ãªã„ã®ã§ï¼Œãã‚Œã‚‰ã¯åˆ¥é€”ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã—ã¦ä½œæˆã—ã¦ã„ãã¾ã™ï¼\n\n> **SSRã¨ã¯**\\\n> ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®æ„ï¼ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§ã¯ãªãã‚µãƒ¼ãƒå´ã§å‡¦ç†ã‚’æ¸ˆã¾ã™ã®ã§è² è·ãŒã‹ã‹ã‚Šã«ããã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é¢ã«ãŠã„ã¦ã‚‚å®‰å…¨ï¼\n\n```tsx\n// app/page.tsx\nimport { Post } from \"@/lib/types\";\nimport Link from \"next/link\";\nimport { DeletePost } from \"./_components/delete-post\";\n\nexport default async function Home() {\n  const res = await fetch(\"http://localhost:3001/api/v1/posts\", {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  });\n  const posts: Post[] = await res.json();\n\n  return (\n    <div className=\"container mx-auto p-4 flex flex-col items-center\">\n      <h2 className=\"text-2xl font-bold mb-4\">Rails & Next.js Blog</h2>\n\n      <Link\n        href=\"/create-post\"\n        className=\"text-blue-500 hover:text-blue-700 mb-4\"\n      >\n        Create new Post\n      </Link>\n\n      <div className=\"mt-6 w-full max-w-2xl\">\n        {posts.map((post) => (\n          <div\n            key={post.id}\n            className=\"border border-gray-300 rounded-lg p-4 mb-4 shadow-md\"\n          >\n            <Link\n              href={`posts/${post.id}`}\n              className=\"text-xl font-semibold text-blue-600 hover:text-blue-800\"\n            >\n              {post.title}\n            </Link>\n\n            <p className=\"text-gray-700 mt-2\">{post.content}</p>\n\n            <div className=\"flex justify-end mt-4\">\n              <Link\n                href={`posts/${post.id}/edit-post`}\n                className=\"text-sm text-white bg-blue-500 hover:bg-blue-700 py-1 px-2 rounded mr-2\"\n              >\n                Edit\n              </Link>\n\n              <DeletePost id={post.id} />\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n```\n\n#### **å‰Šé™¤ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**\n\nã“ã¡ã‚‰ã¯onClickã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§ç™ºç«ã•ã›ãªã‘ã‚Œã°ãªã‚‰ãªã„ãŸã‚ï¼Œ`use client`ã‚’è¿½åŠ ã—ï¼Œã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ã—ã¾ã™ï¼\n\n```tsx\n// app/_components/delete-post.tsx\n\"use client\";\n\nexport const DeletePost = ({ id }: { id: number }) => {\n  const handleDelete = async (id: number) => {\n    const res = await fetch(`http://localhost:3001/api/v1/posts/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    });\n\n    if (res.ok) {\n      alert(\"Post deleted\");\n    } else {\n      alert(\"Failed to delete post\");\n    }\n  };\n\n  return (\n    <button\n      onClick={() => handleDelete(id)}\n      className=\"text-sm text-white bg-red-500 hover:bg-red-700 py-1 px-2 rounded\"\n    >\n      Delete\n    </button>\n  );\n};\n```\n\n### æŠ•ç¨¿è©³ç´°ãƒšãƒ¼ã‚¸\n\nã“ã¡ã‚‰ã§ã¯ï¼Œå‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ç”¨ã„ã¦idã‚’å–å¾—ã—ï¼Œå¯¾è±¡ã®æŠ•ç¨¿ã‚’å–å¾—ã—ã¦è¡¨ç¤ºã—ã¾ã™ï¼\n\n```tsx\n// app/posts/[id]/page.tsx\nimport { Post } from \"@/lib/types\";\nimport Link from \"next/link\";\n\nexport default async function PostPage({\n  params,\n}: {\n  params: Promise<{ id: string }>;\n}) {\n  const { id } = await params;\n  const res = await fetch(`http://localhost:3001/api/v1/posts/${id}`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  });\n\n  const post: Post = await res.json();\n\n  return (\n    <div className=\"container mx-auto p-4 flex flex-col items-center\">\n      <div className=\"w-full max-w-2xl p-4\">\n        <h1 className=\"text-3xl font-bold mb-4\">{post.title}</h1>\n        <div className=\"text-gray-500 mb-4\">{post.created_at}</div>\n        <p className=\"text-gray-700\">{post.content}</p>\n        <Link href=\"/\" className=\"text-blue-500 hover:text-blue-700\">\n          æŠ•ç¨¿ä¸€è¦§ã«æˆ»ã‚‹\n        </Link>\n      </div>\n    </div>\n  );\n}\n```\n\n### æŠ•ç¨¿ä½œæˆãƒšãƒ¼ã‚¸\n\nã“ã¡ã‚‰ã¯ï¼Œã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãŒãƒ•ã‚©ãƒ¼ãƒ ã‚’ç·¨é›†ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã®ã§ï¼Œã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ã—ã¾ã™ï¼\n\n```tsx\n// app/create-post/page.tsx\n\"use client\";\n\nimport Link from \"next/link\";\nimport { redirect } from \"next/navigation\";\n\nexport default function CreatePage() {\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    const formData = new FormData(e.currentTarget);\n    const title = formData.get(\"title\") as string;\n    const content = formData.get(\"content\") as string;\n\n    const res = await fetch(\"http://localhost:3001/api/v1/posts\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        title: title,\n        content: content,\n      }),\n    });\n\n    if (res.ok) {\n      redirect(\"/\");\n    } else {\n      alert(\"Failed to create post\");\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto p-4 flex flex-col items-center\">\n      <div className=\"w-full max-w-2xl\">\n        <h1 className=\"text-3xl font-bold mb-6\">ãƒ–ãƒ­ã‚°æ–°è¦ç™»éŒ²</h1>\n\n        <form className=\"w-full\" onSubmit={handleSubmit}>\n          <div className=\"mb-4\">\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\">\n              ã‚¿ã‚¤ãƒˆãƒ«\n            </label>\n            <input\n              name=\"title\"\n              type=\"text\"\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n            />\n          </div>\n\n          <div className=\"mb-6\">\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\">\n              æœ¬æ–‡\n            </label>\n            <textarea\n              name=\"content\"\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n            />\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <button\n              type=\"submit\"\n              className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\n            >\n              æŠ•ç¨¿\n            </button>\n            <Link href=\"/\" className=\"text-blue-500 hover:text-blue-700\">\n              ã‚­ãƒ£ãƒ³ã‚»ãƒ«\n            </Link>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n```\n\n### æŠ•ç¨¿ç·¨é›†ãƒšãƒ¼ã‚¸\n\n#### **ç·¨é›†ãƒšãƒ¼ã‚¸**\n\nã“ã¡ã‚‰ã¯ï¼Œãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚‹ãŸã‚ã«SSRã—ï¼Œç·¨é›†ãŒã§ãã‚‹ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ¸¡ã—ã¦ãŠãã¾ã™\n\n```tsx\nimport { Post } from \"@/lib/types\";\nimport { EditForm } from \"./_components/form\";\n\nexport default async function EditPage({\n  params,\n}: {\n  params: Promise<{ id: string }>;\n}) {\n  const { id } = await params;\n  const res = await fetch(`http://localhost:3001/api/v1/posts/${id}`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  });\n\n  const post: Post = await res.json();\n\n  return <EditForm post={post} />;\n}\n```\n\n#### **ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ **\n\n```tsx\n\"use client\";\n\nimport { Post } from \"@/lib/types\";\nimport Link from \"next/link\";\nimport { redirect } from \"next/navigation\";\n\nexport const EditForm = ({ post }: { post: Post }) => {\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    const formData = new FormData(e.currentTarget);\n    const title = formData.get(\"title\") as string;\n    const content = formData.get(\"content\") as string;\n\n    const res = await fetch(`http://localhost:3001/api/v1/posts/${post.id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        title: title,\n        content: content,\n      }),\n    });\n\n    if (res.ok) {\n      redirect(`/posts/${post.id}`);\n    } else {\n      alert(\"Failed to update post\");\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto p-4 flex flex-col items-center\">\n      <div className=\"w-full max-w-2xl\">\n        <h1 className=\"text-3xl font-bold mb-6\">ãƒ–ãƒ­ã‚°ç·¨é›†</h1>\n\n        <form className=\"w-full\" onSubmit={handleSubmit}>\n          <div className=\"mb-4\">\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\">\n              ã‚¿ã‚¤ãƒˆãƒ«\n            </label>\n            <input\n              name=\"title\"\n              type=\"text\"\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n              defaultValue={post.title}\n            />\n          </div>\n\n          <div className=\"mb-6\">\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\">\n              æœ¬æ–‡\n            </label>\n            <textarea\n              name=\"content\"\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n              defaultValue={post.content}\n            />\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <button\n              type=\"submit\"\n              className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\n            >\n              æ›´æ–°\n            </button>\n            <Link\n              href={`/posts/${post.id}`}\n              className=\"text-blue-500 hover:text-blue-700\"\n            >\n              ã‚­ãƒ£ãƒ³ã‚»ãƒ«\n            </Link>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n```\n",
    "createdAt": "2025-07-21T07:23:48.458Z",
    "updatedAt": "2025-07-21T07:23:48.458Z"
  },
  {
    "title": "PCAè§£èª¬",
    "summary": "PCAã‚’ä¸€ã‹ã‚‰ã¾ã¨ã‚ã¾ã—ãŸï¼",
    "tags": [
      "PCA",
      "AI",
      "Machine Learning"
    ],
    "slug": "Generative-AI/PCA-explanation",
    "folder": "Generative-AI",
    "content": "\n# æ•™å¸«ãªã—å­¦ç¿’ã¨ã¯\n\n---\n\n## æ•™å¸«ã‚ã‚Šå­¦ç¿’ã¨æ¯”è¼ƒ\n\n1. ç›®çš„å¤‰æ•°ãŒãªã„ã€å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ãã®ã‚‚ã®ã«æ³¨ç›®\n2. ãƒ‡ãƒ¼ã‚¿ã®ä¸­ã«éƒ¨åˆ†é›†åˆã‚’è¦‹ã¤ã‘ãŸã‚Šã€ãƒ‡ãƒ¼ã‚¿ã‚’å¤‰æ›ã—ã¦åˆ¥ã®å½¢å¼ã§è¡¨ç¾ã—ãŸã‚Šã™ã‚‹ã“ã¨ã§ãƒ‡ãƒ¼ã‚¿ã®è§£é‡ˆæ€§ã‚’é«˜ã‚ã‚‹\n3. ãƒ‡ãƒ¼ã‚¿ã«æ½œã‚€ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚„ç¤ºå”†ã‚’è¦‹å‡ºã™ãŸã‚ã«ç”¨ã„ã‚‹\n4. æ•™å¸«ãªã—å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã¯ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã€æ¬¡å…ƒå‰Šæ¸›ã«å¤§åˆ¥ã§ãã‚‹\n\n## ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ã‚¹ã®ãƒ—ãƒ­ã‚»ã‚¹\n\nOSEMN (ã‚ªãƒ¼ã‚µãƒ ) Process\n\n![](https://miro.medium.com/v2/resize:fit:828/format:webp/1*eE8DP4biqtaIK3aIy1S2zA.png)\n\n[5 Steps of a Data Science Project Lifecycle](https://towardsdatascience.com/5-steps-of-a-data-science-project-lifecycle-26c50372b492)\n\n### OBTAIN (ãƒ‡ãƒ¼ã‚¿ã®å–å¾—)\n\nãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã€‚ãƒ‡ãƒ¼ã‚¿ã¯ä¸»ã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã€`CSV`, `Web API`ã‹ã‚‰å–å¾—ã§ãã‚‹\n\n### SCRUB\n\nãƒ‡ãƒ¼ã‚¿ã‚’è§£é‡ˆã™ã‚‹ãŸã‚ã«æ•´ç†ã™ã‚‹ã€‚\n\nãƒ‡ãƒ¼ã‚¿ã«ã¯æ¬ æå€¤ã‚„ã€ãƒ¢ãƒ‡ãƒ«ã«ä½¿ç”¨ã§ããªã„å‹ã«ãªã£ã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿ãŒå­˜åœ¨ã™ã‚‹ã€‚ã¾ãŸã€(ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«)ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§ã¯è¤‡æ•°ã®ãƒ†ãƒ¼ãƒ–ãƒ«ãŒæ··åœ¨ã—ã¦ãŠã‚Šã€ãƒ‡ãƒ¼ã‚¿åˆ†æãŒã—ã«ãã„ã€‚åˆ—ã‚’åˆ†å‰²ã€ã‚ã‚‹ã„ã¯çµåˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚\n\npythonã§ã¯ä¸»ã«`pandas`ã‚’ä½¿ã†ã€‚\n\n### EXPLORE (ãƒ‡ãƒ¼ã‚¿ã®æ¢ç´¢)\n\nãƒ¢ãƒ‡ãƒ«ã«ä½¿ã†ãŸã‚ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ¢ã™ã€‚**æ©Ÿæ¢°ãªã—å­¦ç¿’ã¯ã“ã“ã§å½¹ç«‹ã¤**ã€‚ã¾ãŸpythonã§ã¯ã€`matplotlib`ã‚’ç”¨ã„ã¦ãƒ‡ãƒ¼ã‚¿ã®å¯è¦–åŒ–ã‚‚è¡Œã†ã€‚\n\nã“ã“ã§ã¯ãƒ‡ãƒ¼ã‚¿ã®ãƒ¡ã‚¿çš„ãªç†è§£ãŒå¿…è¦ã€‚ãã®ãŸã‚ã®æ¢ç´¢ã€ç‰¹å¾´é‡ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã‚’è¡Œã†ã€‚\n\n### MODEL\n\nå°†æ¥ã‚’äºˆæ¸¬ã™ã‚‹ãŸã‚ã«**æ•™å¸«ã‚ã‚Šå­¦ç¿’**ã‚’ç”¨ã„ã¦æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã‚’ä½œã‚‹ã€‚\n\n### INTERPRET\n\nãƒ‡ãƒ¼ã‚¿ã‚’åˆ©ç”¨ã—ã¦ä¾¡å€¤ã‚’å‰µå‡ºã™ã‚‹ã€‚(ç¨¼ã)\n\n# PCAã¨ã¯\n\n---\n\nPCA: Principal Component Analysis (ä¸»æˆåˆ†åˆ†æ)\n\n## æ¬¡å…ƒå‰Šæ¸›\n\nã‚ˆã‚Šå°‘ãªã„ç‰¹å¾´é‡ã§ãƒ‡ãƒ¼ã‚¿ã‚’ç†è§£ã™ã‚‹ãŸã‚ã®æ‰‹æ³•ã€‚å¤šå¤‰æ•°ãƒ‡ãƒ¼ã‚¿ã‚’ç‰¹å¾´ã‚’ä¿ã¡ãªãŒã‚‰å°‘å¤‰æ•°ã§è¡¨ç¾ã™ã‚‹ã“ã¨ã€‚\n\næ©Ÿæ¢°å­¦ç¿’ã«ãŠã„ã¦ã€ç‰¹å¾´é‡ã¯å¤šã™ããªã„ã»ã†ãŒè‰¯ã„ã€‚ãƒ‡ãƒ¼ã‚¿ã®è§£é‡ˆæ€§ã‚’å¤±ã†æã‚ŒãŒã‚ã‚‹ã—ã€éå­¦ç¿’ãŒèµ·ã“ã‚Šã‚„ã™ã„ã€‚ã•ã‚‰ã«ã€å‡¦ç†ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚‚é…ããªã‚‹ã€‚ãã‚Œã‚‰ã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«ã€Œç‰¹å¾´é‡ã‚’æ¸›ã‚‰ã™=æ¬¡å…ƒå‰Šæ¸›ã‚’ã™ã‚‹ã€\n\n## PCAæ¦‚è¦\n\nå¤‰æ•°é–“ã«ç›¸é–¢ã®ã‚ã‚‹ãƒ‡ãƒ¼ã‚¿ã«å¯¾ã—ã¦æœ‰åŠ¹ã€‚ä»£è¡¨çš„ãªæ¬¡å…ƒå‰Šæ¸›ã®æ‰‹æ³•ã€‚\n\nå…ƒãƒ‡ãƒ¼ã‚¿ã®å¤‰æ•°ã‹ã‚‰æ–°ãŸãªå¤‰æ•°ã‚’æ§‹æˆã™ã‚‹ã€‚\nãŸã„ã¦ã„ã®å ´åˆ3æ¬¡å…ƒä»¥å†…ã«åã‚ã‚‹\n\nä»¥ä¸‹ã®ã‚µã‚¤ãƒˆã§è¦–è¦šçš„ã«ç†è§£ã§ãã‚‹\n\n[Principal Component Analysis explained visually](https://setosa.io/ev/principal-component-analysis/)\n\n![a](https://newsatcl-pctr.c.yimg.jp/t/amd-img/20200202-00010000-wordleaf-000-8-view.jpg?pri=l&w=640&h=640&exp=10800&fmt=webp)\n\n## ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \n\n### ã‚„ã‚‹ã“ã¨\n\nä¸»æˆåˆ†ã«ãŠã‘ã‚‹å†…ç©ã®åˆ†æ•£ãŒæœ€å¤§ã¨ãªã‚‹ã‚ˆã†ãªä¸»æˆåˆ†è»¸ã‚’è¦‹ã¤ã‘ã‚‹â†’åŸºåº•å¤‰æ›\n\nâ†’åŸºåº•ã‚’å¤‰æ›ã—ãŸã„ã®ã§å¤‰æ›è¡Œåˆ—ãŒå¿…è¦ã€æœ€é©ãªå¤‰æ›è¡Œåˆ—ã‚’æ±‚ã‚ã‚‹\n\n![output.png](output.png)\n\n$$\niç•ªç›®ã®pæ¬¡å…ƒãƒ™ã‚¯ãƒˆãƒ«x_{i*}ãŒ(x_{i1},x_{i2},...,x_{ip})^Tã®ã¨ã\n$$\n\n$$\nãƒ‡ãƒ¼ã‚¿Xã‚’ã€\\mathbf X=\\begin{pmatrix}\nx_{11}&x_{12}&...&x_{1p}\\\\\nx_{21}&x_{22}&...&x_{2p}\\\\\n\\vdots&\\vdots&\\ddots&\\vdots&\\\\\nx_{n1}&x_{n2}&...&x_{np}\n\\end{pmatrix},\\quad\n\npæ¬¡å…ƒã‹ã‚‰qæ¬¡å…ƒã«å¤‰æ›ã™ã‚‹å¤‰æ›è¡Œåˆ—ã‚’\\mathbf w=\\begin{pmatrix}\nw_{11}&w_{12}&...&w_{1q}\\\\\nw_{21}&w_{22}&...&w_{2q}\\\\\n\\vdots&\\vdots&\\ddots&\\vdots&\\\\\nw_{p1}&w_{p2}&...&w_{pq}\n\\end{pmatrix}ã¨ã™ã‚‹ã€‚\n$$\n\n> å¤‰æ›è¡Œåˆ—ã®ãã‚Œãã‚Œã®åˆ—ã¯åŸºåº•ãƒ™ã‚¯ãƒˆãƒ«ã‚’è¡¨ã™\n\n$$\nã“ã®ã¨ãã€åœ§ç¸®ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’\\mathbf Yã¨ã™ã‚‹ã¨ã€\\mathbf Y=\\mathbf X\\mathbf wãŒæˆã‚Šç«‹ã¤ã€‚æ¬¡ã«ã€å°„å½±å¾Œã®ãƒ™ã‚¯ãƒˆãƒ«ã«ã¤ã„ã¦è€ƒãˆã‚‹ã€‚\n$$\n\n$$\nå…ƒã®ãƒ‡ãƒ¼ã‚¿ãƒ™ã‚¯ãƒˆãƒ«x_{i*}ã‚’æ±‚ã‚ãŸã„ä¸»æˆåˆ†ã®æ–¹å‘ã«å°„å½±ã—ãŸçµæœã‚’y_iã€ã“ã®æ™‚ã®ä¸»æˆåˆ†ã‚’w=(w_1,w_2,...,w_p)^Tã¨ã™ã‚‹ã¨ã€y_i=w^Tx_{i*}ã¨è¡¨ã›ã‚‹ã€‚\n$$\n\n![](https://math-negi.jp/wp-content/uploads/2021/10/20211028214521.png)\n\n> ãƒ™ã‚¯ãƒˆãƒ«ã®æ–¹å‘ãŒè¿‘ã‘ã‚Œã°è¿‘ã„ã»ã©ã€å†…ç©ã¯å¤§ãããªã‚‹ã€‚ãã®åˆ†å†…ç©ã®å€¤ã®ã‚ºãƒ¬ã‚‚å¤§ãããªã‚‹â†’ãã®æ–¹å‘ã«ãŠã‘ã‚‹å†…ç©ã®åˆ†æ•£ã®æœ€å¤§å€¤ã‚’æ±‚ã‚ã‚Œã°ä¸»æˆåˆ†ãŒæ±ºã¾ã‚‹ã®ã§ã¯ï¼Ÿ\n\n$$\nã“ã®ã¨ãã€åˆ†æ•£s^2=\\frac{1}{n}\\sum_{i=1}^n(y_i-\\overline y)^2,\\quad å¹³å‡\\overline y=\\frac{1}{n}\\sum_{i=1}^ny_i=w_1\\overline {x_{*1}}+w_2\\overline {x_{*2}}+...+w_p\\overline {x_{*p}}=w^T(\\overline{x_{*1}},\\overline{x_{*2}},...,\\overline{x_{*p}})ã¨ãªã‚‹ã®ã§ã€\\\\\n\ns^2=\\frac{1}{n}\\sum_{i=1}^n(w^T(x_{i1},x_{i2},...,x_{ip})-w^T(\\overline{x_{*1}},\\overline{x_{*2}},...,\\overline{x_{*p}}))^2\\\\=\n\n\\frac{1}{n}\\sum_{i=1}^n \\left\\{w\n\\begin{pmatrix}\nx_{i1}-\\overline{x_{*1}}\\\\\nx_{i2}-\\overline{x_{*2}}\\\\\n\\vdots\\\\\nx_{ip}-\\overline{x_{*p}}\n\\end{pmatrix}\\right\\}^2=\n\n\\frac{1}{n}\\sum_{i=1}^n w^T\n\\begin{pmatrix}\nx_{i1}-\\overline{x_{*1}}\\\\\nx_{i2}-\\overline{x_{*2}}\\\\\n\\vdots\\\\\nx_{ip}-\\overline{x_{*p}}\n\\end{pmatrix}\n\\begin{pmatrix}\nx_{i1}-\\overline{x_{*1}}\\\\\nx_{i2}-\\overline{x_{*2}}\\\\\n\\vdots\\\\\nx_{ip}-\\overline{x_{*p}}\n\\end{pmatrix}^Tw=\n\n w^T\n\\frac{1}{n}\\sum_{i=1}^n\n\\begin{pmatrix}\nx_{i1}-\\overline{x_{*1}}\\\\\nx_{i2}-\\overline{x_{*2}}\\\\\n\\vdots\\\\\nx_{ip}-\\overline{x_{*p}}\n\\end{pmatrix}\n\\begin{pmatrix}\nx_{i1}-\\overline{x_{*1}}\\\\\nx_{i2}-\\overline{x_{*2}}\\\\\n\\vdots\\\\\nx_{ip}-\\overline{x_{*p}}\n\\end{pmatrix}^Tw\n\n=w^TSw\\\\\n\nâ€»å…±åˆ†æ•£è¡Œåˆ—S=\\begin{pmatrix}\ns_{11}&s_{12}&...&s_{1p}\\\\\ns_{21}&s_{22}&...&s_{2p}\\\\\n\\vdots&\\vdots&\\ddots&\\vdots&\\\\\ns_{p1}&s_{p2}&...&s_{pp}\n\\end{pmatrix},\\quad s_{jk}=\\frac{1}{n}\\sum_{i=1}^n(x_{ij}-\\overline{x_{*j}})(x_{ik}-\\overline{x_{*k}})\n$$\n\n$$\nã“ã“ã§s^2=w^TSw\\quad (w^Tw=1)ãŒæœ€å¤§å€¤ã‚’å–ã‚‹ã¨ãã®wã‚’ãƒ©ã‚°ãƒ©ãƒ³ã‚¸ãƒ¥ã®æœªå®šä¹—æ•°æ³•ã§æ±‚ã‚ã‚‹ã€‚\\\\\nf(w)=s^2=w^TSw,\\quad åˆ¶ç´„ï¼šg(w)=w^Tw-1=0\\quad ã®ã‚‚ã¨ã§ã€ãƒ©ã‚°ãƒ©ãƒ³ã‚¸ãƒ¥é–¢æ•°ã¯F(w,\\lambda)=f(w)+\\lambda g(w)ã¨ãªã‚‹ã€‚\\\\(wã¯ã„ãã‚‰ã§ã‚‚å¤§ããã§ãã¦ã—ã¾ã†ã®ã§åˆ¶ç´„ãŒå¿…è¦)\n$$\n\n[ãƒ©ã‚°ãƒ©ãƒ³ã‚¸ãƒ¥ã®æœªå®šä¹—æ•°æ³•ã¨ä¾‹é¡Œ | é«˜æ ¡æ•°å­¦ã®ç¾ã—ã„ç‰©èª](https://manabitimes.jp/math/879)\n\n$$\ns^2ãŒæœ€å¤§åŒ–ã™ã‚‹ã¨ã \\frac{\\partial}{\\partial w}F(w,\\lambda)=2Sw-2\\lambda w=0ã‚ˆã‚Šã€Sw=\\lambda w\n$$\n\n$$\nSw=\\lambda wã¯å…±åˆ†æ•£è¡Œåˆ—ã®å›ºæœ‰æ–¹ç¨‹å¼ã‚’è¡¨ã—ã¦ã„ã‚‹ã€‚ã¡ãªã¿ã«ä¸¡è¾ºã«w^Tã‚’ã‹ã‘ã‚‹ã¨ã€w^TSw=w^T\\lambda w,\\quad å¼å¤‰å½¢ã—ã¦ã„ãã¨ä»®å®šã‚ˆã‚Šw^TSw=\\lambda w^Tw=\\lambda=s^2\n$$\n\n$$\nã—ãŸãŒã£ã¦å›ºæœ‰å€¤\\lambdaã¯åˆ†æ•£ãã®ã‚‚ã®ã‚’è¡¨ã™ã€‚\\\\ã¾ãŸã€ãã‚Œãã‚Œã«å¯¾ã™ã‚‹å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ«wã¯å¤‰æ›å¾Œã®åŸºåº•=ä¸»æˆåˆ†ã§ã‚ã‚Šã€æ±‚ã‚ãŸã„å¤‰æ›è¡Œåˆ—\\mathbf wã¯\\begin{pmatrix}w_1&w_2&...&w_q\\end{pmatrix}ã¨ãªã‚‹ã€‚\n$$\n\n## å¯„ä»˜ç‡\n\nå„æˆåˆ†ã”ã¨ã«è¨ˆç®—ã•ã‚Œã‚‹å›ºæœ‰å€¤ã‚’å›ºæœ‰å€¤ã®ç·å’Œã§å‰²ã‚‹ã¨ã€ä¸»æˆåˆ†ã®é‡è¦åº¦ã®å‰²åˆã§è¡¨ç¾ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ã“ã®æ™‚ã®å‰²åˆã‚’å¯„ä»˜ç‡ã¨ã„ã„ã€å„ä¸»æˆåˆ†ãŒãƒ‡ãƒ¼ã‚¿ã‚’ã©ã‚Œãã‚‰ã„èª¬æ˜ã—ã¦ã„ã‚‹ã‹ã‚’è¡¨ç¾ã—ã¦ã„ã‚‹ã€‚\n\n$$\nç¬¬kä¸»æˆåˆ†ã®å¯„ä»˜ç‡=\\frac{\\lambda_k}{\\sum_{i=1}^n\\lambda_i}\n$$\n\n# pythonã§å®Ÿè£…ã—ã¦ã¿ã‚‹\n\n---\n\n## ãƒ‡ãƒ¼ã‚¿ã‚’ä½œã‚‹\n\næ¬¡ã«ç¤ºã™ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ã€`RandomState`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½¿ã£ã¦ã€2å¤‰æ•°ã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’ç”Ÿæˆã—ã€å„å¤‰æ•°ã«ã¤ã„ã¦æ¨™æº–åŒ–ã—ãŸã‚‚ã®ã‚’ãƒ—ãƒ­ãƒƒãƒˆã—ãŸã‚‚ã®ã§ã‚ã‚‹ã€‚\n\n```py\nfrom sklearn.preprocessing import StandardScaler\nimport numpy as np\nimport scipy as sp\nimport matplotlib.pyplot as plt\n\n# RandomStateã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ\nsample = np.random.RandomState(1)\n\n#ï¼’ã¤ã®ä¹±æ•°ã‚’ç”Ÿæˆ\nX = np.dot(sample.rand(2, 2), sample.randn(2, 200)).T\n\n# æ¨™æº–åŒ– (å¹³å‡0, åˆ†æ•£1ã«ã™ã‚‹)\nsc = StandardScaler()\nX_std = sc.fit_transform(X)\n\n# ç›¸é–¢ä¿‚æ•°ã®ç®—å‡ºã¨ã‚°ãƒ©ãƒ•åŒ–\nprint('ç›¸é–¢ä¿‚æ•°{:.3f}:'.format(sp.stats.pearsonr(X_std[:, 0], X_std[:, 1])[0]))\nplt.scatter(X_std[:, 0], X_std[:, 1])\n```\n\n## ä¸»æˆåˆ†åˆ†æã®å®Ÿè¡Œ\n\n```py\n# ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\nfrom sklearn.decomposition import PCA\n\n# ä¸»æˆåˆ†åˆ†æ\npca = PCA(n_components=2) # 2æ¬¡å…ƒã«åœ§ç¸®\npca.fit(X_std)\n```\n\n## å­¦ç¿’çµæœã®ç¢ºèª\n\n### `components_`å±æ€§\n\nå¤‰æ›è¡Œåˆ—(å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ«)ã‚’å‡ºåŠ›ã™ã‚‹\n\n```py\nprint(pca.components_)\n```\n\n### `explained_variance_`å±æ€§\n\nåˆ†æ•£(å›ºæœ‰å€¤)ã‚’å‡ºåŠ›ã™ã‚‹\n\n```py\nprint('å„ä¸»æˆåˆ†ã®åˆ†æ•£:{}'.format(pca.explained_variance_))\n```\n\n## çµæœã‚’å›³ç¤ºã™ã‚‹\n\n```py\n# ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š\narrowprops=dict(arrowstyle='->',\n                linewidth=2,\n                shrinkA=0, shrinkB=0)\n\n# çŸ¢å°ã‚’æããŸã‚ã®é–¢æ•°\ndef draw_vector(v0, v1): # v0: å…ˆç«¯, v1: çµ‚ç«¯\n    plt.gca().annotate('', v1, v0, arrowprops=arrowprops)\n\n# å…ƒã®ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ—ãƒ­ãƒƒãƒˆ\nplt.scatter(X_std[:, 0], X_std[:, 1], alpha=0.2)\n\n# ä¸»æˆåˆ†åˆ†æã®2è»¸ã‚’çŸ¢å°ã§è¡¨ç¤ºã™ã‚‹\nfor length, vector in zip(pca.explained_variance_, pca.components_): # zip(): forãƒ«ãƒ¼ãƒ—ã®ä¸­ã§è¤‡æ•°ã®ãƒªã‚¹ãƒˆã‚’åŒæ™‚ã«å–ã‚Šå‡ºã™\n    v = vector * 3 * np.sqrt(length)\n    draw_vector(pca.mean_, pca.mean_ + v) # é‡å¿ƒã‚’èµ·ç‚¹ã¨ã™ã‚‹\n\nplt.axis('equal')\n```\n\n# PCAã‚’ç”¨ã„ãŸä¹³ãŒã‚“æ‚£è€…äºˆæ¸¬\n\n---\n\n## ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¤ãƒ³ãƒãƒ¼ãƒˆ\n\n```py\n# ä¹³ãŒã‚“ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚€ãŸã‚ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\nfrom sklearn.datasets import load_breast_cancer\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\n%matplotlib inline\n```\n\n## ä¹³ãŒã‚“ãƒ‡ãƒ¼ã‚¿ã®å–å¾—\n\n```py\n# ä¹³ãŒã‚“ãƒ‡ãƒ¼ã‚¿ã®å–å¾—\ncancer = load_breast_cancer()\ncancer\n```\n\n## pandas dataframeã§æ•´ç†\n\n```py\ndf = pd.DataFrame(cancer.data, columns=cancer.feature_names)\ndf[\"target\"] = cancer.target\ndf\n```\n\næ¬ æå€¤ãªã©ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚\n\n## èª¬æ˜å¤‰æ•°ã¨ç›®çš„å¤‰æ•°ã®é–¢ä¿‚ã‚’ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã«ã—ã¦ã¿ã‚‹\n\n### ãƒ‡ãƒ¼ã‚¿ã‚’malignant (æ‚ªæ€§)ã‹benign (è‰¯æ€§)ã«åˆ†ã‘ã‚‹ãŸã‚ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼å‡¦ç†\n\n```py\nmalignant = df[df[\"target\"] == 0]\nbenign = df[df[\"target\"] == 1]\n```\n\n### 30å€‹ã®ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã‚’ä½œã‚‹\n\n```py\n#ã€€malignantï¼ˆæ‚ªæ€§ï¼‰ãŒãƒ–ãƒ«ãƒ¼ã€benignï¼ˆè‰¯æ€§ï¼‰ãŒã‚ªãƒ¬ãƒ³ã‚¸ã®ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ \n# å„å›³ã¯ã€å„ã€…ã®èª¬æ˜å¤‰æ•°ï¼ˆmean radiusãªã©ï¼‰ã¨ç›®çš„å¤‰æ•°ã¨ã®é–¢ä¿‚ã‚’ç¤ºã—ãŸãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ \nfig, axes = plt.subplots(6,5,figsize=(20,20))\nax = axes.ravel()\nfor i, column in enumerate(df.columns[:-1]):\n    _,bins = np.histogram(df[column], bins=50)\n    ax[i].hist(malignant[column], bins, alpha=.5)\n    ax[i].hist(benign[column], bins, alpha=.5)\n    ax[i].set_title(column)\n    ax[i].set_yticks(())\n\n# ãƒ©ãƒ™ãƒ«ã®è¨­å®š\nax[0].set_ylabel('Count')\nax[0].legend(['malignant','benign'],loc='best')\nfig.tight_layout()\n```\n\nã—ã‹ã—ç‰¹å¾´çš„ãªãƒ‡ãƒ¼ã‚¿ã¯è¦‹å½“ãŸã‚‰ãªã„ã®ã§ã€ä¸»æˆåˆ†åˆ†æã‚’ç”¨ã„ã¦æ¬¡å…ƒå‰Šæ¸›ã‚’è¡Œã£ã¦ã¿ã‚‹\n\n## PCAã§æ¬¡å…ƒå‰Šæ¸›\n\n```py\n# æ¨™æº–åŒ–\nsc = StandardScaler()\nX_std = sc.fit_transform(cancer.data)\n\n# ä¸»æˆåˆ†åˆ†æ\npca = PCA(n_components=2)\npca.fit(X_std)\nX_pca = pca.transform(X_std)\n\n# è¡¨ç¤º\nprint('X_pca shape:{}'.format(X_pca.shape))\nprint('Explained variance ratio:{}'.format(pca.explained_variance_ratio_))\n```\n\nX_pcaã¯569è¡Œ2åˆ—ã«å¤‰æ›ã•ã‚ŒãŸâ†’569å€‹ã®äºŒæ¬¡å…ƒãƒ™ã‚¯ãƒˆãƒ«ã®é›†åˆ\n\n## åœ§ç¸®ãƒ‡ãƒ¼ã‚¿ã®å¯è¦–åŒ–\n\n### DFä½œæˆ\n\n```py\n# åˆ—ã«ãƒ©ãƒ™ãƒ«ã‚’ã¤ã‘ã‚‹ã€1ã¤ç›®ãŒç¬¬1ä¸»æˆåˆ†ã€2ã¤ç›®ãŒç¬¬2ä¸»æˆåˆ†\nX_pca = pd.DataFrame(X_pca, columns=['pc1','pc2'])\n\n# ä¸Šã®ãƒ‡ãƒ¼ã‚¿ã«ã€ç›®çš„å¤‰æ•°ï¼ˆcancer.targetï¼‰ã‚’ç´ã¥ã‘ã‚‹ã€æ¨ªã«çµåˆ\nX_pca = pd.concat([X_pca, pd.DataFrame(cancer.target, columns=['target'])], axis=1)\n\n# æ‚ªæ€§ã€è‰¯æ€§ã‚’åˆ†ã‘ã‚‹\npca_malignant = X_pca[X_pca['target']==0]\npca_benign = X_pca[X_pca['target']==1]\n```\n\n### å¯è¦–åŒ–\n\n```py\n# æ‚ªæ€§ã‚’ãƒ—ãƒ­ãƒƒãƒˆ\nax = pca_malignant.plot.scatter(x='pc1', y='pc2', color='red', label='malignant');\n\n# è‰¯æ€§ã‚’ãƒ—ãƒ­ãƒƒãƒˆ\npca_benign.plot.scatter(x='pc1', y='pc2', color='blue', label='benign', ax=ax);\n\n# ãŠãŠã‚ˆãã®å¢ƒç•Œç·š\nx = np.arange(-5, 9)\ny = 1.7 * x - 0.8\nax.plot(x, y, color=\"black\")\n```\n\nå¢ƒç•Œç·šã¯`SVM`ã‚’ä½¿ã†ã¨ã‚ˆã‚Šæœ€é©åŒ–ã§ãã‚‹ã‹ã‚‚\n\n# è£œè¶³\n\n---\n\n## ä¸»æˆåˆ†ã®é¸ã³æ–¹\n\nç´¯è¨ˆå¯„ä»˜ç‡ã‚’æ±‚ã‚ã¦ã¿ã‚‹ã¨ã€æ¬¡å…ƒãŒå¤§ãããªã‚‹ã»ã©å€¤ã¯å¤‰åŒ–ã—ãªããªã‚‹ã€‚ãªããªã‚‹ãã‚‰ã„ã®æ¬¡å…ƒãŒãƒ™ã‚¹ãƒˆã€‚é€†ã«æ¬¡å…ƒãŒå¤§ãããªã‚‹ã»ã©ç´¯è¨ˆå¯„ä»˜ç‡ãŒå¤§ããå¤‰ã‚ã‚‹å ´åˆã€ãã‚Œã¯ç›¸é–¢é–¢ä¿‚ãŒã‚ã‚‹ã¨ã¯è¨€ãˆãªã„ã€‚PCRã‚’ä½¿ã£ã¦ã‚‚ã‚ã¾ã‚Šæ„å‘³ãŒãªã„ã€‚\n\n## æ³¨æ„ç‚¹\n\n### è§£é‡ˆã®é›£ã—ã•\n\nä¸»æˆåˆ†åˆ†æã‚’ç”¨ã„ã¦å¾—ã‚‰ã‚Œã‚‹çµæœã¯ã€çµ±è¨ˆçš„ãªæŒ‡æ¨™ã‚„æ•°å€¤æƒ…å ±ã§ã‚ã‚‹ã€‚ã—ã‹ã—ã€è¦‹ã¤ã‹ã£ãŸä¸»æˆåˆ†ãŒå…·ä½“çš„ã«ã©ã®ã‚ˆã†ãªæ„å‘³ã‚’æŒã¤ã®ã‹ã¯ã€åˆ†æè€…ã®è§£é‡ˆã«å§”ã­ã‚‰ã‚Œã€ç›´æ„Ÿçš„ã«ã¯ç†è§£ã—ã¥ã‚‰ã„å ´åˆãŒã‚ã‚‹ã€‚ãã®ç†ç”±ã¯ã€ä¸»æˆåˆ†è‡ªä½“ãŒå…ƒã®ãƒ‡ãƒ¼ã‚¿ã¨ç›´æ¥ã®é–¢é€£ã‚’æŒãŸãªã„ãŸã‚ã§ã‚ã‚‹ã€‚\n\n### æ­£è¦æ€§ã®ä»®å®š\n\nä¸»æˆåˆ†åˆ†æã¯ã€ãƒ‡ãƒ¼ã‚¿ãŒæ­£è¦åˆ†å¸ƒã«å¾“ã£ã¦ã„ã‚‹ã¨ã„ã†ä»®å®šã®å…ƒã«æˆã‚Šç«‹ã£ã¦ã„ã‚‹åˆ†ææ‰‹æ³•ã§ã‚ã‚‹ã€‚æ­£è¦åˆ†å¸ƒã¨ã¯ã€å¹³å‡å€¤ã®å‘¨ã‚Šã«ãƒ‡ãƒ¼ã‚¿ãŒé›†ä¸­ã—ã€å·¦å³å¯¾ç§°ã®é‡£é˜çŠ¶ã«ãƒ‡ãƒ¼ã‚¿ãŒåºƒãŒã‚‹ã‚ˆã†ãªåˆ†å¸ƒã‚’ã•ã™ã€‚æ­£è¦æ€§ã®ä»®å®šã‚’æº€ãŸã•ãªã„ãƒ‡ãƒ¼ã‚¿ã«ä¸»æˆåˆ†åˆ†æã‚’é©ç”¨ã™ã‚‹ã¨ã€ä¸»æˆåˆ†ã®æ–¹å‘ã‚„å¯„ä¸ç‡ãŒæ­ªã‚ã‚‰ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚\n\n### å¤–ã‚Œå€¤ã®å½±éŸ¿\n\nå¤–ã‚Œå€¤ã¯é€šå¸¸ã®ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¿ãƒ¼ãƒ³ã‹ã‚‰å¤§ããé€¸è„±ã—ãŸå€¤ã§ã‚ã‚Šã€åˆ†æçµæœã«æ‚ªå½±éŸ¿ã‚’åŠã¼ã™å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚**ä¸»æˆåˆ†åˆ†æã¯ãƒ‡ãƒ¼ã‚¿ã®åˆ†æ•£ã‚’æœ€å¤§åŒ–ã™ã‚‹æ–¹å‘ã‚’æ±‚ã‚ã‚‹æ‰‹æ³•ã§ã‚ã‚‹**ã€‚ãã®ãŸã‚ã€å¤–ã‚Œå€¤ãŒåˆ†æ•£ã«å¤§ããå½±éŸ¿ã™ã‚‹ã¨ã€ä¸»æˆåˆ†ã®æ–¹å‘ã‚„å¯„ä¸ç‡ãŒæ­ªã‚ã‚‰ã‚Œã¦ã—ã¾ã†ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€åˆ†æçµæœãŒæ­ªã‚“ã ã‚Šã€è»¸ã®è§£é‡ˆãŒå›°é›£ã«ãªã£ã¦ã—ã¾ã†å•é¡ŒãŒç™ºç”Ÿã™ã‚‹ã€‚\n",
    "createdAt": "2025-07-21T07:23:48.457Z",
    "updatedAt": "2025-07-21T07:23:48.457Z"
  },
  {
    "title": "Python Ã— Docker Ã— uvã§å†ç¾æ€§ã®ã‚ã‚‹ç’°å¢ƒæ§‹ç¯‰ã‚’å®Ÿç¾ã™ã‚‹",
    "summary": "Pythoné–‹ç™ºã§ã‚ˆãå•é¡Œã«ãªã‚‹ .venv ã¨ Docker ã®é–¢ä¿‚ã‚’æ•´ç†ã—ã€uv sync ã‚’ä½¿ã£ã¦å®‰å…¨ã‹ã¤å†ç¾æ€§ã®ã‚ã‚‹ç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹æ–¹æ³•ã‚’è§£èª¬ã—ã¾ã™ã€‚",
    "tags": [
      "Python",
      "Docker",
      "uv",
      "é–‹ç™ºç’°å¢ƒ",
      "å†ç¾æ€§"
    ],
    "slug": "docker/uv-venv",
    "folder": "docker",
    "content": "\n## ğŸ§­ 1. ã¯ã˜ã‚ã«\n\nPython ã§é–‹ç™ºã—ã¦ã„ã‚‹ã¨ã€**`.venv` ã®æ‰±ã„ã«è¿·ã†**ã“ã¨ã£ã¦ã‚ã‚Šã¾ã›ã‚“ã‹ï¼Ÿ\nç‰¹ã« Docker ã¨çµ„ã¿åˆã‚ã›ãŸã¨ãã€\nã€Œãƒ­ãƒ¼ã‚«ãƒ«ã® `.venv` ã‚’ä½¿ã†ã¹ãã‹ï¼Ÿã€ã€Œã‚³ãƒ³ãƒ†ãƒŠå†…ã§ä½œã‚‹ã¹ãã‹ï¼Ÿã€\nã¨ã„ã£ãŸå•é¡Œã«ä¸€åº¦ã¯ã¶ã¤ã‹ã‚‹ã¨æ€ã„ã¾ã™ã€‚\n\nä¸€è¦‹ã©ã¡ã‚‰ã§ã‚‚å‹•ãã‚ˆã†ã«è¦‹ãˆã¾ã™ãŒã€å®Ÿéš›ã«ã¯ **ãƒ“ãƒ«ãƒ‰ã®å†ç¾æ€§ãŒå¤§ããå´©ã‚Œã‚‹**ãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚\nãƒ›ã‚¹ãƒˆï¼ˆmacOSãªã©ï¼‰ã¨ã‚³ãƒ³ãƒ†ãƒŠï¼ˆLinuxï¼‰ã§ã¯ Python ã®ãƒã‚¤ãƒŠãƒªä¾å­˜é–¢ä¿‚ãŒç•°ãªã‚‹ãŸã‚ã€\nåŒã˜ `.venv` ã‚’å…±æœ‰ã—ã¦ã—ã¾ã†ã¨ã€ŒImportErrorã€ã€ŒlibãŒè¦‹ã¤ã‹ã‚‰ãªã„ã€ãªã©ã®å¾®å¦™ãªä¸å…·åˆã‚’ç”Ÿã¿ã¾ã™ã€‚\n\n---\n\nã“ã®å•é¡Œã¯ Node.js ã§ã¯ã‚ã¾ã‚Šèµ·ã“ã‚Šã¾ã›ã‚“ã€‚\n`node_modules` ã¯ OS ã«ä¾å­˜ã—ãªã„ JavaScript ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç¾¤ã§ã‚ã‚Šã€\n`npm install` ã‚„ `pnpm install` ã¯å¸¸ã« 0 ã‹ã‚‰å†ç¾çš„ã«æ§‹ç¯‰ã•ã‚Œã‚‹è¨­è¨ˆã§ã™ã€‚\nä¸€æ–¹ã€Python ã® `.venv` ã¯ **ãƒ›ã‚¹ãƒˆã®Pythonå®Ÿè¡Œç’°å¢ƒã‚’åŸºç›¤ã«æ§‹ç¯‰ã•ã‚Œã‚‹**ãŸã‚ã€\nç’°å¢ƒã‚’ã¾ãŸã„ã§ä½¿ã†ã¨ãã®å‰æãŒå´©ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚\n\n---\n\nã“ã®è¨˜äº‹ã§ã¯ã€ã“ã®å•é¡Œã‚’æ ¹æœ¬ã‹ã‚‰æ•´ç†ã—ãªãŒã‚‰ã€\n\n- Docker ã¨ `.venv` ã®æ§‹é€ çš„ãªé–¢ä¿‚\n- `uv sync --frozen` ã‚’ä½¿ã£ãŸå†ç¾æ€§ã®ã‚ã‚‹æ§‹ç¯‰æ–¹æ³•\n- `.dockerignore` ã«ã‚ˆã‚‹æœ€å°ãƒ»å®‰å…¨ãªè§£æ±ºç­–\n\nã‚’é †ã«ç´¹ä»‹ã—ã¾ã™ã€‚\n\n---\n\næ¬¡ç« ã§ã¯ã¾ãšã€**Dockerã¨venvã®æ§‹é€ çš„ãªè¡çª**ã«ã¤ã„ã¦æ˜ã‚Šä¸‹ã’ã¾ã™ã€‚\nã€ŒãªãœNode.jsã§ã¯å‹•ãã®ã«Pythonã§ã¯å£Šã‚Œã‚‹ã®ã‹ï¼Ÿã€\nã“ã®ç–‘å•ã‚’æ•´ç†ã™ã‚‹ã“ã¨ã§ã€ç’°å¢ƒæ§‹ç¯‰ã®ç†è§£ãŒä¸€æ®µæ·±ã¾ã‚Šã¾ã™ã€‚\n\n---\n\n## 2. Docker ã¨ venv ã®æ§‹é€ çš„ãªå•é¡Œ\n\nPython ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€ä¾å­˜é–¢ä¿‚ã‚’åˆ†é›¢ã™ã‚‹ãŸã‚ã« **`venv`ï¼ˆä»®æƒ³ç’°å¢ƒï¼‰** ã‚’ä½¿ã†ã®ãŒä¸€èˆ¬çš„ã§ã™ã€‚\nä¸€æ–¹ã€Docker ã‚‚ã€Œç’°å¢ƒã®éš”é›¢ã€ã‚’ç›®çš„ã¨ã™ã‚‹ä»•çµ„ã¿ã§ã‚ã‚‹ãŸã‚ã€**`venv` ã¨ Docker ãŒé‡è¤‡ã—ã¦ç’°å¢ƒã‚’ç®¡ç†ã—ã‚ˆã†ã¨ã™ã‚‹** çŠ¶æ³ãŒã‚ˆãèµ·ã“ã‚Šã¾ã™ã€‚\n\nã“ã®ç« ã§ã¯ã€ãªãœ `.venv` ãŒ Docker ã¨ç›¸æ€§ãŒæ‚ªã„ã®ã‹ã‚’æ§‹é€ çš„ã«æ•´ç†ã—ã¾ã™ã€‚\n\n---\n\n### ğŸ”¹ COPY ã¨ Volume ã®é•ã„\n\nã¾ãšå‰æã¨ã—ã¦ã€**`COPY` ã¯ãƒ“ãƒ«ãƒ‰æ™‚ã«ãƒ›ã‚¹ãƒˆã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã¸ã‚³ãƒ”ãƒ¼**ã—ã€\n**`volume`ï¼ˆãƒœãƒªãƒ¥ãƒ¼ãƒ ï¼‰ã¯å®Ÿè¡Œæ™‚ã«ãƒ›ã‚¹ãƒˆã‚„åŒ¿åé ˜åŸŸã‚’ã‚³ãƒ³ãƒ†ãƒŠã¸ãƒã‚¦ãƒ³ãƒˆ**ã™ã‚‹ä»•çµ„ã¿ã§ã™ã€‚\n\n```dockerfile\n# COPYï¼šãƒ“ãƒ«ãƒ‰æ™‚ã«ãƒ›ã‚¹ãƒˆ â†’ ã‚¤ãƒ¡ãƒ¼ã‚¸\nCOPY backend/ .\n\n# volumesï¼šå®Ÿè¡Œæ™‚ã«ãƒ›ã‚¹ãƒˆ or åŒ¿åé ˜åŸŸ â†’ ã‚³ãƒ³ãƒ†ãƒŠ\nvolumes:\n  - ../backend:/app\n  - /app/__pycache__\n```\n\nã¤ã¾ã‚Šã€ãƒ“ãƒ«ãƒ‰æ™‚ç‚¹ã§ `.venv` ãŒãƒ›ã‚¹ãƒˆã«å­˜åœ¨ã™ã‚‹ã¨ã€\n**`COPY` ã«ã‚ˆã£ã¦ãã®ã¾ã¾ã‚¤ãƒ¡ãƒ¼ã‚¸å†…éƒ¨ã«å–ã‚Šè¾¼ã¾ã‚Œã¦ã—ã¾ã†** ã¨ã„ã†ã®ãŒæœ¬è³ªçš„ãªå•é¡Œã§ã™ã€‚\n\n---\n\n### ğŸ”¹ åŒ¿åãƒœãƒªãƒ¥ãƒ¼ãƒ ã¨ãƒã‚¤ãƒ³ãƒ‰ãƒã‚¦ãƒ³ãƒˆã®é•ã„\n\n- **ãƒã‚¤ãƒ³ãƒ‰ãƒã‚¦ãƒ³ãƒˆ**ï¼š`../backend:/app` ã®ã‚ˆã†ã«ã€ãƒ›ã‚¹ãƒˆå´ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ç›´æ¥ã‚³ãƒ³ãƒ†ãƒŠã«åŒæœŸã€‚\n  â†’ é–‹ç™ºæ™‚ã«ã¯ä¾¿åˆ©ã ãŒã€ãƒ›ã‚¹ãƒˆã® `.venv` ãªã© OS ä¾å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã¾ã§å¼•ããšã‚Šè¾¼ã‚€å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚\n\n- **åŒ¿åãƒœãƒªãƒ¥ãƒ¼ãƒ **ï¼š`/app/.venv` ã®ã‚ˆã†ã«ã€åå‰ã®ãªã„ä¸€æ™‚é ˜åŸŸã‚’DockerãŒè‡ªå‹•ç”Ÿæˆã€‚\n  â†’ ã‚³ãƒ³ãƒ†ãƒŠã”ã¨ã«åˆ†é›¢ã•ã‚Œã‚‹ãŸã‚ã€ãƒ›ã‚¹ãƒˆã¨ã®ç›´æ¥åŒæœŸã¯è¡Œã‚ã‚Œãªã„ã€‚\n\nä¸€è¦‹ã™ã‚‹ã¨åŒ¿åãƒœãƒªãƒ¥ãƒ¼ãƒ ã®ã»ã†ãŒå®‰å…¨ãã†ã§ã™ãŒã€\nå®Ÿéš›ã«ã¯ **ã€Œãƒ“ãƒ«ãƒ‰æ™‚ç‚¹ã§ã™ã§ã« .venv ãŒ COPY ã•ã‚Œã¦ã„ã‚‹ã€** ãŸã‚ã€\nãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§åŒ¿åãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’ä½¿ã£ã¦ã‚‚ `.venv` ã®æ··å…¥ã‚’é˜²ã’ãªã„ã®ã§ã™ã€‚\n\n---\n\n### ğŸ”¹ ãªãœ .venv ã‚’ãƒã‚¦ãƒ³ãƒˆã™ã‚‹ã¨å±é™ºãªã®ã‹\n\n`.venv` ã¯ OS ã‚„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ä¾å­˜ã™ã‚‹ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒã‚¤ãƒŠãƒªã‚’å«ã¿ã¾ã™ã€‚\nãŸã¨ãˆã° macOS ä¸Šã§ä½œæˆã•ã‚ŒãŸä»®æƒ³ç’°å¢ƒã‚’ Linux ã‚³ãƒ³ãƒ†ãƒŠã«ãƒã‚¦ãƒ³ãƒˆã™ã‚‹ã¨ã€\nãƒªãƒ³ã‚¯å…ˆã® `.so`ï¼ˆå…±æœ‰ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼‰ãŒå¯¾å¿œã—ã¦ãŠã‚‰ãšã€æ¬¡ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã™ã€‚\n\n```bash\nImportError: /app/.venv/lib/python3.13/site-packages/psycopg2/_psycopg.so: ELF load command address/offset not properly aligned\n```\n\nã“ã®ã‚ˆã†ã«ã€**ãƒ›ã‚¹ãƒˆã¨ã‚³ãƒ³ãƒ†ãƒŠã® `.venv` ãŒæ··ã–ã‚‹ã¨å†ç¾æ€§ã‚’å¤±ã†**ãŸã‚ã€\nDocker ç’°å¢ƒã§ã¯ `.venv` ã‚’ã‚³ãƒ”ãƒ¼ãƒ»ãƒã‚¦ãƒ³ãƒˆã—ãªã„ã®ãŒåŸå‰‡ã§ã™ã€‚\n\n---\n\n### ğŸ”¹ .dockerignore ãŒæœãŸã™æœ¬å½“ã®å½¹å‰²\n\nã“ã®å•é¡Œã‚’æ ¹æœ¬ã‹ã‚‰é˜²ãã«ã¯ã€**ãƒ“ãƒ«ãƒ‰ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã« `.venv` ã‚’å«ã‚ãªã„**ã“ã¨ã§ã™ã€‚\nDockerfile ã®è¨­è¨ˆã‚„ volume è¨­å®šã‚’ã©ã‚Œã ã‘å·¥å¤«ã—ã¦ã‚‚ã€\nãƒ›ã‚¹ãƒˆå´ã‹ã‚‰ `.venv` ãŒé€ä¿¡ã•ã‚Œã‚Œã°å•é¡Œã¯ç™ºç”Ÿã—ã¾ã™ã€‚\n\nãã“ã§ä½¿ã†ã®ãŒ `.dockerignore`ï¼š\n\n```bash\n# .dockerignore\nbackend/.venv\n```\n\nã“ã†ã—ã¦ãŠãã¨ã€`docker build` æ™‚ã« `.venv` ãŒ **é€ä¿¡å¯¾è±¡ã‹ã‚‰å®Œå…¨ã«é™¤å¤–** ã•ã‚Œã€\nã‚¤ãƒ¡ãƒ¼ã‚¸ã«æ··å…¥ã™ã‚‹ãƒªã‚¹ã‚¯ã‚’ã‚¼ãƒ­ã«ã§ãã¾ã™ã€‚\nã“ã‚ŒãŒæœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ã§ç¢ºå®Ÿãªå¯¾ç­–ã§ã™ã€‚\n\n---\n\nâœ… **ã¾ã¨ã‚**\n\n- `COPY` ã¯ãƒ“ãƒ«ãƒ‰æ™‚ç‚¹ã§ `.venv` ã‚’æŒã¡è¾¼ã‚€å¯èƒ½æ€§ãŒã‚ã‚‹\n- åŒ¿åãƒœãƒªãƒ¥ãƒ¼ãƒ ã¯å®Ÿè¡Œæ™‚ã®åŒæœŸé˜²æ­¢ã«ã¯æœ‰åŠ¹ã ãŒã€ãƒ“ãƒ«ãƒ‰æ™‚ç‚¹ã§ã¯ç„¡åŠ›\n- `.venv` ã¯ OS ä¾å­˜ã®ãŸã‚ã€ãƒã‚¦ãƒ³ãƒˆã™ã‚‹ã¨å†ç¾æ€§ã‚’å¤±ã†\n- `.dockerignore` ã«è¿½åŠ ã—ã¦ãŠãã®ãŒæœ€ã‚‚ç¢ºå®Ÿãªé˜²å¾¡ç­–\n\n---\n\n## 3. uv ã®ä»•çµ„ã¿ã‚’ç†è§£ã™ã‚‹\n\n`uv` ã¯ã€Python ã®ä¾å­˜é–¢ä¿‚ã‚’**å®£è¨€çš„ã«ãƒ»å†ç¾æ€§é«˜ã**ç®¡ç†ã™ã‚‹ãŸã‚ã®æ¬¡ä¸–ä»£ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚\n`pip` ã‚„ `pipenv` ã¨ç•°ãªã‚Šã€`uv` ã¯ **pyproject.toml ã¨ uv.lock** ã‚’ã‚‚ã¨ã«ã€\nä¾å­˜ç’°å¢ƒã‚’å³æ™‚ã«åŒæœŸï¼ˆsyncï¼‰ã™ã‚‹ä»•çµ„ã¿ã‚’æŒã£ã¦ã„ã¾ã™ã€‚\n\n---\n\n### ğŸ”¹ uv sync ã®å‹•ä½œ â€” 0 ãƒ™ãƒ¼ã‚¹ã‹ã€å·®åˆ†ã‹\n\n`uv sync` ã‚³ãƒãƒ³ãƒ‰ã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« `.venv` ãŒå­˜åœ¨ã™ã‚‹ã‹ã©ã†ã‹ã§æŒ™å‹•ãŒå¤‰ã‚ã‚Šã¾ã™ã€‚\n\n| çŠ¶æ³                      | å‹•ä½œ                                                                                   | çµæœ                            |\n| ------------------------- | -------------------------------------------------------------------------------------- | ------------------------------- |\n| `.venv` ãŒ **å­˜åœ¨ã—ãªã„** | æ–°ã—ã„ä»®æƒ³ç’°å¢ƒã‚’ä½œæˆã—ã€`uv.lock` ã«è¨˜è¼‰ã•ã‚ŒãŸã™ã¹ã¦ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¯ãƒªãƒ¼ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« | âœ… **å®Œå…¨å†ç¾ï¼ˆ0ãƒ™ãƒ¼ã‚¹ï¼‰**      |\n| `.venv` ãŒ **å­˜åœ¨ã™ã‚‹**   | æ—¢å­˜ã®ç’°å¢ƒã‚’å†åˆ©ç”¨ã—ã¤ã¤ã€`uv.lock` ã¨å·®åˆ†ã‚’å–ã£ã¦æ›´æ–°                                 | âš ï¸ **æ•´åˆæ€§ãŒå´©ã‚Œã‚‹å¯èƒ½æ€§ã‚ã‚Š** |\n\nã¤ã¾ã‚Šã€`.venv` ã‚’ãƒ›ã‚¹ãƒˆã‹ã‚‰ã‚³ãƒ”ãƒ¼ã—ã¦ã—ã¾ã†ã¨ã€\n`uv sync` ã¯ã€Œã™ã§ã«å­˜åœ¨ã™ã‚‹ç’°å¢ƒã‚’æ›´æ–°ã™ã‚‹ã ã‘ã€ã¨åˆ¤æ–­ã—ã€\nå¤ã„ãƒã‚¤ãƒŠãƒªã‚„ OS ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒãã®ã¾ã¾æ®‹ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚\n\nã“ã®ãŸã‚ã€Docker ã®ä¸­ã§ã¯ã€Œ**.venvã‚’å«ã‚ãšã€å¸¸ã«0ã‹ã‚‰syncã™ã‚‹**ã€ã®ãŒå†ç¾æ€§ã®éµã§ã™ã€‚\n\n---\n\n### ğŸ”¹ pyproject.toml ã¨ uv.lock ã®é–¢ä¿‚\n\n`uv` ã®ä¾å­˜ç®¡ç†æ§‹é€ ã¯ã€Node.js ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ã¨éå¸¸ã«ä¼¼ã¦ã„ã¾ã™ã€‚\n\n| Python (uv)      | Node.js (pnpm/npm/yarn)                | å½¹å‰²                           |\n| ---------------- | -------------------------------------- | ------------------------------ |\n| `pyproject.toml` | `package.json`                         | ä¾å­˜é–¢ä¿‚ã®å®£è¨€ï¼ˆäººãŒç·¨é›†ã™ã‚‹ï¼‰ |\n| `uv.lock`        | `pnpm-lock.yaml` / `package-lock.json` | ä¾å­˜é–¢ä¿‚ã®å›ºå®šï¼ˆãƒã‚·ãƒ³ãŒç”Ÿæˆï¼‰ |\n\nã¤ã¾ã‚Š `uv.lock` ãŒå­˜åœ¨ã™ã‚Œã°ã€`.venv` ãŒãªãã¦ã‚‚\n**åŒä¸€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒ»åŒä¸€ä¾å­˜æ§‹æˆã®ç’°å¢ƒã‚’100%å†ç¾**ã§ãã¾ã™ã€‚\n\n```bash\n# å®Œå…¨å†ç¾æ§‹ç¯‰ï¼ˆDockerfileå†…ãªã©ã§ï¼‰\nuv sync --frozen\n```\n\n`--frozen` ã¯ã€ã€Œ`uv.lock` ã«è¨˜è¼‰ã•ã‚Œã¦ã„ãªã„å¤‰æ›´ã‚’ä¸€åˆ‡è¨±å¯ã—ãªã„ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã™ã€‚\nã“ã‚Œã«ã‚ˆã‚Šã€CI/CD ã‚„ Docker ãƒ“ãƒ«ãƒ‰æ™‚ã«é–‹ç™ºç’°å¢ƒã¨ã®å·®ç•°ã‚’é˜²ã’ã¾ã™ã€‚\n\n---\n\n### ğŸ”¹ ãªãœ uv ãªã‚‰ .venv ã‚’æ¨ã¦ã¦ã‚‚ã„ã„ã®ã‹\n\nå¾“æ¥ã® `pip install -r requirements.txt` ã§ã¯ã€\nä¾å­˜é–¢ä¿‚ã®è§£æ±ºãŒå®Ÿè¡Œç’°å¢ƒã”ã¨ã«å¾®å¦™ã«ç•°ãªã‚Šã€\nå†ç¾æ€§ã‚’ä¿è¨¼ã™ã‚‹ã®ãŒé›£ã—ã„å•é¡ŒãŒã‚ã‚Šã¾ã—ãŸã€‚\n\n`uv` ã¯ä¾å­˜ãƒ„ãƒªãƒ¼ã‚’å®Œå…¨ã«å›ºå®šã—ãŸçŠ¶æ…‹ã§ `.venv` ã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã€\n**ãƒ“ãƒ«ãƒ‰ã™ã‚‹ãŸã³ã«åŒã˜ç’°å¢ƒãŒå†ç¾ã•ã‚Œã‚‹**ã‚ˆã†è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚\nãã®ãŸã‚ã€`.venv` ã‚’ Docker ã«å«ã‚ã‚‹å¿…è¦ã¯ã¾ã£ãŸãã‚ã‚Šã¾ã›ã‚“ã€‚\n\n---\n\n### âœ… ã¾ã¨ã‚\n\n- `.venv` ãŒãªã„å ´åˆã¯ **0ãƒ™ãƒ¼ã‚¹ã§ã‚¯ãƒªãƒ¼ãƒ³æ§‹ç¯‰**\n- `.venv` ãŒã‚ã‚‹å ´åˆã¯ **å·®åˆ†åŒæœŸ** ã¨ãªã‚Šå†ç¾æ€§ã‚’æãªã†å¯èƒ½æ€§ã‚ã‚Š\n- `pyproject.toml` ï¼‹ `uv.lock` ãŒã‚ã‚Œã°ã€ç’°å¢ƒã‚’å®Œå…¨ã«å†ç¾å¯èƒ½\n- `uv sync --frozen` ã¯ CI/CD ã‚„ Docker ã§ã®å†ç¾æ€§ç¢ºä¿ã«å¿…é ˆ\n\n---\n\näº†è§£ã€‚ã“ã“ã¯ã€Œç†è«–ã‹ã‚‰å®Ÿè£…ã¸ã€ã¤ãªãç« ã ã­ã€‚\nç«  3 ã§ã€Œãªãœ `.venv` ã‚’æ¨ã¦ã‚‹ã®ã‹ã€ãŒæ˜ç¢ºã«ãªã£ãŸã®ã§ã€ã“ã“ã§ã¯\nã€Œã©ã†ã‚„ã£ã¦ãã‚Œã‚’Dockerã§å®Ÿç¾ã™ã‚‹ã‹ã€ã‚’ã€**æ®µéšçš„ã«ï¼‹å®Ÿç”¨çš„ã«**ã¾ã¨ã‚ã‚‹ğŸ‘‡\n\n---\n\n## 4. å®Ÿéš›ã® Docker æ§‹æˆä¾‹\n\nã“ã“ã§ã¯ã€å®Ÿéš›ã« **Python + uv + Docker** ã‚’ä½¿ã£ã¦\nã€Œãƒ›ã‚¹ãƒˆã¨åˆ†é›¢ã•ã‚ŒãŸå†ç¾æ€§ã®ã‚ã‚‹ç’°å¢ƒã€ã‚’æ§‹ç¯‰ã™ã‚‹ä¾‹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚\n\n---\n\n### ğŸ”¹ 4.1 æœ€å°æ§‹æˆã® Dockerfile.dev\n\nã¾ãšã¯æœ€å°é™ã®æ§‹æˆã‹ã‚‰è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\n\n```dockerfile\n# ./deploy/backend/Dockerfile.dev\nFROM python:3.13-slim\n\n# Pythonè¨­å®šï¼ˆ.pycã‚’ä½œã‚‰ãªã„ãƒ»ãƒãƒƒãƒ•ã‚¡ç„¡åŠ¹ï¼‰\nENV PYTHONDONTWRITEBYTECODE=1 \\\n    PYTHONUNBUFFERED=1\n\nWORKDIR /app\n\n# uvã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nRUN pip install --no-cache-dir uv\n\n# ä¾å­˜é–¢ä¿‚ã®åŒæœŸï¼ˆã¾ãšpyproject.tomlã¨uv.lockã ã‘ã‚’ã‚³ãƒ”ãƒ¼ï¼‰\nCOPY backend/pyproject.toml backend/uv.lock* ./\nRUN apt-get update && apt-get install -y --no-install-recommends pkg-config libmariadb-dev libmariadb-dev-compat build-essential \\\n    && rm -rf /var/lib/apt/lists/*\nRUN uv sync --frozen  # ã“ã“ã§.venvãŒç”Ÿæˆã•ã‚Œã‚‹\n\n# ã‚¢ãƒ—ãƒªæœ¬ä½“ã‚’ã‚³ãƒ”ãƒ¼\nCOPY backend/ .\n\nCMD [\"uv\", \"run\", \"python\", \"manage.py\", \"runserver\", \"0.0.0.0:8000\"]\n```\n\n### âœ… è§£èª¬\n\n- `COPY backend/pyproject.toml backend/uv.lock* ./`\n  â†’ ä¾å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã ã‘ã‚’å…ˆã«ã‚³ãƒ”ãƒ¼ã™ã‚‹ã“ã¨ã§ã€ã‚³ãƒ¼ãƒ‰æ›´æ–°æ™‚ã«ä¾å­˜å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’é¿ã‘ã‚‹ã€‚\n- `uv sync --frozen`\n  â†’ `.venv` ãŒå­˜åœ¨ã—ãªã‘ã‚Œã°æ–°è¦ä½œæˆã€ã‚ã‚Œã°å·®åˆ†æ›´æ–°ã€‚\n  Docker ãƒ“ãƒ«ãƒ‰ã§ã¯æ¯å›æ–°ã—ã„ã‚¤ãƒ¡ãƒ¼ã‚¸ä¸Šã§å®Ÿè¡Œã•ã‚Œã‚‹ãŸã‚ã€**å¸¸ã«0ãƒ™ãƒ¼ã‚¹æ§‹ç¯‰**ã€‚\n- `.dockerignore` ã« `.venv` ã‚’å«ã‚ã¦ãŠãã“ã¨ã§ã€\n  ãƒ›ã‚¹ãƒˆã«ã‚ã‚‹æ—¢å­˜ `.venv` ãŒèª¤ã£ã¦ãƒ“ãƒ«ãƒ‰ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«å«ã¾ã‚Œã‚‹ã®ã‚’é˜²ãã€‚\n\n---\n\n### ğŸ”¹ 4.2 .dockerignore ã®æ­£ã—ã„æ›¸ãæ–¹\n\n```bash\n# .dockerignore\nbackend/.venv\nfrontend/node_modules\n.git\n.DS_Store\n```\n\nã“ã‚Œã§ãƒ›ã‚¹ãƒˆä¸Šã® `.venv` ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã«å«ã‚ã‚‹ãƒªã‚¹ã‚¯ã‚’å®Œå…¨ã«æ’é™¤ã§ãã¾ã™ã€‚\nï¼ˆ`.git` ã‚’é™¤å¤–ã—ã¦ãŠãã®ã‚‚ä¸€èˆ¬çš„ã§ã™ã€‚ï¼‰\n\n---\n\n### ğŸ”¹ 4.3 docker-compose.dev.yml ã® volume è¨­è¨ˆ\n\nãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®æ§‹æˆã¨æ¯”è¼ƒã—ã¦ã€Python å´ã§ã‚‚åŒ¿åãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’è¨­å®šã™ã‚‹ã“ã¨ã§\nãƒ›ã‚¹ãƒˆã® `.venv` ãŒãƒã‚¦ãƒ³ãƒˆã•ã‚Œãªã„ã‚ˆã†ã«ã§ãã¾ã™ã€‚\n\n```yaml\nservices:\n  backend:\n    build:\n      context: ..\n      dockerfile: deploy/backend/Dockerfile.dev\n    volumes:\n      - ../backend:/app\n      - /app/__pycache__ # ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ±šæŸ“é˜²æ­¢\n      - /app/.venv # â† åŒ¿åãƒœãƒªãƒ¥ãƒ¼ãƒ ã§ãƒ›ã‚¹ãƒˆã¨åˆ‡ã‚Šé›¢ã™\n    env_file:\n      - .env.dev\n    ports:\n      - \"8000:8000\"\n```\n\n> ğŸ’¡ ã“ã“ã§ `/app/.venv` ã‚’åŒ¿åãƒœãƒªãƒ¥ãƒ¼ãƒ ã«ã™ã‚‹ã¨ã€\n> `../backend` ã®ãƒã‚¤ãƒ³ãƒ‰ãƒã‚¦ãƒ³ãƒˆãŒ `.venv` ã‚’ä¸Šæ›¸ãã§ããªããªã‚Šã€\n> ã‚³ãƒ³ãƒ†ãƒŠå°‚ç”¨ã®ä»®æƒ³ç’°å¢ƒãŒç¶­æŒã•ã‚Œã¾ã™ã€‚\n\n---\n\n### ğŸ”¹ 4.4 COPY é †åºã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹\n\nDockerfile ã® COPY é †åºã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥åŠ¹ç‡ã¨å†ç¾æ€§ã«ç›´çµã—ã¾ã™ã€‚\n\n| ã‚¹ãƒ†ãƒƒãƒ— | å†…å®¹                                 | ç†ç”±                         |\n| -------- | ------------------------------------ | ---------------------------- |\n| 1ï¸âƒ£       | `pyproject.toml`, `uv.lock` ã‚’ã‚³ãƒ”ãƒ¼ | ä¾å­˜é–¢ä¿‚ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æœ‰åŠ¹åŒ–   |\n| 2ï¸âƒ£       | `uv sync --frozen`                   | .venv æ§‹ç¯‰                   |\n| 3ï¸âƒ£       | ã‚¢ãƒ—ãƒªã‚³ãƒ¼ãƒ‰å…¨ä½“ã‚’ã‚³ãƒ”ãƒ¼             | ã‚³ãƒ¼ãƒ‰æ›´æ–°ã®ã¿ã§å†ãƒ“ãƒ«ãƒ‰å¯èƒ½ |\n\nã“ã®é †åºã‚’å®ˆã‚‹ã“ã¨ã§ã€`pip install` ã«æ¯”ã¹ã¦åœ§å€’çš„ã«é€Ÿã„ãƒ“ãƒ«ãƒ‰ãŒå®Ÿç¾ã§ãã¾ã™ã€‚\n\n---\n\n### âœ… ã¾ã¨ã‚\n\n- `.venv` ã¯ **ãƒ“ãƒ«ãƒ‰æ™‚ã« uv ãŒä½œã‚‹ã‚‚ã®**ã€ãƒ›ã‚¹ãƒˆã‹ã‚‰ã‚³ãƒ”ãƒ¼ã—ãªã„\n- `.dockerignore` ã§ãƒ›ã‚¹ãƒˆã® `.venv` ã‚’é™¤å¤–ã—ã¦ãŠãã®ãŒæœ€ã‚‚ç¢ºå®Ÿ\n- åŒ¿åãƒœãƒªãƒ¥ãƒ¼ãƒ  `/app/.venv` ã‚’ä½¿ã†ã¨ã€ãƒ›ã‚¹ãƒˆã¨ã®è¡çªã‚’å®Œå…¨ã«é˜²ã’ã‚‹\n- COPY é †åºã‚’æ•´ç†ã™ã‚Œã°ã‚­ãƒ£ãƒƒã‚·ãƒ¥åŠ¹ç‡ã‚‚è‰¯ããªã‚‹\n\n---\n\n## 5. ã‚ˆãã‚ã‚‹èª¤è§£ã¨ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³\n\nPython Ã— Docker ã®ç’°å¢ƒæ§‹ç¯‰ã§ `.venv` ã‚’æ‰±ã†éš›ã€å®Ÿå‹™ã§é »ç™ºã™ã‚‹èª¤è§£ã‚’æ•´ç†ã—ã¾ã™ã€‚\nã©ã‚Œã‚‚ä¸€è¦‹ã€Œå‹•ã„ã¦ã‚‹ã‚ˆã†ã«è¦‹ãˆã‚‹ã€ãŸã‚å„ä»‹ã§ã™ãŒã€å†ç¾æ€§ã‚„ãƒãƒ¼ãƒ é–‹ç™ºã§å•é¡Œã‚’å¼•ãèµ·ã“ã™å…¸å‹ä¾‹ã§ã™ã€‚\n\n---\n\n### ğŸ§© èª¤è§£â‘ ï¼šã€ŒåŒ¿åãƒœãƒªãƒ¥ãƒ¼ãƒ ã«ã™ã‚Œã°å®‰å…¨ã§ã—ã‚‡ï¼Ÿã€\n\nåŒ¿åãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’æŒ‡å®šã™ã‚Œã°ã€ç¢ºã‹ã«å®Ÿè¡Œæ™‚ã«ãƒ›ã‚¹ãƒˆã® `.venv` ãŒãƒã‚¦ãƒ³ãƒˆã•ã‚Œã‚‹ã®ã‚’é˜²ã’ã¾ã™ã€‚\nã—ã‹ã—ã€**Dockerfile å†…ã§ `COPY backend/ .` ã‚’ã—ã¦ã„ã‚‹å ´åˆã€ãƒ“ãƒ«ãƒ‰æ™‚ç‚¹ã§ `.venv` ãŒå«ã¾ã‚Œã¦ã—ã¾ã†** ãŸã‚æ„å‘³ãŒã‚ã‚Šã¾ã›ã‚“ã€‚\nã“ã‚Œã¯åŒ¿åãƒœãƒªãƒ¥ãƒ¼ãƒ ãŒ â€œã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•æ™‚â€ ã«é©ç”¨ã•ã‚Œã‚‹ä»•çµ„ã¿ã ã‹ã‚‰ã§ã™ã€‚\n\nğŸ‘‰ **è§£æ±ºç­–:**\n`.dockerignore` ã« `backend/.venv` ã‚’è¿½åŠ ã—ã€**ãƒ“ãƒ«ãƒ‰ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ**ã‹ã‚‰é™¤å¤–ã™ã‚‹ã€‚\n\n---\n\n### ğŸ§© èª¤è§£â‘¡ï¼šã€Œuv sync ã™ã‚Œã°ä¸Šæ›¸ãã•ã‚Œã‚‹ã§ã—ã‚‡ï¼Ÿã€\n\n`uv sync` ã¯ä¾å­˜é–¢ä¿‚ã‚’åŒæœŸã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã§ã™ãŒã€**0ãƒ™ãƒ¼ã‚¹ã§å†æ§‹ç¯‰ã™ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚**\næ—¢å­˜ã® `.venv` ãŒã‚ã‚‹å ´åˆã€ãã®ç’°å¢ƒã‚’ã€Œæ›´æ–°ã€ã—ã¦ã—ã¾ã†ãŸã‚ã€**ãƒ›ã‚¹ãƒˆã¨ã‚³ãƒ³ãƒ†ãƒŠã§ç•°ãªã‚‹ä¾å­˜é–¢ä¿‚ãŒæ··ã–ã‚‹å¯èƒ½æ€§**ãŒã‚ã‚Šã¾ã™ã€‚\n\nğŸ‘‰ **è§£æ±ºç­–:**\n`.venv` ã¯ãƒ›ã‚¹ãƒˆã¨ã‚³ãƒ³ãƒ†ãƒŠã§å…±æœ‰ã—ãªã„ã€‚\nå¸¸ã« `.dockerignore` ã§é™¤å¤–ã—ã€`uv sync --frozen` ã§ lock ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚‚ã¨ã«ã‚¯ãƒªãƒ¼ãƒ³æ§‹ç¯‰ã€‚\n\n---\n\n### ğŸ§© èª¤è§£â‘¢ï¼šã€Œãƒ›ã‚¹ãƒˆã® .venv ã‚’å…±æœ‰ã™ã‚Œã°é€Ÿã„ã€\n\nç¢ºã‹ã«ãƒ“ãƒ«ãƒ‰ã‚„èµ·å‹•ã¯é€Ÿããªã‚Šã¾ã™ãŒã€**OSä¾å­˜ãƒã‚¤ãƒŠãƒªï¼ˆä¾‹ï¼šCæ‹¡å¼µï¼‰**ãŒå…¥ã£ã¦ã„ã‚‹ãŸã‚å±é™ºã§ã™ã€‚\nmacOS ä¸Šã§ä½œã£ãŸ `.venv` ã‚’ Linux ã‚³ãƒ³ãƒ†ãƒŠã«ãƒã‚¦ãƒ³ãƒˆã™ã‚‹ã¨ã€\nã€Œã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚¨ãƒ©ãƒ¼ã€ã‚„ã€Œå…±æœ‰ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒè¦‹ã¤ã‹ã‚‰ãªã„ã€ãªã©ã®ä¸å…·åˆãŒç™ºç”Ÿã—ã¾ã™ã€‚\n\nğŸ‘‰ **è§£æ±ºç­–:**\nãƒ›ã‚¹ãƒˆã¨ã‚³ãƒ³ãƒ†ãƒŠã¯åˆ¥ã® `.venv` ã‚’æŒã¤ã®ãŒåŸå‰‡ã€‚\nãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å†ç¾æ€§ã¯ `uv.lock` ã«ä»»ã›ã‚‹ã€‚\n\n---\n\n### ğŸ§© èª¤è§£â‘£ï¼šã€ŒNode.js ã§ã¯å‹•ã„ã¦ã‚‹ã‹ã‚‰åŒã˜ã§ã—ã‚‡ï¼Ÿã€\n\nNode.js ã® `node_modules` ã¯ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ä¾å­˜ãŒå°‘ãªãã€**`pnpm install` ã¯å¸¸ã«0ãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰**ã•ã‚Œã¾ã™ã€‚\nä¸€æ–¹ã§ Python ã® `.venv` ã¯ OSãƒ»ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ä¾å­˜ã§ã‚ã‚Šã€**ãƒ›ã‚¹ãƒˆç’°å¢ƒã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹ã¨ç ´ç¶»ã—ã¾ã™ã€‚**\n\nğŸ‘‰ **è§£æ±ºç­–:**\nNode.js ã¨ Python ã®ç’°å¢ƒå†ç¾ãƒ¢ãƒ‡ãƒ«ã¯ç•°ãªã‚‹ã€‚\nPythonã§ã¯ã€Œ.venvã¯æ’é™¤ãƒ»å†æ§‹ç¯‰ã€ã€Nodeã§ã¯ã€Œnode_modulesã‚’åŒ¿åãƒœãƒªãƒ¥ãƒ¼ãƒ ã§å†ç”Ÿæˆã€ã€‚\n\n---\n\n### ğŸ§© èª¤è§£â‘¤ï¼šã€Œ.dockerignore ã„ã‚‰ãªã„ã§ã—ã‚‡ï¼Ÿã€\n\n`.dockerignore` ã‚’ä½¿ã‚ãªãã¦ã‚‚å‹•ãã‚ˆã†ã«è¦‹ãˆã‚‹ã‚±ãƒ¼ã‚¹ãŒã‚ã‚Šã¾ã™ãŒã€\n**å‹•ã â‰  å†ç¾æ€§ãŒä¿è¨¼ã•ã‚Œã¦ã„ã‚‹** ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nãƒ›ã‚¹ãƒˆã®ä¸è¦ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`.venv`, `__pycache__`, `.DS_Store`ãªã©ï¼‰ã¯ãƒ“ãƒ«ãƒ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ±šæŸ“ã—ã€\nåˆ¥ãƒã‚·ãƒ³ã§åŒã˜Dockerfileã‚’ä½¿ã£ã¦ã‚‚åŒä¸€ã®ç’°å¢ƒã«ãªã‚‰ãªã„ãƒªã‚¹ã‚¯ãŒã‚ã‚Šã¾ã™ã€‚\n\nğŸ‘‰ **è§£æ±ºç­–:**\n`.gitignore` ã¨ã¯åˆ¥ã«ã€**Dockerå°‚ç”¨ã®é™¤å¤–ãƒ«ãƒ¼ãƒ«**ã‚’å¿…ãšè¨­å®šã™ã‚‹ã€‚\nç‰¹ã« `.venv`, `.mypy_cache`, `.pytest_cache` ãªã©ã¯å¿…é ˆé™¤å¤–é …ç›®ã€‚\n\n---\n\n### âœ… ã¾ã¨ã‚\n\n| èª¤è§£                  | å•é¡Œç‚¹             | è§£æ±ºç­–                 |\n| --------------------- | ------------------ | ---------------------- |\n| åŒ¿åãƒœãƒªãƒ¥ãƒ¼ãƒ ã§OK    | ãƒ“ãƒ«ãƒ‰æ™‚ã«æ··å…¥     | `.dockerignore` ã§é™¤å¤– |\n| uv syncã§ä¸Šæ›¸ãã•ã‚Œã‚‹ | å·®åˆ†æ›´æ–°ã•ã‚Œã‚‹     | `uv sync --frozen`     |\n| ãƒ›ã‚¹ãƒˆã®.venvå…±æœ‰     | OSéäº’æ›           | åˆ†é›¢ãƒ»å†æ§‹ç¯‰           |\n| Node.jsã¨åŒã˜æ§‹æˆ     | å‹•ä½œãƒ¢ãƒ‡ãƒ«ãŒç•°ãªã‚‹ | Pythonå°‚ç”¨è¨­è¨ˆ         |\n| .dockerignoreä¸è¦     | å†ç¾æ€§ä½ä¸‹         | å¿…ãšè¨­å®š               |\n\n---\n\nã„ã„ç· ã‚ã«ã„ã“ã†ã€‚\nã“ã®ç« ã¯ â€œæŠ€è¡“çš„ãªçµè«–â€ ã ã‘ã˜ã‚ƒãªãã€**è€ƒãˆæ–¹ã®æŒ‡é‡**ã¨ã—ã¦çµ‚ã‚ã‚Œã‚‹ã¨èª­å¾Œæ„ŸãŒå¼·ãæ®‹ã‚‹ã€‚\nä»¥ä¸‹ã®ã‚ˆã†ã«ã¾ã¨ã‚ã‚‹ã®ãŒãƒ™ã‚¹ãƒˆğŸ‘‡\n\n---\n\n## 7. ã¾ã¨ã‚\n\nä»Šå›æ‰±ã£ãŸã®ã¯ã€å˜ãªã‚‹ `.venv` ã®é™¤å¤–è¨­å®šã§ã¯ãªãã€\n**ã€ŒPython Ã— Docker ã«ãŠã‘ã‚‹ç’°å¢ƒå†ç¾æ€§ã®æœ¬è³ªã€** ã§ã™ã€‚\n\n---\n\n### ğŸ§© å•é¡Œã®æœ¬è³ª\n\n- `.venv` ã«ã¯ **OSä¾å­˜ã®ãƒã‚¤ãƒŠãƒªã‚„ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯** ãŒå«ã¾ã‚Œã‚‹ãŸã‚ã€\n  ãƒ›ã‚¹ãƒˆã¨ã‚³ãƒ³ãƒ†ãƒŠã§å…±æœ‰ã™ã‚‹ã¨ **ç’°å¢ƒã®æ•´åˆæ€§ãŒå£Šã‚Œã‚‹**ã€‚\n- `uv sync` ã¯æ—¢å­˜ã® `.venv` ã‚’éƒ¨åˆ†çš„ã«æ›´æ–°ã™ã‚‹ä»•çµ„ã¿ã®ãŸã‚ã€\n  **ã‚¯ãƒªãƒ¼ãƒ³ãªçŠ¶æ…‹ã‹ã‚‰æ§‹ç¯‰ã—ãªã„é™ã‚Šå®Œå…¨å†ç¾ã«ã¯ãªã‚‰ãªã„**ã€‚\n\n---\n\n### ğŸ§° è§£æ±ºç­–ã®è¦ç‚¹\n\n| å±¤           | æ–¹é‡                                      | ç†ç”±                         |\n| ------------ | ----------------------------------------- | ---------------------------- |\n| **ãƒ“ãƒ«ãƒ‰æ™‚** | `.dockerignore` ã« `backend/.venv` ã‚’è¿½åŠ  | ãƒ›ã‚¹ãƒˆã® `.venv` æ··å…¥ã‚’é˜²æ­¢  |\n| **å®Ÿè¡Œæ™‚**   | åŒ¿åãƒœãƒªãƒ¥ãƒ¼ãƒ ã§ `.venv` ã‚’åˆ‡ã‚Šé›¢ã™       | ãƒã‚¦ãƒ³ãƒˆè¡çªã‚’é˜²æ­¢           |\n| **ç’°å¢ƒå†ç¾** | `uv sync --frozen`                        | `uv.lock` ã«åŸºã¥ã„ã¦å®Œå…¨åŒæœŸ |\n| **é–‹ç™ºåŠ¹ç‡** | VSCodeã§ã¯ãƒ­ãƒ¼ã‚«ãƒ«`.venv`ã‚’åˆ©ç”¨           | Lintã‚„è£œå®Œã¯ãƒ­ãƒ¼ã‚«ãƒ«å®Œçµã§OK |\n\n---\n\n### ğŸ’¡ å­¦ã¹ã‚‹æ•™è¨“\n\n1. **ã€Œå‹•ãã€ã“ã¨ã‚ˆã‚Šã€Œå†ç¾ã§ãã‚‹ã€ã“ã¨ãŒé‡è¦ã€‚**\n   ãƒãƒ¼ãƒ é–‹ç™ºã‚„CI/CDã§ã¯ã€åŒã˜Dockerfileã‹ã‚‰åŒã˜ç’°å¢ƒãŒå†ç¾ã§ãã‚‹ã“ã¨ãŒæœ€å„ªå…ˆã€‚\n\n2. **Pythonã¯Node.jsã‚ˆã‚Šã‚‚ç’°å¢ƒå·®ã®å½±éŸ¿ãŒå¤§ãã„ã€‚**\n   Nodeã§ã¯ä¾å­˜ãŒç´”ç²‹ã«JavaScriptã§å®Œçµã™ã‚‹ãŒã€\n   Pythonã¯ãƒã‚¤ãƒ†ã‚£ãƒ–ä¾å­˜ï¼ˆC, glibc, etc.ï¼‰ã‚’å¤šãå«ã‚€ãŸã‚æ…é‡ãªåˆ†é›¢ãŒå¿…è¦ã€‚\n\n3. **`.dockerignore` ã¯â€œå®‰å…¨å¼â€ã§ã‚ã‚Šã€å†ç¾æ€§ã®æœ€å¾Œã®ç ¦ã€‚**\n   ã€Œå‹•ãã‹ã‚‰ã„ã„ã€ã§ã¯ãªãã€Œä»–ã®ç’°å¢ƒã§ã‚‚ç¢ºå®Ÿã«å‹•ãã‹ã€ã§åˆ¤æ–­ã™ã‚‹ã€‚\n\n---\n\n### ğŸš€ çµè«–\n\n> `.venv` ã¯ã‚³ãƒ³ãƒ†ãƒŠã«å«ã‚ãªã„ã€‚\n> `uv.lock` ã¨ `uv sync --frozen` ã§å†ç¾ã™ã‚‹ã€‚\n> `.dockerignore` ã¯å¿…ãšè¨­å®šã™ã‚‹ã€‚\n\nã“ã‚ŒãŒã€**Python Ã— Docker Ã— uv ã®æœ€å°æ§‹æˆã§å†ç¾æ€§ã‚’æ‹…ä¿ã™ã‚‹æœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ãªè§£** ã§ã™ã€‚\n\näº†è§£ âœ…\nä»¥ä¸‹ã¯ã€TechBlog v2 ç”¨ã«ãã®ã¾ã¾ã‚³ãƒ”ãƒšã§ãã‚‹ **Markdown ãƒ•ãƒƒã‚¿ãƒ¼** å½¢å¼ã®å®Œæˆç‰ˆã§ã™ã€‚\nã™ã¹ã¦ä¸€æ¬¡æƒ…å ±ã®è‹±èªåŸæ–‡ï¼‹æ—¥æœ¬èªè¨³ï¼‹å…¬å¼ãƒªãƒ³ã‚¯ä»˜ãã§ã™ã€‚\n\n---\n\n## ğŸ“š å‚è€ƒæ–‡çŒ®ãƒ»ã‚½ãƒ¼ã‚¹\n\n### ğŸ§© **uv é–¢é€£ï¼ˆAstral Docsï¼‰**\n\n> â€œIf the project virtual environment (`.venv`) does not exist, it will be created.â€\n> â€œUpdate the project's environment.â€\n> â€œSyncing ensures that all project dependencies are installed and up-to-date with the lockfile.â€\n> ï¼ˆ`.venv` ãŒå­˜åœ¨ã—ãªã„å ´åˆã¯æ–°è¦ä½œæˆã•ã‚Œã€å­˜åœ¨ã™ã‚‹å ´åˆã¯æ›´æ–°ã•ã‚Œã‚‹ã€‚ãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ã«åŸºã¥ãä¾å­˜é–¢ä¿‚ã‚’æœ€æ–°åŒ–ã™ã‚‹ã€‚ï¼‰\n>\n> â€” [Astral Docs: uv â€“ Projects / uv sync](https://docs.astral.sh/uv/reference/commands/#uv-sync)\n\n---\n\n### ğŸ³ **Docker Ã— Python ç’°å¢ƒè¨­è¨ˆ**\n\n> â€œAvoid copying virtual environments from your local machine into Docker images.â€\n> ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ã®ä»®æƒ³ç’°å¢ƒã‚’ Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã«ã‚³ãƒ”ãƒ¼ã—ãªã„ã“ã¨ã€‚ï¼‰\n>\n> â€” [Docker Official Docs â€“ Language Guide (Python)](https://docs.docker.com/language/python/build-images/)\n\n> â€œTo exclude files not relevant to the build, without restructuring your source repository, use a `.dockerignore` file.â€\n> ï¼ˆãƒ“ãƒ«ãƒ‰ã«ä¸è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’é™¤å¤–ã™ã‚‹ã«ã¯ `.dockerignore` ã‚’ä½¿ç”¨ã™ã‚‹ã€‚ï¼‰\n>\n> â€” [Docker Docs â€“ `.dockerignore`](https://docs.docker.com/engine/reference/builder/#dockerignore-file)\n\n---\n\n### ğŸ **Python å…¬å¼ â€“ venv ã®ç§»æ¤æ€§ã«ã¤ã„ã¦**\n\n> â€œBecause of this, environments are inherently non-portable, in the general case.â€\n> ï¼ˆã“ã®ãŸã‚ä»®æƒ³ç’°å¢ƒã¯æœ¬è³ªçš„ã«ãƒãƒ¼ã‚¿ãƒ–ãƒ«ã§ã¯ãªã„ã€‚ï¼‰\n>\n> â€” [Python Docs â€“ venv (3.13)](https://docs.python.org/3/library/venv.html)\n\n---\n\n### ğŸ’½ **Docker â€“ Volume ã¨ Bind Mount ã®é•ã„**\n\n> â€œWhen you use a bind mount, a file or directory on the host machine is mounted from the host into a container.â€\n> ï¼ˆãƒã‚¤ãƒ³ãƒ‰ãƒã‚¦ãƒ³ãƒˆã§ã¯ãƒ›ã‚¹ãƒˆä¸Šã®ãƒ•ã‚¡ã‚¤ãƒ«ï¼ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ãã®ã¾ã¾ã‚³ãƒ³ãƒ†ãƒŠã¸ãƒã‚¦ãƒ³ãƒˆã™ã‚‹ã€‚ï¼‰\n>\n> â€œWhile bind mounts are dependent on the directory structure and OS of the host machine, volumes are completely managed by Docker.â€\n> ï¼ˆãƒã‚¤ãƒ³ãƒ‰ãƒã‚¦ãƒ³ãƒˆã¯ãƒ›ã‚¹ãƒˆã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã‚„ OS ã«ä¾å­˜ã™ã‚‹ãŒã€ãƒœãƒªãƒ¥ãƒ¼ãƒ ã¯ Docker ã«ã‚ˆã£ã¦å®Œå…¨ã«ç®¡ç†ã•ã‚Œã‚‹ã€‚ï¼‰\n>\n> â€” [Docker Docs â€“ Use bind mounts or volumes](https://docs.docker.com/storage/volumes/)\n\n---\n\n### ğŸ§± **Node.js Lockfile ã®å†ç¾æ€§**\n\n> â€œIt describes the exact tree that was generated, such that subsequent installs are able to generate identical trees, regardless of intermediate dependency updates.â€\n> ï¼ˆ`package-lock.json` ã¯ç”Ÿæˆã•ã‚ŒãŸä¾å­˜ãƒ„ãƒªãƒ¼ã‚’å³å¯†ã«è¨˜è¿°ã—ã€å¾Œã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§åŒä¸€ãƒ„ãƒªãƒ¼ã‚’å†ç¾ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚ï¼‰\n>\n> â€” [npm Docs â€“ About package-lock.json](https://docs.npmjs.com/cli/v9/configuring-npm/package-lock-json)\n\n> â€œCommit the lockfile (`pnpm-lock.yaml`) for faster installs and consistent installations.â€\n> ï¼ˆ`pnpm-lock.yaml` ã‚’ã‚³ãƒŸãƒƒãƒˆã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šé«˜é€Ÿã‹ã¤ä¸€è²«ã—ãŸã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå¯èƒ½ã«ãªã‚‹ã€‚ï¼‰\n>\n> â€” [pnpm Docs â€“ Lockfile](https://pnpm.io/lockfile)\n",
    "createdAt": "2025-10-05T08:13:59.482Z",
    "updatedAt": "2025-10-05T09:40:49.504Z"
  },
  {
    "title": "Radix UIã®dropdown menuã‚’é–‹ãã¨scrollbarãŒæ¶ˆãˆã¦ã‚¹ã‚¿ã‚¤ãƒ«ãŒå¤‰ã‚ã‚‹ã¨ãã®å¯¾å‡¦æ³•",
    "summary": "è¨˜äº‹ãŒãªã‹ã£ãŸã®ã§ä½œã‚‹",
    "tags": [
      "Next.js",
      "Web",
      "Webã‚¢ãƒ—ãƒªé–‹ç™º",
      "shadcn/ui",
      "CSS"
    ],
    "slug": "Next.js/redix-dropdown-error",
    "folder": "Next.js",
    "content": "\nRadix UIã®dropdown menuã‚’é–‹ãã¨ãã«ï¼Œã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ãŒæ¶ˆãˆã¦ã‚¹ã‚¿ã‚¤ãƒ«ãŒå¤‰ã‚ã£ã¦ã—ã¾ã†ã“ã¨ãŒã‚ã£ãŸï¼è¦‹æ „ãˆãŒæ‚ªã„ã®ã§ä¿®æ­£ã—ã‚ˆã†ã¨ã—ãŸãŒè¨˜äº‹ãŒãªãï¼Œä¿®æ­£ã«æ‰‹é–“å–ã£ãŸã®ã§ã“ã“ã«ä¿®æ­£æ–¹æ³•ã‚’è¨˜ã™ï¼\n\nè©²å½“ã®ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®é€šã‚Šï¼\n\n```tsx\n\"use client\";\nimport { Moon, Sun } from \"lucide-react\";\nimport { useTheme } from \"next-themes\";\n\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\n\nexport const ThemeToggle = ({ children }: { children: React.ReactNode }) => {\n  const { setTheme } = useTheme();\n\n  return (\n    <>\n      {children}\n\n      <DropdownMenu>\n        <DropdownMenuTrigger asChild>\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            className=\"\n              fixed bottom-8 right-8 \n              dark:text-gray-800 text-gray-200\n              hover:dark:text-gray-700 hover:text-gray-200\n              dark:bg-white bg-black\n              hover:dark:bg-gray-100 hover:bg-gray-950\n              dark:border-white border-black\n            \"\n          >\n            <Sun className=\"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\" />\n            <Moon className=\"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\" />\n            <span className=\"sr-only\">Toggle theme</span>\n          </Button>\n        </DropdownMenuTrigger>\n        <DropdownMenuContent\n          align=\"end\"\n          className=\"\n            dark:text-gray-800 text-gray-200\n            hover:dark:text-gray-700 hover:text-gray-200\n            dark:bg-white bg-black\n            hover:dark:bg-gray-100 hover:bg-gray-950\n            border-none\n          \"\n        >\n          <DropdownMenuItem\n            className=\"dark:hover:bg-gray-300 dark:hover:text-black\"\n            onClick={() => setTheme(\"light\")}\n          >\n            Light\n          </DropdownMenuItem>\n          <DropdownMenuItem\n            className=\"dark:hover:bg-gray-300 dark:hover:text-black\"\n            onClick={() => setTheme(\"dark\")}\n          >\n            Dark\n          </DropdownMenuItem>\n          <DropdownMenuItem\n            className=\"dark:hover:bg-gray-300 dark:hover:text-black\"\n            onClick={() => setTheme(\"system\")}\n          >\n            System\n          </DropdownMenuItem>\n        </DropdownMenuContent>\n      </DropdownMenu>\n    </>\n  );\n};\n```\n\nãƒœã‚¿ãƒ³è¦ç´ ãŒ`fixed`ã ã‹ã‚‰ãŠã‹ã—ããªã£ãŸã®ã‹ãªã¨ã¯æ€ã†ãŒ`fixed`ã¯ä½¿ã‚ã–ã‚‹ã‚’å¾—ãªã„ï¼ã¡ãªã¿ã«ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã§ã¯åŒæ§˜ã®ãƒã‚°ã¯ç™ºç”Ÿã—ãªã‹ã£ãŸï¼ã‚‚ã¡ã‚ã‚“ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ãŒå‡ºãªã„çŠ¶æ…‹ã§ã‚‚ç™ºç”Ÿã¯ã—ãªã„ï¼\n\nä¿®æ­£æ–¹æ³•ã¯ä»¥ä¸‹ã®é€šã‚Šï¼`grobals.css`ã«ã“ã‚Œã‚’è¿½åŠ ã™ã‚‹ã ã‘ï¼\n\n```css\nbody[data-scroll-locked][data-scroll-locked] {\n  overflow: auto !important;\n  margin-right: 0 !important;\n}\n```\n\n`data-scroll-locked`å±æ€§ãŒ2å›ä»˜ä¸ã•ã‚ŒãŸ`body`è¦ç´ ã«å¯¾ã—ã¦é©ç”¨ã—ã¦ã„ã‚‹ï¼ãŠãã‚‰ãJSã«ã‚ˆã£ã¦data-scroll-lockedã‚’bodyã«ä»˜ä¸ã™ã‚‹ã“ã¨ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’ç„¡åŠ¹åŒ–ã—ã¦ãŠã‚Šï¼Œdropdown menuã«ãã®æ©Ÿèƒ½ãŒã‚ã£ãŸã®ã§ã¯ãªã„ã‹ã¨æ¨æ¸¬ã—ã¦ã„ã‚‹ï¼\n\n`[data-scroll-locked][data-scroll-locked]`ã®ã‚ˆã†ã«2å›ä»˜ä¸ã•ã‚ŒãŸå ´åˆã—ã‹é©ç”¨ã§ããªã‹ã£ãŸï¼\n\nãã—ã¦ã“ã®æ™‚ã«`overflow: auto !important;`ã¨`margin-right: 0 !important;`ã‚’æŒ‡å®šã—ã¦ã„ã‚‹ï¼\n\nå‰è€…ã¯è¦ç´ ãŒã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã‚’ã—ãŸã¨ãã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚’è¡¨ç¤ºã•ã›ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ãŒï¼Œ`!important`ã«ã‚ˆã£ã¦ãã‚Œã‚’å„ªå…ˆçš„ã«é©ç”¨ã•ã›ã¦ã„ã‚‹ï¼\n\nã“ã®ã¨ãã«ãªãœã‹bodyã«`margin-right: 16px !important`ãŒä»˜ä¸ã•ã‚Œã‚‹ãŸã‚ï¼Œå¾Œè€…ã®ã‚ˆã†ã«æŒ‡å®šã™ã‚‹ã“ã¨ã§ãã‚Œã‚’ç„¡åŠ¹åŒ–ã—ã¦ã„ã‚‹ï¼\n\nå‚è€ƒ\n[shadcn/radix ui scrollbar removal bug](https://www.reddit.com/r/reactjs/comments/1fjcwkh/shadcnradix_ui_scrollbar_removal_bug/?rdt=60694)\n",
    "createdAt": "2025-07-21T07:23:48.458Z",
    "updatedAt": "2025-07-21T07:23:48.458Z"
  },
  {
    "title": "Ruby on Railsã§PostgreSQLã«æ¥ç¶šã™ã‚‹",
    "summary": "å¿˜ã‚ŒãŸã¨ãç”¨ã®ãƒ¡ãƒ¢",
    "tags": [
      "Ruby on Rails",
      "PostgreSQL"
    ],
    "slug": "ruby/ror-psql",
    "folder": "ruby",
    "content": "\n# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã‚‹\n\n```bash\nrails new new_app -d postgresql\n```\n\n> apié–‹ç™ºã®å ´åˆã¯`--api`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ã‚‹\n\n`rails db:create`ã‚’å¿˜ã‚Œãšã«\n\n## Gemfileã®ç·¨é›†\n\ndbã«å…¥ã‚‹ãŸã‚ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å®‰å…¨ã«è¨­å®šã™ã‚‹ãŸã‚ã«ï¼Œ`dotenv-rails`ã‚’å…¥ã‚Œã¦ãŠã\n\n```ruby\n# Gemfile\ngroup :development, :test do\n  # See https://guides.rubyonrails.org/debugging_rails_applications.html#debugging-with-the-debug-gem\n  gem \"debug\", platforms: %i[ mri mswin mswin64 mingw x64_mingw ], require: \"debug/prelude\"\n\n  # Static analysis for security vulnerabilities [https://brakemanscanner.org/]\n  gem \"brakeman\", require: false\n\n  # Omakase Ruby styling [https://github.com/rails/rubocop-rails-omakase/]\n  gem \"rubocop-rails-omakase\", require: false\n\n  gem 'dotenv-rails'\nend\n```\n\n# dbè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ç·¨é›†\n\n```yml\n# config/database.yml\ndefault: &default\n  adapter: postgresql\n  encoding: unicode\n  pool: <%= ENV.fetch(\"RAILS_MAX_THREADS\") { 5 } %>\n\ndevelopment:\n  <<: *default\n  database: sticky_backend_development\n\n  username: postgres\n\n  password: <%= ENV['DATABASE_PASSWORD'] %>\n\ntest:\n  <<: *default\n  database: sticky_backend_test\n  username: postgres\n  password: <%= ENV['DATABASE_PASSWORD'] %>\n\nproduction:\n  <<: *default\n  database: sticky_backend_production\n  username: postgres\n  password: <%= ENV['DATABASE_PASSWORD'] %>\n```\n\n> .envãƒ•ã‚¡ã‚¤ãƒ«ã«`DATABASE_PASSWORD`ã‚’è¨­å®šã™ã‚‹\n\n> æœ€å¾Œã«`rails db:create && rails db:migrate`ã‚’å¿˜ã‚Œãšã«ï¼\n",
    "createdAt": "2025-07-21T07:23:48.459Z",
    "updatedAt": "2025-07-21T07:23:48.459Z"
  },
  {
    "title": "shadcn/uiã§darkmodeã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã¨ãã®Hydration errorã‚’è§£æ±ºã™ã‚‹æ–¹æ³•",
    "summary": "å‚è€ƒã«ã—ãŸè¨˜äº‹ã‚’ãŸã ç´¹ä»‹ã™ã‚‹ã ã‘",
    "tags": [
      "Next.js",
      "Web",
      "Webã‚¢ãƒ—ãƒªé–‹ç™º",
      "å€‹äººé–‹ç™º",
      "shadcn/ui"
    ],
    "slug": "Next.js/shadcn-darkmode-hydration",
    "folder": "Next.js",
    "content": "\n`theme-provider.tsx`ã‚’\n\n```tsx\n\"use client\";\n\nimport { ThemeProvider as NextThemeProvider } from \"next-themes\";\nimport { type ThemeProviderProps } from \"next-themes/dist/types\";\nimport { useEffect, useState } from \"react\";\n\nexport const ThemeProvider = ({ children, ...props }: ThemeProviderProps) => {\n  const [mounted, setMounted] = useState<boolean>(false);\n  useEffect(() => {\n    setMounted(true);\n    return () => setMounted(false);\n  }, []);\n  return (\n    mounted && <NextThemeProvider {...props}>{children}</NextThemeProvider>\n  );\n};\n```\n\nã®ã‚ˆã†ã«ã™ã‚Œã°ã‚ˆã„ã‚‰ã—ã„ï¼ã“ã®ã‚ˆã†ã«ã—ãŸã‚‰æ²»ã£ãŸï¼\n\nå‚è€ƒ\n[DarkModeåˆ‡æ›¿æ™‚ã§ã®Hydration errorã®å¯¾å¿œç­–](https://zenn.dev/dk_/articles/dd9b0426e58f7d)\n",
    "createdAt": "2025-07-21T07:23:48.458Z",
    "updatedAt": "2025-07-21T07:23:48.458Z"
  },
  {
    "title": "The Basics of Neural Networks",
    "summary": "I explain neural networks without using confusing metaphors.",
    "tags": [
      "python",
      "Machine Learning",
      "Deep Learning",
      "Algorithm",
      "Neural Network"
    ],
    "slug": "Deep-Learning/NN-basics",
    "folder": "Deep-Learning",
    "content": "\n# Neural Networks\n\n---\n\nA neural network is similar to a function. However, it uses high-dimensional input values to output desired data. It can approximate very complex functions. A disadvantage is that it requires \"learning\" and lacks interpretability in its computation process.\n\n## Structure\n\n![Neural Network Structure](https://www.tel.co.jp/museum/magazine/communication/160229_report01_02/img/img_report01_03.jpg)\n\n### Input Layer\n\n$$\n\\mathbf x=[x_1,x_2,...,x_n]\\in\\mathbb R^n\n$$\n\n### Hidden Layers\n\n$$\n\\mathbf h_i=f_i(\\mathbf W_i\\mathbf h_{i-1}+\\mathbf b_i)\\quad\n\\left\\{\n\\begin{aligned}\nf_i&:\\mathbb R^{m_{i-1}}\\to\\mathbb R^{m_i}\\quad(\\text{activation function})\\\\\n\\mathbf W_i&\\in\\mathbb R^{m_i\\times m_{i-1}}\\quad(\\text{weight vector})\\\\\n\\mathbf h_i,\\mathbf b_i&\\in\\mathbb R^{m_i}\\quad(\\text{output and bias vector of layer } i)\n\\end{aligned}\n\\right.\n$$\n\n### Output Layer\n\n$$\n\\mathbf y=f_{out}(\\mathbf W_{out}\\mathbf h_{last}+\\mathbf b_{out})\n$$\n\n### Overall Function\n\n$$\n\\hat{\\mathbf y}=f_{NN}(x;\\theta)=f_{out}\\circ f_n\\circ f_{n-1}\\circ...\\circ f_1(\\mathbf W_1\\mathbf x+\\mathbf b_1)\n$$\n\nHere, \\( \\theta \\) represents the parameters, including \\( f \\), \\( W \\), \\( h \\), and \\( b \\).\n\n## Activation Functions\n\nActivation functions introduce non-linearity.\n\n### ReLU (Rectified Linear Unit)\n\n$$\nf(x)=\\max(0,x)\n$$\n\n### Sigmoid\n\n$$\nf(x)=\\frac{1}{1+\\exp(-x)}\n$$\n\n### Tanh\n\n$$\nf(x)=\\tanh(x)=\\frac{e^x-e^{-x}}{e^x+e^{-x}}\n$$\n\n### SoftPlus\n\nThe integral of the sigmoid function:\n\n$$\nf(x)=\\log(1+\\exp(x))\n$$\n\n## Learning Process\n\n### Forward Propagation\n\nThe calculation process from input to output:\n\n$$\n\\hat{\\mathbf y}=f_{NN}(x;\\theta)=f_{out}\\circ f_n\\circ f_{n-1}\\circ...\\circ f_1(\\mathbf W_1\\mathbf x+\\mathbf b_1)\n$$\n\n### Loss Function Calculation\n\nThe process of calculating the error using a loss function based on the output and target data. Examples include Mean Squared Error (MSE) and Cross-Entropy Loss.\n\n$$\n{\\cal L}=Loss(\\mathbf y,\\hat{\\mathbf y})\n$$\n\n### Backpropagation\n\nThe process of updating parameters based on the error using gradient descent.\n\n$$\n\\mathbf W_i\\leftarrow\\mathbf W_i-\\eta\\frac{\\partial{\\cal L}}{\\partial\\mathbf W_i},\\quad\\mathbf b_i\\leftarrow\\mathbf b_i-\\eta\\frac{\\partial{\\cal L}}{\\partial\\mathbf b_i}\\quad\n\\left\\{\n\\begin{aligned}\n&\\frac{\\partial{\\cal L}}{\\partial\\mathbf W_i}=\\frac{\\partial{\\cal L}}{\\partial\\hat{\\mathbf y}}\\cdot\\frac{\\partial\\hat{\\mathbf y}}{\\partial\\mathbf h_i}\\cdot\\frac{\\partial\\mathbf h_i}{\\partial\\mathbf W_i}\\\\\n&\\frac{\\partial{\\cal L}}{\\partial\\mathbf b_i}=\\frac{\\partial{\\cal L}}{\\partial\\hat{\\mathbf y}}\\cdot\\frac{\\partial\\hat{\\mathbf y}}{\\partial\\mathbf h_i}\\cdot\\frac{\\partial\\mathbf h_i}{\\partial\\mathbf b_i}\n\\end{aligned}\n\\right.\n$$\n\nThis process ensures the gradients guide the parameters toward lower error values. It allows for efficient updates, especially when far from the minimum.\n\n> ğŸ’¡ The reason \\( f'(x)=0 \\) is not directly computed is that it is computationally difficult for computers. Instead, gradient descent is used since it is easier to compute the derivative numerically.\n\n[Why Use Gradient Descent in Machine Learning](https://www.tomotaku.com/machine-learning-gradient-descent/)\n\n## Optimization Algorithms\n\n### Standard Gradient Descent\n\n$$\n\\theta_{t+1}=\\theta_t-\\eta\\nabla_\\theta{\\cal L}(\\theta_t)\n\\left\\{\n\\begin{aligned}\n\\theta_t:&\\text{parameters at time } t\\\\\n\\eta:&\\text{learning rate}\\\\\n\\nabla_\\theta{\\cal L}(\\theta_t):&\\text{gradient of the loss function at time } t\n\\end{aligned}\n\\right.\n$$\n\nStop when $||\\nabla_\\theta{\\cal}(\\theta_t)||<\\epsilon$, or use another stopping criterion.\n\n### Adam\n\nAdam is more suited to deep learning, as it converges faster than standard gradient descent.\n\n1. Compute the first moment: the moving average of the gradients (using exponential smoothing).\n\n   $$\n   m_t=\\beta_1m_{t-1}+(1-\\beta_1)\\nabla_\\theta{\\cal L}(\\theta_t)\n   $$\n\n2. Compute the second moment: the moving average of the squared gradients.\n\n   $$\n   v_t=\\beta_2v_{t-1}+(1-\\beta_2)(\\nabla_\\theta{\\cal L}(\\theta_t))^2\n   $$\n\n3. Bias correction:\n\n   $$\n   \\hat m_t=\\frac{m_t}{1-\\beta_1^t},~\\hat v_t=\\frac{v_t}{1-\\beta_2^t}\n   $$\n\n4. Update parameters:\n\n   $$\n   \\theta_{t+1}=\\theta_t-\\eta\\frac{\\hat m_t}{\\sqrt{\\hat v_t}+\\epsilon}\n   $$\n",
    "createdAt": "2025-07-21T07:23:48.457Z",
    "updatedAt": "2025-07-21T07:23:48.457Z"
  },
  {
    "title": "Understanding XGBoost",
    "summary": "I explained XGBoost in a university lecture!",
    "tags": [
      "AI",
      "Machine Learning",
      "Mathematics",
      "Explanation"
    ],
    "slug": "Machine-Learning/understanding-XGBoost",
    "folder": "Machine-Learning",
    "content": "\n# Introduction to XGBoost\n\n## Overview of XGBoost (eXtreme Gradient Boosting)\n\n- An ensemble learning method combining boosting and decision trees.\n- **Boosting**: A technique that iteratively creates weak models (weak learners), with each subsequent learner correcting the errors of the previous one, thereby improving performance.\n- Shallow decision trees are created, each of which performs well only on a portion of the data. Boosting improves their overall performance.\n- Although sensitive to parameter tuning, XGBoost can outperform Random Forest when configured correctly.\n- Despite the term \"regression tree,\" it can be used for both regression and classification tasks.\n\n---\n\n## Review: Decision Trees\n\nA method that learns conditional branching, often illustrated by games like Akinator.\n\n### Prerequisite Knowledge\n\n#### Information\n\nThe less frequent (rarer) an event, the greater its \"information content\":\n\n$$\ni(x) = -\\log_2 p(x)\n$$\n\n#### Impurity\n\n- **Entropy (Average Information Content)**  \n  A measure of randomness or disorder. It uses the expected value of information content based on occurrence probabilities:\n\n  $$\n  I_H(t) = -\\sum_{i=1}^c p(i|t) \\log_2 p(i|t) \\quad \\left(p(i|t) = \\frac{n_i}{N}: \\text{Probability of class } i \\text{ at node } t\\right)\n  $$\n\n- **Gini Impurity**  \n  Borrowed from econometrics:\n\n  $$\n  I_G(t) = 1 - \\sum_{i=1}^c p(i|t)^2\n  $$\n\n  A higher value indicates more mixed classes, i.e., **higher impurity** â†’ poor classification. Other metrics like misclassification rate can also be used.\n\n#### Gain\n\nThe difference in impurity between nodes before and after splitting. Higher gain indicates a greater reduction in impurity.\n\n##### Decision Tree Learning Using Gain\n\n1. For each feature, consider the midpoints of adjacent data points as threshold candidates.\n2. Compute the impurity after splitting at each candidate threshold.\n3. Split at the threshold that reduces impurity the most.\n4. Repeat recursively.\n5. Stop when a node contains too few data points or further splitting is not possible.\n\n$$\n\\Delta I_H(t) = I_H(t_B) - \\sum_{i=1}^b w_i I_{H_i}(t_{A_i})\n$$\n\n$$\n\\left(I_H(t_B): \\text{Impurity before branching, } \\sum_{i=1}^b w_i I_H(t_{A_i}): \\text{Weighted average impurity after branching}\\right)\n$$\n\n---\n\n# Ensemble Methods for Improved Generalization Performance\n\n**Ensemble Methods** combine multiple machine learning models to achieve better predictive performance than any single model.\n\nBy integrating predictions from different models, ensemble methods compensate for individual weaknesses, improving overall predictive accuracy and generalization performance.\n\n### Generalization Performance\n\nIndicates a model's ability to make accurate predictions on unseen data, not just the training data.\n\n#### Overfitting\n\n- A phenomenon where the model performs well on training data but poorly on test data.\n- Occurs when the model \"memorizes\" the training data, becoming unable to generalize to new data.\n- Analogous to scoring high on regular tests but poorly on mock or entrance exams.\n\n#### Weak Learners\n\nModels with low predictive accuracy that are prone to overfitting, such as shallow decision trees.\n\nFor example, if a model is trained to identify cats as animals with pointy ears, it might fail to recognize cats with rounded ears.\n\n#### Strong Learners\n\nModels with higher predictive accuracy than weak learners. Boosting transforms weak learners into a single strong learner system.\n\nFor instance, to identify cats, a weak learner that predicts based on pointy ears can be combined with another that identifies eye shape. By refining predictions iteratively, the overall system improves accuracy.\n\n---\n\n## Bagging\n\nAn ensemble technique designed to address overfitting. Multiple weak learners are created, and their predictions are aggregated using majority voting (for classification) or averaging (for regression) to enhance generalization performance.\n\n### Examples\n\n- RandomForest\n- BaggingClassifier/Regressor\n\n---\n\n## Boosting\n\n- Combines multiple weak learners.\n- Adjusts the weights of data points so that subsequent models focus more on previously misclassified points.\n- Each model reduces errors iteratively.\n\n### Examples of Boosting Models\n\n#### AdaBoost\n\nA general boosting method. Repeatedly creates weak learners, emphasizing misclassified points by adjusting their weights. Final predictions are made using a weighted majority vote of all weak learners.\n\n#### GBDT (Gradient Boosting Decision Tree)\n\nMinimizes the error between predicted values and true labels iteratively, gradually transforming weak learners into strong learners. The final model's output is the combined prediction of all learners.\n\n#### XGBoost (eXtreme Gradient Boosting)\n\nAn enhanced version of GBDT with features like regularization and parallel computation for improved performance.\n\n# Ensemble Methods Usage Guide\n\n| Ensemble Method | Model Examples              | Use Cases                                                                                                  | Priority                                             |\n| :-------------- | :-------------------------- | :--------------------------------------------------------------------------------------------------------- | :--------------------------------------------------- |\n| Bagging         | RandomForest                | When avoiding overfitting and at the initial stage of a project where useful features are not well-defined | First choice for bagging                             |\n|                 | BaggingClassifier/Regressor |                                                                                                            | For non-decision-tree models                         |\n| Boosting        | XGBoost, GradientBoosting   | When aiming for high accuracy, typically after EDA reveals useful features                                 | Often the first choice due to overfitting prevention |\n|                 | AdaBoost                    |                                                                                                            | For non-decision-tree models                         |\n| No Ensemble     | Single Model                | When interpretability of results is critical                                                               |                                                      |\n\n# Theory Behind XGBoost\n\n## AdaBoost\n\nA drawback of decision trees is that they can overfit or underfit if tree size is incorrectly chosen, making them a sensitive model.\n\n- **Idea**: Instead of building the entire tree at once, why not incrementally grow it?\n- Use a combination of weak learners.\n- Assign higher weights to misclassified data and lower weights to correctly classified data after each iteration.\n- Combine all nodes to create a robust tree.\n\n**Reference**: [Ensembles (4): AdaBoost](https://www.youtube.com/watch?v=ix6IvwbVpw0)\n\n## Gradient Boosting Decision Trees (GBDT)\n\n### Issues with AdaBoost\n\n1. Assigning high weights to misclassified data can also amplify noise, potentially causing overfitting.\n2. Simply adjusting weights without leveraging a loss function does not explicitly solve a minimization problem, which may not be optimal.\n\n### GBDT's Approach\n\nGBDT explicitly defines a loss function and solves its minimization problem.\n\n#### Key Concepts\n\n- **Loss Function**: Measures prediction error (e.g., Mean Squared Error or Cross-Entropy Loss).\n  $$\n  \\mathcal{L}(y, \\hat{y}) = \\frac{1}{n} \\sum_{i=1}^n (y_i - \\hat{y})^2\n  $$\n- **Gradient Descent**: Optimizes model parameters by minimizing the loss.\n  $$\n  \\theta^* = \\arg\\min_{\\theta} \\mathcal{L}(y, f_{\\theta}(\\mathbf{x})) \\equiv \\theta - \\eta \\frac{\\partial \\mathcal{L}(y, f_\\theta(\\mathbf{x}))}{\\partial \\theta}\n  $$\n\n#### Procedure\n\n1. Initialize predictions with a constant that minimizes the loss:\n   $$\n   F_0(\\mathbf{x}) = \\arg\\min_{\\hat{y}_0} \\sum_{i=1}^n \\mathcal{L}(y_i, \\hat{y}_0)\n   $$\n   For MSE:\n   $$\n   \\hat{y}_0 = \\frac{1}{n} \\sum_{i=1}^n y_i\n   $$\n2. Iteratively improve predictions:\n   - Compute residuals (errors):\n     $$\n     \\tilde{y}_0 = -\\frac{\\partial \\mathcal{L}(y, F_0(\\mathbf{x}))}{\\partial F_0(\\mathbf{x})}\n     $$\n   - Train a weak learner (e.g., decision tree) to predict residuals.\n   - Update predictions with optimal step size:\n     $$\n     F_1(\\mathbf{x}) = F_0(\\mathbf{x}) + \\rho_0 h_{\\theta_0}(\\mathbf{x})\n     $$\n\nThe process minimizes the overall loss function:\n\n$$\n\\mathcal{L} = \\sum_{i=1}^n \\mathcal{L}(y_i, F_k)\n$$\n\n## XGBoost\n\nXGBoost enhances GBDT by incorporating second-order derivatives (Hessian) and regularization terms.\n\n### Regularization\n\nIntroduces regularization to control model complexity:\n\n$$\n\\mathcal{L}^{(t)} = \\sum_{i=1}^n l(y_i, \\hat{y}_i^{(t-1)} + f_k(\\mathbf{x}_i)) + \\Omega(f_t)\n$$\n\n$$\n\\Omega(f_t) = \\gamma T + \\frac{1}{2} \\lambda \\sum_{j=1}^T w_j^2\n$$\n\nWhere:\n\n- \\( T \\): Number of leaves\n- \\( w_j \\): Leaf weight\n- \\( \\gamma, \\lambda \\): Hyperparameters\n\n### Taylor Approximation\n\nUses second-order Taylor expansion to approximate the loss function:\n\n$$\n\\mathcal{L}^{(t)} \\approx \\sum_{i=1}^n \\left[ g_i f_t(\\mathbf{x}_i) + \\frac{1}{2} h_i f_t^2(\\mathbf{x}_i) \\right] + \\Omega(f_t)\n$$\n\nWhere:\n\n- \\( g_i = \\frac{\\partial l(y_i, \\hat{y}^{(t-1)})}{\\partial \\hat{y}^{(t-1)}} \\) (gradient)\n- \\( h_i = \\frac{\\partial^2 l(y_i, \\hat{y}^{(t-1)})}{\\partial \\hat{y}^{(t-1)^2}} \\) (Hessian)\n\n### Optimal Solution\n\nOptimal weight for a leaf:\n\n$$\nw_j^* = -\\frac{\\sum_{i \\in I_j} g_i}{\\sum_{i \\in I_j} h_i + \\lambda}\n$$\n\nOptimal loss:\n\n$$\n\\mathcal{L}^{(t)}(w_j^*) = -\\frac{1}{2} \\sum_{j=1}^T \\frac{\\left(\\sum_{i \\in I_j} g_i\\right)^2}{\\sum_{i \\in I_j} (h_i + \\lambda)} + \\gamma T\n$$\n\n### Tree Construction\n\nLeaf gain is calculated as:\n\n$$\n\\text{Gain} = \\frac{G_L^2}{H_L + \\lambda} + \\frac{G_R^2}{H_R + \\lambda} - \\frac{G^2}{H + \\lambda} - \\gamma\n$$\n\n### Final Algorithm\n\n1. **Greedy Method**:\n   - Scan all split points to find the best one. High accuracy but computationally expensive.\n2. **Approximate Method**:\n   - Use candidate split points to reduce computation cost at the expense of accuracy.\n\n## Simplified XGBoost: LightGBM\n\nLightGBM is a faster, simpler alternative to XGBoost, offering high generalization performance. While not available in Exploratory, it is widely supported in Python and often serves as the default choice.\n",
    "createdAt": "2025-07-21T07:23:48.457Z",
    "updatedAt": "2025-07-21T07:23:48.457Z"
  },
  {
    "title": "Welcome!",
    "summary": "Let me introduce myself and this site!",
    "tags": [
      "profile",
      "about",
      "self"
    ],
    "slug": "index",
    "folder": ".",
    "content": "\n# ğŸ‘‹ Introduction\n\nHay! I'm Marte, a univ student.\n\nI study computer science, especially I'm into web development and machine learning (AI) like deep learning, generative model and so on.\n\nSo, I gonna think out loud what I am studying about!\n\n# ğŸ§  Developer Skill Map (Mindmap Style)\n\nA visual breakdown of my current skills, tools, projects, and learning focus as a full-stack developer.\n\n```mermaid\nmindmap\n  root((ğŸ§‘â€ğŸ’» Me as Developer))\n    Skills\n      Programming Languages\n        ::icon(fa fa-code)\n        TypeScript\n        Python\n        Go\n        Ruby\n        C\n      Frontend\n        ::icon(fa fa-laptop)\n        Next.js\n        Nuxt.js\n        React\n        Vue.js\n        Tailwind CSS\n        HTML/CSS\n      Backend\n        ::icon(fa fa-server)\n        Django\n        Ruby on Rails\n        REST APIs\n        WebSocket\n        Fiber\n      Database\n        ::icon(fa fa-database)\n        PostgreSQL\n        MySQL\n        SQLite\n        Redis\n        Elasticsearch\n    Tools & Tech\n      ::icon(fa fa-tools)\n      Development\n        Git / GitHub\n        Docker\n        VS Code\n        Vim / Neovim\n        Nginx\n      Cloud & DevOps\n        AWS\n        Vercel\n        GitHub Actions\n        CI/CD\n    Projects\n      ::icon(fa fa-rocket)\n      Major Works\n        Portfolio Site\n        TechBlog v1\n        TechBlog v2\n        é•·æœŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆ\n        å­¦ç”Ÿå›£ä½“å…¬å¼ã‚µã‚¤ãƒˆ\n    Activities\n      ::icon(fa fa-users)\n      æ•™è‚²æ´»å‹•\n        STEP (ä¸­å­¦ç”Ÿå‘ã‘ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°)\n        å¤§å­¦å†…DXæ”¯æ´ï¼ˆç¤¾ä¼šäººå‘ã‘ï¼‰\n    Learning\n      ::icon(fa fa-graduation-cap)\n      Currently Studying\n        æ·±å±¤å­¦ç¿’\n        Go + PostgreSQLè¨­è¨ˆ\n        OAuth & èªè¨¼ãƒ»èªå¯\n        APIè¨­è¨ˆï¼ˆREST / WebSocketï¼‰\n      Future Goals\n        ãƒ†ãƒƒã‚¯ãƒªãƒ¼ãƒ‰\n        AI/MLå¿œç”¨\n        ç”ŸæˆAIãƒ„ãƒ¼ãƒ«é–‹ç™º\n        ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n```\n\n# ğŸ•°ï¸ My Developer Journey (GitGraph Style)\n\nA chronological map of my developer journey, from entering CS to my current goals and practical experience.\n\n```mermaid\ngitGraph\n    commit id: \"ğŸ“ CSå­¦éƒ¨å…¥å­¦ (2023)\"\n    branch learning\n    checkout learning\n    commit id: \"ğŸ’» C/Pythonã§ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ å­¦ç¿’\"\n    commit id: \"ğŸ§  CSå­¦éƒ¨ã§ã®å­¦ã³ã‚¹ã‚¿ãƒ¼ãƒˆ\"\n    commit id: \"ğŸŒ Webé–‹ç™ºå­¦ç¿’ (Next.js, Django, Docker)\"\n    branch projects\n    checkout projects\n    commit id: \"ğŸ“¦ ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªä½œæˆ\"\n    checkout learning\n    commit id: \"ğŸ§ª TOEIC 730ãƒ»ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ã‚¹ç·¨å…¥ (2024/4)\"\n    commit id: \"ğŸ§¬ æ·±å±¤å­¦ç¿’ãƒ»ç”ŸæˆAIè¬›åº§ ä¿®äº†\"\n    branch activity\n    checkout activity\n    commit id: \"ğŸ§‘â€ğŸ« ä¸­å­¦ç”Ÿå‘ã‘ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æ•™è‚² (STEP)\"\n    commit id: \"ğŸ¢ DXæ”¯æ´æ´»å‹•ï¼ˆå¤§å­¦ï¼‰\"\n    checkout projects\n    commit id: \"ğŸŒ å­¦ç”Ÿå›£ä½“å…¬å¼ã‚µã‚¤ãƒˆ v1 (Next.js + Tailwind)\"\n    commit id: \"ğŸ“˜ TechBlog v1 (Next.js + Django)\"\n    checkout learning\n    commit id: \"âœ… åŸºæœ¬æƒ…å ±æŠ€è¡“è€…åˆæ ¼\"\n    checkout projects\n    commit id: \"ğŸ“¦ åœ¨åº«ç®¡ç†ãƒ•ãƒ­ãƒ³ãƒˆé–‹ç™º\"\n    commit id: \"ğŸ‘¥ ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  (Django + Tailwind)\"\n    branch career\n    checkout career\n    commit id: \"ğŸ’¼ é•·æœŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³é–‹å§‹ (2025/2ã€œ)\"\n    commit id: \"ğŸ› ï¸ å®Ÿå‹™é–‹ç™ºï¼šNext, Nuxt, Rails, Docker, AWS, Elastic\"\n    checkout projects\n    commit id: \"ğŸ› ï¸ å­¦ç”Ÿå›£ä½“å…¬å¼ã‚µã‚¤ãƒˆ v2 (Go + PSQL)\"\n    commit id: \"ğŸ“ TechBlog v2ä½œæˆä¸­\"\n    checkout learning\n    merge activity\n    checkout projects\n    merge learning\n    checkout career\n    merge projects\n    branch future\n    checkout future\n    commit id: \"ğŸ¯ ãƒ†ãƒƒã‚¯ãƒªãƒ¼ãƒ‰å¿—æœ›\"\n    commit id: \"ğŸ§‘â€ğŸ’» æŠ€è¡“ãƒ–ãƒ­ã‚°ãƒ»ç™ºä¿¡\"\n    checkout career\n    merge future\n```\n\n# ğŸ”— Links\n\n- [Github](https://github.com/keu-5)\n- [Qiita](https://qiita.com/keu5)\n",
    "createdAt": "2025-07-21T07:23:48.459Z",
    "updatedAt": "2025-07-21T07:23:48.459Z"
  },
  {
    "title": "ãƒ–ãƒ¼ã‚¹ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’C++ã§å®Ÿè£…ã—ã¦ã¿ãŸ",
    "summary": "äºŒé€²æ•°ã®æ›ã‘ç®—ã¯ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢å†…ã§ã©ã®ã‚ˆã†ã«è¡Œã‚ã‚Œã¦ã„ã‚‹ã®ã‹ã‚’ç¢ºèªã—ã¾ã—ãŸ",
    "tags": [
      "C++",
      "ãƒ–ãƒ¼ã‚¹ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ",
      "Algorithm"
    ],
    "slug": "algorithm/booth-cpp",
    "folder": "algorithm",
    "content": "\nãƒ–ãƒ¼ã‚¹ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ å®Ÿè£…ã—ãŸè¨˜äº‹ãŒè¦‹ã¤ã‹ã‚‰ãªã„ä¸Šã«ChatGPTã«èã„ã¦ã‚‚çš„å¤–ã‚Œãªã‚³ãƒ¼ãƒ‰ã—ã‹å‡ºæ¥ä¸ŠãŒã‚‰ãªã„ã®ã§è‡ªåˆ†ã§ä½œã£ã¦ã¿ã¾ã—ãŸï¼\n\n# ãƒ–ãƒ¼ã‚¹ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨ã¯ï¼Ÿ\n\nç¬¦å·ä»˜ãäºŒé€²æ•°ã®ä¹—ç®—ã‚’åŠ¹ç‡çš„ã«è¡Œã†æ‰‹æ³•ã§ã™ï¼åŠ ç®—å™¨ä½œã£ãŸãªã‚‰ã‚‚ã¡ã‚ã‚“ä¹—ç®—å™¨ã‚‚ä½œã‚ŠãŸããªã‚‹ã‚ˆã­ï¼Ÿã§ã‚‚åŠ ç®—ã‚’ä½•åº¦ã‚‚ã™ã‚‹ä¹—ç®—ã¯è¨ˆç®—ã«æ™‚é–“ãŒã‹ã‹ã£ã¦ã—ã¾ã†ã®ã§ï¼Œãƒ–ãƒ¼ã‚¹ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãŒç·¨ã¿å‡ºã•ã‚Œã¾ã—ãŸï¼\n\n## ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®æ¦‚è¦\n\nã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼\n\n1. è¢«ä¹—æ•°ã¨ä¹—æ•°ã‚’äºŒã®è£œæ•°è¡¨ç¾ã§ç”¨æ„ã—ã¾ã™ï¼(ä»Šå›ã¯4bitåˆ†ç”¨æ„ã—ã¦ã¿ã¾ã™)\n2. è¢«ä¹—æ•°ã«ã¤ã„ã¦ã¯ï¼Œç¬¦å·ã‚’å¤‰ãˆãŸã‚‚ã®ã‚‚ç”¨æ„ã—ã¦ãŠãã¾ã™ï¼(ã‚‚ã¡ã‚ã‚“è£œæ•°è¡¨ç¾ã‚’ä½¿ç”¨ã—ã¾ã™ãŒï¼Œã‚ã‹ã‚Šã‚„ã™ã„ã‚ˆã†ã«ä»¥é™ã¯ã€Œ-è¢«ä¹—æ•°ã€ã¨ã—ã¾ã™)\n3. $A$ã‚’ã€Œè¢«ä¹—æ•° + 00000ã€,$S$ã‚’ã€Œ-è¢«ä¹—æ•° + 00000ã€ã¨ã—ã¾ã™ï¼\n4. $P_0$ã‚’ã€Œ0000 + ä¹—æ•° + 0ã€ã¨ã—ã¾ã™ï¼\n5. æ¼¸åŒ–çš„ã«$P_n$ã‚’æ±‚ã‚ã¦ã„ãã¾ã™ï¼4bitåŒå£«ã®æ¼”ç®—ã®å ´åˆï¼Œ$P_4$ã¾ã§æ±‚ã‚ã¾ã™ï¼\n   - $P_{n}$ã®æœ«å°¾2bitãŒã€Œ00ã€ã‚ã‚‹ã„ã¯ã€Œ11ã€ã®å ´åˆï¼Œ$P_{n}$ã‚’ç®—è¡“å³ã‚·ãƒ•ãƒˆã—ãŸã‚‚ã®ã‚’$P_n$ã¨ã™ã‚‹\n   - æœ«å°¾ãŒã€Œ01ã€ã®å ´åˆï¼Œ$P_{n}$ã«$A$ã‚’åŠ ç®—ã—ãŸã†ãˆã§å³ã‚·ãƒ•ãƒˆã—ãŸã‚‚ã®ã‚’$P_{n+1}$ã¨ã™ã‚‹\n   - æœ«å°¾ãŒã€Œ10ã€ã®å ´åˆï¼Œ$P_{n}$ã«$S$ã‚’åŠ ç®—ã—ãŸã†ãˆã§å³ã‚·ãƒ•ãƒˆã—ãŸã‚‚ã®ã‚’$P_{n+1}$ã¨ã™ã‚‹\n6. $P_4$ã®ä¸Šä½8æ¡ãŒè§£ã¨ãªã‚Šã¾ã™ï¼\n\nè©³ã—ãã¯[ã‚·ãƒ•ãƒˆæ¼”ç®—ã¨ã¯ï¼Ÿè«–ç†ã‚·ãƒ•ãƒˆã¨ç®—è¡“ã‚·ãƒ•ãƒˆã®é•ã„ã‚’èª¿ã¹ã‚ˆã†ï¼](https://itmanabi.com/shift-operation/)ã‚’å‚è€ƒã«ã™ã‚‹ã¨è‰¯ã„ã§ã™ï¼\n\n# C++ã«ã‚ˆã‚‹å®Ÿè£…\n\nåˆ¥ã«Cã§ã‚‚æ›¸ã‘ã‚‹ã‚“ã§ã™ã‘ã©ï¼Œç·´ç¿’ã—ãŸã„ã®ã§C++ã§æ›¸ãã¾ã™ï¼\n\n## ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚„å®šæ•°ãªã©\n\n```cpp\n#include <iostream>\n#include <vector>\n\nconstexpr int BIT_SIZE = 4;\nconstexpr int TABLE_SIZE = 2 * BIT_SIZE + 1;\n\nusing namespace std;\n```\n\n## BoothAlgorithmã‚¯ãƒ©ã‚¹ã®æ§‹ç¯‰\n\nå¿…è¦ãªå¤‰æ•°ã¯\n\n1. è¢«ä¹—æ•°\n1. -è¢«ä¹—æ•°\n1. $P_0$\n\nã§ï¼Œå¿…è¦ãªé–¢æ•°ã¯ï¼Œ\n\n1. æ•´æ•°ã‚’äºŒé€²æ•°ã«å¤‰æ›ã™ã‚‹é–¢æ•°\n1. ç®—è¡“å³ã‚·ãƒ•ãƒˆã•ã›ã‚‹é–¢æ•°\n1. äºŒé€²æ•°åŠ ç®—ã•ã›ã‚‹é–¢æ•°\n1. $P_{n+1}$ã‚’æ±‚ã‚ã‚‹é–¢æ•°\n1. é…åˆ—ã‚’è¡¨ç¤ºã•ã›ã‚‹é–¢æ•°\n1. å†å¸°çš„ã«$P$ã‚’æ±‚ã‚ã‚‹é–¢æ•°\n\nã§ã™ï¼\n\n### ãƒ¡ãƒ³ãƒå¤‰æ•°\n\nã¾ãšã¯å¿…è¦ãªãƒ¡ãƒ³ãƒå¤‰æ•°ã‚’ç”¨æ„ã—ã¾ã™ï¼å…ˆã»ã©ã¨åŒæ§˜ã«$A$ã¯è¢«ä¹—æ•°ï¼Œ$S$ã¯-è¢«ä¹—æ•°ï¼Œ$P_0$ã‚’ä¹—æ•°ã¨ã—ã¾ã™ï¼\n\n```cpp\nclass BoothAlgorithm {\n  public:\n  private:\n   vector<int> A, S, P_0, Result;\n```\n\n### æ•´æ•°ã‚’äºŒé€²æ•°ã«å¤‰æ›ã™ã‚‹é–¢æ•°to_binary\n\n` binary[bit_size - 1 - i] = (x >> i) & 1;`ã¨ã™ã‚‹ã“ã¨ã§ï¼Œ10é€²æ•°ã®å€¤ã‚’2é€²æ•°ã«ã—ãŸã¨ãã«iæ¡ç›®ã®å€¤ã‚’å¯¾å¿œã™ã‚‹é…åˆ—ã«æ ¼ç´ã—ã¦ã„ãã¾ã™ï¼\n\n```cpp\n    vector<int> to_binary(int x, int bit_size) {\n      vector<int> binary(bit_size, 0);\n\n      for (int i = 0; i < bit_size; i++) {\n          binary[bit_size - 1 - i] = (x >> i) & 1;\n      }\n\n      return binary;\n    }\n```\n\n### ç®—è¡“ã‚·ãƒ•ãƒˆã•ã›ã‚‹é–¢æ•°right_shift\n\nç®—è¡“ã‚·ãƒ•ãƒˆã§ã™ã®ã§æœ€ä¸Šä½ãƒ“ãƒƒãƒˆã®å‡¦ç†ã«æ°—ã‚’ã¤ã‘ã¾ã™ï¼\n\n```cpp\n    void right_shift(vector<int>& vec) {\n      for (int i = vec.size() - 1; i > 0; --i) {\n        vec[i] = vec[i - 1];\n      }\n      vec[0] = vec[0] == 1 ? 1 : 0;\n    }\n```\n\n### äºŒé€²æ•°åŠ ç®—ã•ã›ã‚‹é–¢æ•°add_vectors\n\nå˜ç´”ã«è¦ç´ ã”ã¨ã«åŠ ç®—ã•ã›ã‚‹ã¨ï¼Œ10é€²æ•°ã¨ã—ã¦è¨ˆç®—ã—ã¦ã—ã¾ã†ãŸã‚ï¼ŒäºŒé€²æ•°ã¨ã—ã¦ã®ç¹°ã‚Šä¸ŠãŒã‚Šã‚’è€ƒæ…®ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼\n\n```cpp\n    vector<int> add_vectors(const vector<int>& vec1, const vector<int>& vec2) {\n      vector<int> result(vec1.size());\n      int carry = 0;\n\n      for (size_t i = vec1.size(); i-- > 0;) {\n        int sum = vec1[i] + vec2[i] + carry;\n        result[i] = sum % 2;\n        carry = sum / 2;\n      }\n\n      return result;\n    }\n```\n\n### $P_{n+1}$ã‚’æ±‚ã‚ã‚‹é–¢æ•°conditional_shift\n\n- $P_{n}$ã®æœ«å°¾2bitãŒã€Œ00ã€ã‚ã‚‹ã„ã¯ã€Œ11ã€ã®å ´åˆï¼Œ$P_{n}$ã‚’ç®—è¡“å³ã‚·ãƒ•ãƒˆã—ãŸã‚‚ã®ã‚’$P_n$ã¨ã™ã‚‹\n- æœ«å°¾ãŒã€Œ01ã€ã®å ´åˆï¼Œ$P_{n}$ã«$A$ã‚’åŠ ç®—ã—ãŸã†ãˆã§å³ã‚·ãƒ•ãƒˆã—ãŸã‚‚ã®ã‚’$P_{n+1}$ã¨ã™ã‚‹\n- æœ«å°¾ãŒã€Œ10ã€ã®å ´åˆï¼Œ$P_{n}$ã«$S$ã‚’åŠ ç®—ã—ãŸã†ãˆã§å³ã‚·ãƒ•ãƒˆã—ãŸã‚‚ã®ã‚’$P_{n+1}$ã¨ã™ã‚‹\n\nã¨ã„ã†æ¡ä»¶ã‚’ã‚‚ã¨ã«ã‚·ãƒ•ãƒˆã•ã›ã‚‹é–¢æ•°ã‚’ä½œã‚Šã¾ã™ï¼\n\n```cpp\n    vector<int> conditional_shift(const vector<int>& A, const vector<int>& S, const vector<int>& P) {\n      vector<int> result = P;\n\n      if (P[TABLE_SIZE - 2] == P[TABLE_SIZE - 1]) {\n        right_shift(result);\n      } else if (P[TABLE_SIZE - 2] == 0) {\n        result = add_vectors(result, A);\n\n        right_shift(result);\n      } else {\n        result = add_vectors(result, S);\n\n        right_shift(result);\n      }\n\n      return result;\n    }\n```\n\n### é…åˆ—ã‚’è¡¨ç¤ºã•ã›ã‚‹é–¢æ•°\n\nã‚ã‚‹ã¨ã‚ã‹ã‚Šã‚„ã™ã„ã­\n\n```cpp\n    void print_array(const vector<int>& arr) {\n      for (int i = 0; i < arr.size(); i++) {\n        cout << arr[i] << \" \";\n      }\n      cout << endl;\n    }\n```\n\n### å†å¸°çš„ã«$P$ã‚’æ±‚ã‚ã‚‹é–¢æ•°\n\nå…ˆã»ã©ä½œã£ãŸ`conditional_shift()`ã‚’ä½¿ã£ã¦$P_1\\sim P_4$ã¾ã§å†å¸°çš„ã«è¨ˆç®—ã•ã›ã¾ã™ï¼\n\n```cpp\n    vector<int> booth_algorithm(vector<int>& A, vector<int>& S, vector<int>& P, int count = BIT_SIZE) {\n      if (count > 0) {\n        P = conditional_shift(A, S, P);\n\n        cout << \"P_\" << BIT_SIZE - count + 1 << \": \";\n        print_array(P);\n\n        return booth_algorithm(A, S, P, count - 1);\n      } else {\n        vector<int> Result(TABLE_SIZE - 1, 0);\n\n        for (int i = 0; i < TABLE_SIZE - 1; i++) {\n          Result[i] = P[i];\n        }\n\n        return Result;\n      }\n    }\n```\n\n### ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãªã©\n\nã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§ã¯ï¼Œæ•´æ•°x, yã‚’å—ã‘å–ã‚Šï¼Œ2é€²æ•°ã«å¤‰æ›ã—ã¤ã¤é©åˆ‡ãªå½¢å¼ã«å¤‰æ›ã—ã¦ï¼Œå„ãƒ¡ãƒ³ãƒå¤‰æ•°ã«ä»£å…¥ã—ã¦ã„ãã¾ã™ï¼ã¾ãŸå®Ÿè¡Œã®ãŸã‚ã«é–¢æ•°runã‚’ç”¨æ„ã—ã¾ã™ï¼\n\n```cpp\n  public:\n    BoothAlgorithm(int x, int y) {\n      A.resize(TABLE_SIZE, 0);\n      S.resize(TABLE_SIZE, 0);\n      P_0.resize(TABLE_SIZE, 0);\n      Result.resize(TABLE_SIZE - 1, 0);\n\n      vector<int> binary_x = to_binary(x, BIT_SIZE);\n      vector<int> binary_minus_x = to_binary(-x, BIT_SIZE);\n      vector<int> binary_y = to_binary(y, BIT_SIZE);\n\n      for (int i = 0; i < BIT_SIZE; i++) {\n        A[i] = binary_x[i];\n        S[i] = binary_minus_x[i];\n        P_0[i + BIT_SIZE] = binary_y[i];\n      }\n    }\n\n    void run() {\n      cout << \"P_0: \";\n      print_array(P_0);\n\n      Result = booth_algorithm(A, S, P_0);\n\n      cout << \"Result: \";\n      print_array(Result);\n    }\n```\n\n## mainé–¢æ•°\n\nã‚ã¨ã¯mainé–¢æ•°ã‚’æ›¸ã‘ã°å®Œæˆã§ã™ï¼\n\n```cpp\nint main() {\n  int x, y;\n  cin >> x >> y;\n\n  BoothAlgorithm booth(x, y);\n  booth.run();\n\n  return 0;\n}\n```\n\n# å®Ÿéš›ã«å®Ÿè¡Œã—ã¦ã¿ã‚‹\n\n```zsh\nâ¯ cpp booth.cpp\n-6 5\nP_0: 0 0 0 0 0 1 0 1 0\nP_1: 0 0 1 1 0 0 1 0 1\nP_2: 1 1 1 0 1 0 0 1 0\nP_3: 0 0 1 0 0 1 0 0 1\nP_4: 1 1 1 0 0 0 1 0 0\nResult: 1 1 1 0 0 0 1 0\n\nâ¯ cpp booth.cpp\n5 -6\nP_0: 0 0 0 0 1 0 1 0 0\nP_1: 0 0 0 0 0 1 0 1 0\nP_2: 1 1 0 1 1 0 1 0 1\nP_3: 0 0 0 1 0 1 0 1 0\nP_4: 1 1 1 0 0 0 1 0 1\nResult: 1 1 1 0 0 0 1 0\n\nâ¯ cpp booth.cpp\n4 -3\nP_0: 0 0 0 0 1 1 0 1 0\nP_1: 1 1 1 0 0 1 1 0 1\nP_2: 0 0 0 1 0 0 1 1 0\nP_3: 1 1 1 0 1 0 0 1 1\nP_4: 1 1 1 1 0 1 0 0 1\nResult: 1 1 1 1 0 1 0 0\n```\n\nå®Ÿéš›ã«å®Ÿè¡Œã—ã¦ã¿ã‚‹ã¨ä¸Šè¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼ä¾‹ãˆã°ï¼Œ$5\\times -6$ã¨ã„ã†æ¼”ç®—ã‚’ãƒ–ãƒ¼ã‚¹ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§è§£ã„ãŸå ´åˆï¼Œ$P_4=(11100010)_2=(-30)_{10}$ã®ã‚ˆã†ã«ï¼Œç¢ºã‹ã«æ­£ã—ãè¨ˆç®—ã§ãã¦ã„ã¾ã™ï¼\n\nã¾ãŸï¼Œ$-6\\times 5$ã§ã‚‚åŒã˜ã‚ˆã†ãªçµæœã¨ãªã£ã¦ãŠã‚Šï¼Œä¹—æ³•ã®äº¤æ›å¾‹ã‚‚æˆã‚Šç«‹ã£ã¦ã„ã¾ã™ï¼\n\n$4\\times -3$ã‚‚åŒæ§˜ã«æ­£ã—ãè¨ˆç®—ã§ãã¦ã„ã¾ã™ï¼\n\n# ã‚³ãƒ¼ãƒ‰ã®å…¨ä½“åƒ\n\næœ€å¾Œã«ã‚³ãƒ¼ãƒ‰ã®å…¨ä½“åƒã‚’è²¼ã£ã¦ãŠãã¾ã™ï¼\n\n```cpp\n#include <iostream>\n#include <vector>\n\nconstexpr int BIT_SIZE = 4;\nconstexpr int TABLE_SIZE = 2 * BIT_SIZE + 1;\n\nusing namespace std;\n\nclass BoothAlgorithm {\n  public:\n    BoothAlgorithm(int x, int y) {\n      A.resize(TABLE_SIZE, 0);\n      S.resize(TABLE_SIZE, 0);\n      P_0.resize(TABLE_SIZE, 0);\n      Result.resize(TABLE_SIZE - 1, 0);\n\n      vector<int> binary_x = to_binary(x, BIT_SIZE);\n      vector<int> binary_minus_x = to_binary(-x, BIT_SIZE);\n      vector<int> binary_y = to_binary(y, BIT_SIZE);\n\n      for (int i = 0; i < BIT_SIZE; i++) {\n        A[i] = binary_x[i];\n        S[i] = binary_minus_x[i];\n        P_0[i + BIT_SIZE] = binary_y[i];\n      }\n    }\n\n    void run() {\n      cout << \"P_0: \";\n      print_array(P_0);\n\n      Result = booth_algorithm(A, S, P_0);\n\n      cout << \"Result: \";\n      print_array(Result);\n    }\n\n  private:\n    vector<int> A, S, P_0, Result;\n\n    void right_shift(vector<int>& vec) {\n      for (int i = vec.size() - 1; i > 0; --i) {\n        vec[i] = vec[i - 1];\n      }\n      vec[0] = vec[0] == 1 ? 1 : 0;\n    }\n\n    vector<int> add_vectors(const vector<int>& vec1, const vector<int>& vec2) {\n      vector<int> result(vec1.size());\n      int carry = 0;\n\n      for (size_t i = vec1.size(); i-- > 0;) {\n        int sum = vec1[i] + vec2[i] + carry;\n        result[i] = sum % 2;\n        carry = sum / 2;\n      }\n\n      return result;\n    }\n\n    vector<int> to_binary(int x, int bit_size) {\n      vector<int> binary(bit_size, 0);\n\n      for (int i = 0; i < bit_size; i++) {\n          binary[bit_size - 1 - i] = (x >> i) & 1;\n      }\n\n      return binary;\n    }\n\n    vector<int> conditional_shift(const vector<int>& A, const vector<int>& S, const vector<int>& P) {\n      vector<int> result = P;\n\n      if (P[TABLE_SIZE - 2] == P[TABLE_SIZE - 1]) {\n        right_shift(result);\n      } else if (P[TABLE_SIZE - 2] == 0) {\n        result = add_vectors(result, A);\n\n        right_shift(result);\n      } else {\n        result = add_vectors(result, S);\n\n        right_shift(result);\n      }\n\n      return result;\n    }\n\n    void print_array(const vector<int>& arr) {\n      for (int i = 0; i < arr.size(); i++) {\n        cout << arr[i] << \" \";\n      }\n      cout << endl;\n    }\n\n    vector<int> booth_algorithm(vector<int>& A, vector<int>& S, vector<int>& P, int count = BIT_SIZE) {\n      if (count > 0) {\n        P = conditional_shift(A, S, P);\n\n        cout << \"P_\" << BIT_SIZE - count + 1 << \": \";\n        print_array(P);\n\n        return booth_algorithm(A, S, P, count - 1);\n      } else {\n        vector<int> Result(TABLE_SIZE - 1, 0);\n\n        for (int i = 0; i < TABLE_SIZE - 1; i++) {\n          Result[i] = P[i];\n        }\n\n        return Result;\n      }\n    }\n};\n\nint main() {\n  int x, y;\n  cin >> x >> y;\n\n  BoothAlgorithm booth(x, y);\n  booth.run();\n\n  return 0;\n}\n```\n",
    "createdAt": "2025-07-21T07:23:48.458Z",
    "updatedAt": "2025-07-21T07:23:48.458Z"
  }
]